!function(r,e){"use strict";r.addEventListener("DOMContentLoaded",function(){var t=[];[].slice.call(r.querySelectorAll(".com-dpcalendar-tools-translate .dp-resource")).forEach(function(e){t.push(e)}),function c(o,u,s){DPCalendar.request("task=translate.fetch",function(e){for(var t in e.languages){var r=e.languages[t],n=o.querySelector('.dp-resource__language[data-language="'+r.tag+'"] .dp-resource__percentage');if(n){n.innerHTML=r.percent+"%";var a="success";if(r.percent<30?a="important":r.percent<50?a="warning":r.percent<100&&(a="info"),n.parentElement.classList.add("dp-resource_"+a),u>=s.length)return;c(s[u],u+1,s)}}},"resource="+o.getAttribute("data-slug"))}(t[0],1,t)}),e.submitbutton=function(e){if("translate.update"==e){var t=[];[].slice.call(r.querySelectorAll(".com-dpcalendar-tools-translate .dp-resource:nth-child(-n+6)")).forEach(function(e){e.querySelector(".dp-resource__icon i").setAttribute("class","icon-loop"),t.push(e)}),function t(r,n,a){DPCalendar.request("task=translate.update",function(e){r.querySelector(".dp-resource__icon i").setAttribute("class","icon-checkmark-circle"),n>=a.length||t(a[n],n+1,a)},"resource="+r.getAttribute("data-slug"))}(t[0],1,t)}return!0}}(document,Joomla);