!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarResourceCommon={},e.FullCalendar)}(this,function(e,u){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function t(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var v=function(){return(v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var r=e.resourceEditable;if(null==r){var n=e.sourceId&&t.state.eventSources[e.sourceId];n&&(r=n.extendedProps.resourceEditable),null==r&&null==(r=t.opt("eventResourceEditable"))&&(r=t.opt("editable"))}return r}var r=(o.prototype.transform=function(e,t,r,n){if(t.class.needsResourceData)return{resourceStore:this.filterResources(r.resourceStore,n.opt("filterResourcesWithEvents"),r.eventStore,r.dateProfile.activeRange),resourceEntityExpansions:r.resourceEntityExpansions}},o);function o(){this.filterResources=u.memoize(s)}function s(e,t,r,n){if(t){var o=function(e,t){var r={};for(var n in e)for(var o=e[n],s=0,i=t[o.defId].resourceIds;s<i.length;s++){var a=i[s];r[a]=!0}return r}(function(e,t){return u.filterHash(e,function(e){return u.rangesIntersect(e.range,t)})}(r.instances,n),r.defs);return v(o,function(e,t){var r={};for(var n in e)for(var o=void 0;(o=t[n])&&(n=o.parentId);)r[n]=!0;return r}(o,e)),u.filterHash(e,function(e,t){return o[t]})}return e}var a=(l.prototype.transform=function(e,t,r){if(!t.class.needsResourceData)return{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(r.resourceStore))}},l);function l(){this.buildResourceEventUis=u.memoizeOutput(c,u.isPropsEqual),this.injectResourceEventUis=u.memoize(d)}function c(e){return u.mapHash(e,function(e){return e.ui})}function d(e,r,n){return u.mapHash(e,function(e,t){return t?function(e,t,r){for(var n=[],o=0,s=t.resourceIds;o<s.length;o++){var i=s[o];r[i]&&n.unshift(r[i])}return n.unshift(e),u.combineEventUis(n)}(e,r[t],n):e})}var p={id:String},h=[],f=0;function y(e){h.push(e)}function g(e,t,r){var n=u.refineProps(e,p);return n.sourceId=String(f++),n.sourceDefId=r,n.meta=t,n.publicId=n.id,n.isFetching=!1,n.latestFetchId="",n.fetchRange=null,delete n.id,n}function m(e,t,r,n){switch(t.type){case"INIT":return E(n.opt("resources"),n);case"RESET_RESOURCE_SOURCE":return E(t.resourceSourceInput,n,!0);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return function(e,t,r){return!r.opt("refetchResourcesOnNavigate")||function(e){return Boolean(h[e.sourceDefId].ignoreRange)}(e)||e.fetchRange&&u.rangesEqual(e.fetchRange,t)?e:R(e,t,r)}(e,r.activeRange,n);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function(e,t,r){return t!==e.latestFetchId?e:v({},e,{isFetching:!1,fetchRange:r})}(e,t.fetchId,t.fetchRange);case"REFETCH_RESOURCES":return R(e,r.activeRange,n);default:return e}}var S=0;function E(e,t,r){if(e){var n=function(e){for(var t=h.length-1;0<=t;t--){var r=h[t].parseMeta(e);if(r){var n=g("object"==typeof e&&e?e:{},r,t);return n._raw=e,n}}return null}(e);return!r&&t.opt("refetchResourcesOnNavigate")||(n=R(n,null,t)),n}return null}function R(e,t,r){var n=function(e){return h[e]}(e.sourceDefId),o=String(S++);return n.fetch({resourceSource:e,calendar:r,range:t},function(e){r.afterSizingTriggers._resourcesRendered=[null],r.dispatch({type:"RECEIVE_RESOURCES",fetchId:o,fetchRange:t,rawResources:e.rawResources})},function(e){r.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:o,fetchRange:t,error:e})}),v({},e,{isFetching:!0,latestFetchId:o})}var b={id:String,title:String,parentId:String,businessHours:null,children:null,extendedProps:null},C="_fc:",w=0;function D(e,t,r,n){void 0===t&&(t="");var o={},s=u.refineProps(e,b,{},o),i={},a=u.processScopedUiProps("event",o,n,i);if(s.id||(s.id=C+w++),s.parentId||(s.parentId=t),s.businessHours=s.businessHours?u.parseBusinessHours(s.businessHours,n):null,s.ui=a,s.extendedProps=v({},i,s.extendedProps),Object.freeze(a.classNames),Object.freeze(s.extendedProps),r[s.id]);else if((r[s.id]=s).children){for(var l=0,c=s.children;l<c.length;l++){D(c[l],s.id,r,n)}delete s.children}return s}function I(e,t,r,n){switch(t.type){case"INIT":return{};case"RECEIVE_RESOURCES":return function(e,t,r,n,o){{if(n.latestFetchId!==r)return e;for(var s={},i=0,a=t;i<a.length;i++){D(a[i],"",s,o)}return s}}(e,t.rawResources,t.fetchId,r,n);case"ADD_RESOURCE":return function(e,t){return v({},e,t)}(e,t.resourceHash);case"REMOVE_RESOURCE":return function(e,t){var r=v({},e);for(var n in delete r[t],r)r[n].parentId===t&&(r[n]=v({},r[n],{parentId:""}));return r}(e,t.resourceId);case"SET_RESOURCE_PROP":return function(e,t,r,n){var o,s,i=e[t];return i?v({},e,((o={})[t]=v({},i,((s={})[r]=n,s)),o)):e}(e,t.resourceId,t.propName,t.propValue);case"RESET_RESOURCES":return u.mapHash(e,function(e){return v({},e)});default:return e}}var T={resourceId:String,resourceIds:function(e){return(e||[]).map(function(e){return String(e)})},resourceEditable:Boolean};var x=(P.prototype.setProp=function(e,t){this._calendar.dispatch({type:"SET_RESOURCE_PROP",resourceId:this._resource.id,propName:e,propValue:t})},P.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_RESOURCE",resourceId:this._resource.id})},P.prototype.getParent=function(){var e=this._calendar,t=this._resource.parentId;return t?new P(e,e.state.resourceSource[t]):null},P.prototype.getChildren=function(){var e=this._resource.id,t=this._calendar,r=t.state.resourceStore,n=[];for(var o in r)r[o].parentId===e&&n.push(new P(t,r[o]));return n},P.prototype.getEvents=function(){var e=this._resource.id,t=this._calendar,r=t.state.eventStore,n=r.defs,o=r.instances,s=[];for(var i in o){var a=o[i],l=n[a.defId];-1!==l.resourceIds.indexOf(e)&&s.push(new u.EventApi(t,l,a))}return s},Object.defineProperty(P.prototype,"id",{get:function(){return this._resource.id},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"title",{get:function(){return this._resource.title},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventConstraint",{get:function(){return this._resource.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventOverlap",{get:function(){return this._resource.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventAllow",{get:function(){return this._resource.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventBackgroundColor",{get:function(){return this._resource.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventBorderColor",{get:function(){return this._resource.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventTextColor",{get:function(){return this._resource.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventClassNames",{get:function(){return this._resource.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"extendedProps",{get:function(){return this._resource.extendedProps},enumerable:!0,configurable:!0}),P);function P(e,t){this._calendar=e,this._resource=t}u.Calendar.prototype.addResource=function(e,t){var r,n,o;return void 0===t&&(t=!0),e instanceof x?((r={})[(o=e._resource).id]=o,n=r):o=D(e,"",n={},this),t&&this.component.view.addScroll({forcedRowId:o.id}),this.dispatch({type:"ADD_RESOURCE",resourceHash:n}),new x(this,o)},u.Calendar.prototype.getResourceById=function(e){if(e=String(e),this.state.resourceStore){var t=this.state.resourceStore[e];if(t)return new x(this,t)}return null},u.Calendar.prototype.getResources=function(){var e=this.state.resourceStore,t=[];if(e)for(var r in e)t.push(new x(this,e[r]));return t},u.Calendar.prototype.getTopLevelResources=function(){var e=this.state.resourceStore,t=[];if(e)for(var r in e)e[r].parentId||t.push(new x(this,e[r]));return t},u.Calendar.prototype.rerenderResources=function(){this.dispatch({type:"RESET_RESOURCES"})},u.Calendar.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};var _,H=(t(A,_=u.Splitter),A.prototype.getKeyInfo=function(e){return v({"":{}},e.resourceStore)},A.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},A.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},A);function A(){return null!==_&&_.apply(this,arguments)||this}function O(e,t){return v({},t,{constraints:function(o,e){return e.map(function(e){var t=e.defs;if(t)for(var r in t){var n=t[r].resourceIds;if(n.length&&-1===n.indexOf(o))return!1}return e})}(e,t.constraints)})}u.EventApi.prototype.getResources=function(){var t=this._calendar;return this._def.resourceIds.map(function(e){return t.getResourceById(e)})},u.EventApi.prototype.setResources=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var o=n[r],s=null;"string"==typeof o?s=o:"number"==typeof o?s=String(o):o instanceof x?s=o.id:console.warn("unknown resource type: "+o),s&&t.push(s)}this.mutate({standardProps:{resourceIds:t}})};var z="2019-08-10",M=372,j=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],k={position:"absolute","z-index":99999,bottom:"1px",left:"1px",background:"#eee","border-color":"#ddd","border-style":"solid","border-width":"1px 1px 0 0",padding:"2px 4px","font-size":"12px","border-top-right-radius":"3px"};var B={resources:function(e,t,r){var n=t.state.resourceSource._raw;r(n,e)||t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:e})}};function F(t,r){return"function"==typeof t?function(e){return t(new x(r,e))}:function(e){return e.title||function(e){return 0===e.indexOf(C)?"":e}(e.id)}}y({ignoreRange:!0,parseMeta:function(e){return Array.isArray(e)?e:Array.isArray(e.resources)?e.resources:null},fetch:function(e,t){t({rawResources:e.resourceSource.meta})}}),y({parseMeta:function(e){return"function"==typeof e?e:"function"==typeof e.resources?e.resources:null},fetch:function(e,t,r){var n=e.calendar.dateEnv,o=e.resourceSource.meta,s={};e.range&&(s={start:n.toDate(e.range.start),end:n.toDate(e.range.end),startStr:n.formatIso(e.range.start),endStr:n.formatIso(e.range.end),timeZone:n.timeZone}),u.unpromisify(o.bind(null,s),function(e){t({rawResources:e})},r)}}),y({parseMeta:function(e){if("string"==typeof e)e={url:e};else if(!e||"object"!=typeof e||!e.url)return null;return{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams}},fetch:function(e,r,n){var t=e.resourceSource.meta,o=function(e,t,r){var n,o,s,i,a=r.dateEnv,l={};t&&(n=r.opt("startParam"),o=r.opt("endParam"),s=r.opt("timeZoneParam"),l[n]=a.formatIso(t.start),l[o]=a.formatIso(t.end),"local"!==a.timeZone&&(l[s]=a.timeZone));i="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};return v(l,i),l}(t,e.range,e.calendar);u.requestJson(t.method,t.url,o,function(e,t){r({rawResources:e,xhr:t})},function(e,t){n({message:e,xhr:t})})}});var N,G=(t(U,N=u.Component),U.prototype.destroy=function(){u.removeElement(this.el)},U.prototype.render=function(e){var t;this.dateFormat=u.createFormatter(this.opt("columnHeaderFormat")||u.computeFallbackHeaderFormat(e.datesRepDistinctDays,e.dates.length)),t=1===e.dates.length?this.renderResourceRow(e.resources):this.datesAboveResources?this.renderDayAndResourceRows(e.dates,e.resources):this.renderResourceAndDayRows(e.resources,e.dates),this.thead.innerHTML=t,this.processResourceEls(e.resources)},U.prototype.renderResourceRow=function(e){var t=this,r=e.map(function(e){return t.renderResourceCell(e,1)});return this.buildTr(r)},U.prototype.renderDayAndResourceRows=function(e,t){for(var r=[],n=[],o=0,s=e;o<s.length;o++){var i=s[o];r.push(this.renderDateCell(i,t.length));for(var a=0,l=t;a<l.length;a++){var c=l[a];n.push(this.renderResourceCell(c,1,i))}}return this.buildTr(r)+this.buildTr(n)},U.prototype.renderResourceAndDayRows=function(e,t){for(var r=[],n=[],o=0,s=e;o<s.length;o++){var i=s[o];r.push(this.renderResourceCell(i,t.length));for(var a=0,l=t;a<l.length;a++){var c=l[a];n.push(this.renderDateCell(c,1,i))}}return this.buildTr(r)+this.buildTr(n)},U.prototype.renderResourceCell=function(e,t,r){var n=this.dateEnv;return'<th class="fc-resource-cell" data-resource-id="'+e.id+'"'+(r?' data-date="'+n.formatIso(r,{omitTime:!0})+'"':"")+(1<t?' colspan="'+t+'"':"")+">"+u.htmlEscape(this.resourceTextFunc(e))+"</th>"},U.prototype.renderDateCell=function(e,t,r){var n=this.props;return u.renderDateCell(e,n.dateProfile,n.datesRepDistinctDays,n.dates.length*n.resources.length,this.dateFormat,this.context,t,r?'data-resource-id="'+r.id+'"':"")},U.prototype.buildTr=function(e){return e.length||(e=["<td>&nbsp;</td>"]),this.props.renderIntroHtml&&(e=[this.props.renderIntroHtml()].concat(e)),this.isRtl&&e.reverse(),"<tr>"+e.join("")+"</tr>"},U.prototype.processResourceEls=function(n){var o=this,s=this.view;u.findElements(this.thead,".fc-resource-cell").forEach(function(e,t){t%=n.length,o.isRtl&&(t=n.length-1-t);var r=n[t];s.publiclyTrigger("resourceRender",[{resource:new x(o.calendar,r),el:e,view:s}])})},U);function U(e,t){var r=N.call(this,e)||this;return r.datesAboveResources=r.opt("datesAboveResources"),r.resourceTextFunc=F(r.opt("resourceText"),r.calendar),t.innerHTML="",t.appendChild(r.el=u.htmlToElement('<div class="fc-row '+r.theme.getClass("headerRow")+'"><table class="'+r.theme.getClass("tableGrid")+'"><thead></thead></table></div>')),r.thead=r.el.querySelector("thead"),r}var L=(W.prototype.buildCells=function(){for(var e=this.rowCnt,t=this.dayTable,r=this.resources,n=[],o=0;o<e;o++){for(var s=[],i=0;i<t.colCnt;i++)for(var a=0;a<r.length;a++){var l=r[a],c='data-resource-id="'+l.id+'"';s[this.computeCol(i,a)]={date:t.cells[o][i].date,resource:l,htmlAttrs:c}}n.push(s)}return n},W);function W(e,t){this.dayTable=e,this.resources=t,this.resourceIndex=new $(t),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*t.length,this.cells=this.buildCells()}var q,V=(t(J,q=L),J.prototype.computeCol=function(e,t){return t*this.dayTable.colCnt+e},J.prototype.computeColRanges=function(e,t,r){return[{firstCol:this.computeCol(e,r),lastCol:this.computeCol(t,r),isStart:!0,isEnd:!0}]},J);function J(){return null!==q&&q.apply(this,arguments)||this}var K,Z=(t(X,K=L),X.prototype.computeCol=function(e,t){return e*this.resources.length+t},X.prototype.computeColRanges=function(e,t,r){for(var n=[],o=e;o<=t;o++){var s=this.computeCol(o,r);n.push({firstCol:s,lastCol:s,isStart:o===e,isEnd:o===t})}return n},X);function X(){return null!==K&&K.apply(this,arguments)||this}var Y,$=function(e){for(var t={},r=[],n=0;n<e.length;n++){var o=e[n].id;r.push(o),t[o]=n}this.ids=r,this.indicesById=t,this.length=e.length},Q=(t(ee,Y=u.Splitter),ee.prototype.getKeyInfo=function(e){var t=e.resourceDayTable,r=u.mapHash(t.resourceIndex.indicesById,function(e){return t.resources[e]});return r[""]={},r},ee.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},ee.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},ee);function ee(){return null!==Y&&Y.apply(this,arguments)||this}var te=[],re=(ne.prototype.joinProps=function(e,t){for(var r=[],n=[],o=[],s=[],i=[],a=[],l="",c=0,u=t.resourceIndex.ids.concat([""]);c<u.length;c++){var d=u[c],p=e[d];r.push(p.dateSelectionSegs),n.push(d?p.businessHourSegs:te),o.push(d?p.fgEventSegs:te),s.push(p.bgEventSegs),i.push(p.eventDrag),a.push(p.eventResize),l=l||p.eventSelection}return{dateSelectionSegs:this.joinDateSelection.apply(this,[t].concat(r)),businessHourSegs:this.joinBusinessHours.apply(this,[t].concat(n)),fgEventSegs:this.joinFgEvents.apply(this,[t].concat(o)),bgEventSegs:this.joinBgEvents.apply(this,[t].concat(s)),eventDrag:this.joinEventDrags.apply(this,[t].concat(i)),eventResize:this.joinEventResizes.apply(this,[t].concat(a)),eventSelection:l}},ne.prototype.joinSegs=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=e.resources.length,o=[],s=0;s<n;s++){for(var i=0,a=t[s];i<a.length;i++){var l=a[i];o.push.apply(o,this.transformSeg(l,e,s))}for(var c=0,u=t[n];c<u.length;c++)l=u[c],o.push.apply(o,this.transformSeg(l,e,s))}return o},ne.prototype.expandSegs=function(e,t){for(var r=e.resources.length,n=[],o=0;o<r;o++)for(var s=0,i=t;s<i.length;s++){var a=i[s];n.push.apply(n,this.transformSeg(a,e,o))}return n},ne.prototype.joinInteractions=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=e.resources.length,o={},s=[],i=!1,a=null,l=0;l<n;l++){var c=t[l];if(c){for(var u=0,d=c.segs;u<d.length;u++){var p=d[u];s.push.apply(s,this.transformSeg(p,e,l))}v(o,c.affectedInstances),i=i||c.isEvent,a=a||c.sourceSeg}if(t[n])for(var h=0,f=t[n].segs;h<f.length;h++)p=f[h],s.push.apply(s,this.transformSeg(p,e,l))}return{affectedInstances:o,segs:s,isEvent:i,sourceSeg:a}},ne);function ne(){this.joinDateSelection=u.memoize(this.joinSegs),this.joinBusinessHours=u.memoize(this.joinSegs),this.joinFgEvents=u.memoize(this.joinSegs),this.joinBgEvents=u.memoize(this.joinSegs),this.joinEventDrags=u.memoize(this.joinInteractions),this.joinEventResizes=u.memoize(this.joinInteractions)}function oe(e,t,r,n,o,s){var i=[];return function e(t,r,n,o,s,i,a){for(var l=0;l<t.length;l++){var c=t[l],u=c.group;if(u)if(n){var d=r.length,p=o.length;if(e(c.children,r,n,o.concat(0),s,i,a),d<r.length){var h=r[d],f=h.rowSpans=h.rowSpans.slice();f[p]=r.length-d}}else{var v=u.spec.field+":"+u.value,y=null!=i[v]?i[v]:a;r.push({id:v,group:u,isExpanded:y}),y&&e(c.children,r,n,o,s+1,i,a)}else if(c.resource){var v=c.resource.id,y=null!=i[v]?i[v]:a;r.push({id:v,rowSpans:o,depth:s,isExpanded:y,hasChildren:Boolean(c.children.length),resource:c.resource,resourceFields:c.resourceFields}),y&&e(c.children,r,n,o,s+1,i,a)}}}(function(e,t,r,n){var o=function(e,t){var r={};for(var n in e){var o=e[n];r[n]={resource:o,resourceFields:ae(o),children:[]}}for(var n in e){if((o=e[n]).parentId){var s=r[o.parentId];s&&ie(r[n],s.children,t)}}return r}(e,n),s=[];for(var i in o){var a=o[i];a.resource.parentId||se(a,s,r,0,t,n)}return s}(e,n?-1:1,t,r),i,n,[],0,o,s),i}function se(e,t,r,n,o,s){r.length&&(-1===o||n<=o)?se(e,function(e,t,r){var n,o,s=e.resourceFields[r.field];if(r.order)for(o=0;o<t.length;o++){if((a=t[o]).group){var i=u.flexibleCompare(s,a.group.value)*r.order;if(0==i){n=a;break}if(i<0)break}}else for(o=0;o<t.length;o++){var a;if((a=t[o]).group&&s===a.group.value){n=a;break}}n||(n={group:{value:s,spec:r},children:[]},t.splice(o,0,n));return n}(e,t,r[0]).children,r.slice(1),n+1,o,s):ie(e,t,s)}function ie(e,t,r){var n;for(n=0;n<t.length;n++){if(0<u.compareByFieldSpecs(t[n].resourceFields,e.resourceFields,r))break}t.splice(n,0,e)}function ae(e){var t=v({},e.extendedProps,e.ui,e);return delete t.ui,delete t.extendedProps,t}var le=u.createPlugin({reducers:[function(e,t,r){var n=m(e.resourceSource,t,e.dateProfile,r),o=I(e.resourceStore,t,n,r),s=function(e,t){var r;switch(t.type){case"INIT":return{};case"SET_RESOURCE_ENTITY_EXPANDED":return v({},e,((r={})[t.id]=t.isExpanded,r));default:return e}}(e.resourceEntityExpansions,t);return v({},e,{resourceSource:n,resourceStore:o,resourceEntityExpansions:s})}],eventDefParsers:[function(e,t,r){var n=u.refineProps(t,T,{},r),o=n.resourceIds;n.resourceId&&o.push(n.resourceId),e.resourceIds=o,e.resourceEditable=n.resourceEditable}],isDraggableTransformers:[function(e,t,r,n){return!(e||!n.viewSpec.class.needsResourceData||!i(t,n.calendar))||e}],eventDragMutationMassagers:[function(e,t,r){var n=t.dateSpan.resourceId,o=r.dateSpan.resourceId;n&&o&&n!==o&&(e.resourceMutation={matchResourceId:n,setResourceId:o})}],eventDefMutationAppliers:[function(e,t,r){var n=t.resourceMutation;if(n&&i(e,r)){var o=e.resourceIds.indexOf(n.matchResourceId);if(-1!==o){var s=e.resourceIds.slice();s.splice(o,1),-1===s.indexOf(n.setResourceId)&&s.push(n.setResourceId),e.resourceIds=s}}}],dateSelectionTransformers:[function(e,t){var r=e.dateSpan.resourceId,n=t.dateSpan.resourceId;if(r&&n)return(!1!==e.component.allowAcrossResources||r===n)&&{resourceId:r}}],datePointTransforms:[function(e,t){return e.resourceId?{resource:t.getResourceById(e.resourceId)}:{}}],dateSpanTransforms:[function(e,t){return e.resourceId?{resource:t.getResourceById(e.resourceId)}:{}}],viewPropsTransformers:[r,a],isPropsValid:function(e,t){var r=(new H).splitProps(v({},e,{resourceStore:t.state.resourceStore}));for(var n in r){var o=r[n];if(n&&r[""]&&(o=v({},o,{eventStore:u.mergeEventStores(r[""].eventStore,o.eventStore),eventUiBases:v({},r[""].eventUiBases,o.eventUiBases)})),!u.isPropsValid(o,t,{resourceId:n},O.bind(null,n)))return!1}return!0},externalDefTransforms:[function(e){return e.resourceId?{resourceId:e.resourceId}:{}}],eventResizeJoinTransforms:[function(e,t){if(!1===e.component.allowAcrossResources&&e.dateSpan.resourceId!==t.dateSpan.resourceId)return!1}],viewContainerModifiers:[function(e,t){var r=t.opt("schedulerLicenseKey");(function(e){return/\w+\:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(e)})(window.location.href)||function(e){if(-1!==j.indexOf(e))return!0;var t=(e||"").match(/^(\d+)\-fcs\-(\d+)$/);if(t&&10===t[1].length){var r=new Date(1e3*parseInt(t[2],10)),n=new Date(u.config.mockSchedulerReleaseDate||z);if(u.isValidDate(n))if(u.addDays(n,-M)<r)return!0}return!1}(r)||u.appendToElement(e,'<div class="fc-license-message" style="'+u.htmlEscape(u.cssToStr(k))+'">Please use a valid license key. <a href="http://fullcalendar.io/scheduler/license/">More Info</a></div>')}],eventDropTransformers:[function(e,t){var r=e.resourceMutation;return r?{oldResource:t.getResourceById(r.matchResourceId),newResource:t.getResourceById(r.setResourceId)}:{oldResource:null,newResource:null}}],optionChangeHandlers:B});e.AbstractResourceDayTable=L,e.DayResourceTable=Z,e.ResourceApi=x,e.ResourceDayHeader=G,e.ResourceDayTable=V,e.ResourceSplitter=H,e.VResourceJoiner=re,e.VResourceSplitter=Q,e.buildResourceFields=ae,e.buildResourceTextFunc=F,e.buildRowNodes=oe,e.default=le,e.flattenResources=function(e,t){return oe(e,[],t,!1,{},!0).map(function(e){return e.resource})},e.isGroupsEqual=function(e,t){return e.spec===t.spec&&e.value===t.value},Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarResourceCommon={},e.FullCalendar)}(this,function(e,u){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function t(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var v=function(){return(v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var r=e.resourceEditable;if(null==r){var n=e.sourceId&&t.state.eventSources[e.sourceId];n&&(r=n.extendedProps.resourceEditable),null==r&&null==(r=t.opt("eventResourceEditable"))&&(r=t.opt("editable"))}return r}var r=(o.prototype.transform=function(e,t,r,n){if(t.class.needsResourceData)return{resourceStore:this.filterResources(r.resourceStore,n.opt("filterResourcesWithEvents"),r.eventStore,r.dateProfile.activeRange),resourceEntityExpansions:r.resourceEntityExpansions}},o);function o(){this.filterResources=u.memoize(s)}function s(e,t,r,n){if(t){var o=function(e,t){var r={};for(var n in e)for(var o=e[n],s=0,i=t[o.defId].resourceIds;s<i.length;s++){var a=i[s];r[a]=!0}return r}(function(e,t){return u.filterHash(e,function(e){return u.rangesIntersect(e.range,t)})}(r.instances,n),r.defs);return v(o,function(e,t){var r={};for(var n in e)for(var o=void 0;(o=t[n])&&(n=o.parentId);)r[n]=!0;return r}(o,e)),u.filterHash(e,function(e,t){return o[t]})}return e}var a=(l.prototype.transform=function(e,t,r){if(!t.class.needsResourceData)return{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(r.resourceStore))}},l);function l(){this.buildResourceEventUis=u.memoizeOutput(c,u.isPropsEqual),this.injectResourceEventUis=u.memoize(d)}function c(e){return u.mapHash(e,function(e){return e.ui})}function d(e,r,n){return u.mapHash(e,function(e,t){return t?function(e,t,r){for(var n=[],o=0,s=t.resourceIds;o<s.length;o++){var i=s[o];r[i]&&n.unshift(r[i])}return n.unshift(e),u.combineEventUis(n)}(e,r[t],n):e})}var p={id:String},h=[],f=0;function y(e){h.push(e)}function g(e,t,r){var n=u.refineProps(e,p);return n.sourceId=String(f++),n.sourceDefId=r,n.meta=t,n.publicId=n.id,n.isFetching=!1,n.latestFetchId="",n.fetchRange=null,delete n.id,n}function m(e,t,r,n){switch(t.type){case"INIT":return E(n.opt("resources"),n);case"RESET_RESOURCE_SOURCE":return E(t.resourceSourceInput,n,!0);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return function(e,t,r){return!r.opt("refetchResourcesOnNavigate")||function(e){return Boolean(h[e.sourceDefId].ignoreRange)}(e)||e.fetchRange&&u.rangesEqual(e.fetchRange,t)?e:R(e,t,r)}(e,r.activeRange,n);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function(e,t,r){return t!==e.latestFetchId?e:v({},e,{isFetching:!1,fetchRange:r})}(e,t.fetchId,t.fetchRange);case"REFETCH_RESOURCES":return R(e,r.activeRange,n);default:return e}}var S=0;function E(e,t,r){if(e){var n=function(e){for(var t=h.length-1;0<=t;t--){var r=h[t].parseMeta(e);if(r){var n=g("object"==typeof e&&e?e:{},r,t);return n._raw=e,n}}return null}(e);return!r&&t.opt("refetchResourcesOnNavigate")||(n=R(n,null,t)),n}return null}function R(e,t,r){var n=function(e){return h[e]}(e.sourceDefId),o=String(S++);return n.fetch({resourceSource:e,calendar:r,range:t},function(e){r.afterSizingTriggers._resourcesRendered=[null],r.dispatch({type:"RECEIVE_RESOURCES",fetchId:o,fetchRange:t,rawResources:e.rawResources})},function(e){r.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:o,fetchRange:t,error:e})}),v({},e,{isFetching:!0,latestFetchId:o})}var b={id:String,title:String,parentId:String,businessHours:null,children:null,extendedProps:null},C="_fc:",w=0;function D(e,t,r,n){void 0===t&&(t="");var o={},s=u.refineProps(e,b,{},o),i={},a=u.processScopedUiProps("event",o,n,i);if(s.id||(s.id=C+w++),s.parentId||(s.parentId=t),s.businessHours=s.businessHours?u.parseBusinessHours(s.businessHours,n):null,s.ui=a,s.extendedProps=v({},i,s.extendedProps),Object.freeze(a.classNames),Object.freeze(s.extendedProps),r[s.id]);else if((r[s.id]=s).children){for(var l=0,c=s.children;l<c.length;l++){D(c[l],s.id,r,n)}delete s.children}return s}function I(e,t,r,n){switch(t.type){case"INIT":return{};case"RECEIVE_RESOURCES":return function(e,t,r,n,o){{if(n.latestFetchId!==r)return e;for(var s={},i=0,a=t;i<a.length;i++){D(a[i],"",s,o)}return s}}(e,t.rawResources,t.fetchId,r,n);case"ADD_RESOURCE":return function(e,t){return v({},e,t)}(e,t.resourceHash);case"REMOVE_RESOURCE":return function(e,t){var r=v({},e);for(var n in delete r[t],r)r[n].parentId===t&&(r[n]=v({},r[n],{parentId:""}));return r}(e,t.resourceId);case"SET_RESOURCE_PROP":return function(e,t,r,n){var o,s,i=e[t];return i?v({},e,((o={})[t]=v({},i,((s={})[r]=n,s)),o)):e}(e,t.resourceId,t.propName,t.propValue);case"RESET_RESOURCES":return u.mapHash(e,function(e){return v({},e)});default:return e}}var T={resourceId:String,resourceIds:function(e){return(e||[]).map(function(e){return String(e)})},resourceEditable:Boolean};var x=(P.prototype.setProp=function(e,t){this._calendar.dispatch({type:"SET_RESOURCE_PROP",resourceId:this._resource.id,propName:e,propValue:t})},P.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_RESOURCE",resourceId:this._resource.id})},P.prototype.getParent=function(){var e=this._calendar,t=this._resource.parentId;return t?new P(e,e.state.resourceSource[t]):null},P.prototype.getChildren=function(){var e=this._resource.id,t=this._calendar,r=t.state.resourceStore,n=[];for(var o in r)r[o].parentId===e&&n.push(new P(t,r[o]));return n},P.prototype.getEvents=function(){var e=this._resource.id,t=this._calendar,r=t.state.eventStore,n=r.defs,o=r.instances,s=[];for(var i in o){var a=o[i],l=n[a.defId];-1!==l.resourceIds.indexOf(e)&&s.push(new u.EventApi(t,l,a))}return s},Object.defineProperty(P.prototype,"id",{get:function(){return this._resource.id},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"title",{get:function(){return this._resource.title},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventConstraint",{get:function(){return this._resource.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventOverlap",{get:function(){return this._resource.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventAllow",{get:function(){return this._resource.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventBackgroundColor",{get:function(){return this._resource.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventBorderColor",{get:function(){return this._resource.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventTextColor",{get:function(){return this._resource.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventClassNames",{get:function(){return this._resource.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"extendedProps",{get:function(){return this._resource.extendedProps},enumerable:!0,configurable:!0}),P);function P(e,t){this._calendar=e,this._resource=t}u.Calendar.prototype.addResource=function(e,t){var r,n,o;return void 0===t&&(t=!0),e instanceof x?((r={})[(o=e._resource).id]=o,n=r):o=D(e,"",n={},this),t&&this.component.view.addScroll({forcedRowId:o.id}),this.dispatch({type:"ADD_RESOURCE",resourceHash:n}),new x(this,o)},u.Calendar.prototype.getResourceById=function(e){if(e=String(e),this.state.resourceStore){var t=this.state.resourceStore[e];if(t)return new x(this,t)}return null},u.Calendar.prototype.getResources=function(){var e=this.state.resourceStore,t=[];if(e)for(var r in e)t.push(new x(this,e[r]));return t},u.Calendar.prototype.getTopLevelResources=function(){var e=this.state.resourceStore,t=[];if(e)for(var r in e)e[r].parentId||t.push(new x(this,e[r]));return t},u.Calendar.prototype.rerenderResources=function(){this.dispatch({type:"RESET_RESOURCES"})},u.Calendar.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};var _,H=(t(A,_=u.Splitter),A.prototype.getKeyInfo=function(e){return v({"":{}},e.resourceStore)},A.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},A.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},A);function A(){return null!==_&&_.apply(this,arguments)||this}function O(e,t){return v({},t,{constraints:function(o,e){return e.map(function(e){var t=e.defs;if(t)for(var r in t){var n=t[r].resourceIds;if(n.length&&-1===n.indexOf(o))return!1}return e})}(e,t.constraints)})}u.EventApi.prototype.getResources=function(){var t=this._calendar;return this._def.resourceIds.map(function(e){return t.getResourceById(e)})},u.EventApi.prototype.setResources=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var o=n[r],s=null;"string"==typeof o?s=o:"number"==typeof o?s=String(o):o instanceof x?s=o.id:console.warn("unknown resource type: "+o),s&&t.push(s)}this.mutate({standardProps:{resourceIds:t}})};var z="2019-08-10",M=372,j=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],k={position:"absolute","z-index":99999,bottom:"1px",left:"1px",background:"#eee","border-color":"#ddd","border-style":"solid","border-width":"1px 1px 0 0",padding:"2px 4px","font-size":"12px","border-top-right-radius":"3px"};var B={resources:function(e,t,r){var n=t.state.resourceSource._raw;r(n,e)||t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:e})}};function F(t,r){return"function"==typeof t?function(e){return t(new x(r,e))}:function(e){return e.title||function(e){return 0===e.indexOf(C)?"":e}(e.id)}}y({ignoreRange:!0,parseMeta:function(e){return Array.isArray(e)?e:Array.isArray(e.resources)?e.resources:null},fetch:function(e,t){t({rawResources:e.resourceSource.meta})}}),y({parseMeta:function(e){return"function"==typeof e?e:"function"==typeof e.resources?e.resources:null},fetch:function(e,t,r){var n=e.calendar.dateEnv,o=e.resourceSource.meta,s={};e.range&&(s={start:n.toDate(e.range.start),end:n.toDate(e.range.end),startStr:n.formatIso(e.range.start),endStr:n.formatIso(e.range.end),timeZone:n.timeZone}),u.unpromisify(o.bind(null,s),function(e){t({rawResources:e})},r)}}),y({parseMeta:function(e){if("string"==typeof e)e={url:e};else if(!e||"object"!=typeof e||!e.url)return null;return{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams}},fetch:function(e,r,n){var t=e.resourceSource.meta,o=function(e,t,r){var n,o,s,i,a=r.dateEnv,l={};t&&(n=r.opt("startParam"),o=r.opt("endParam"),s=r.opt("timeZoneParam"),l[n]=a.formatIso(t.start),l[o]=a.formatIso(t.end),"local"!==a.timeZone&&(l[s]=a.timeZone));i="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};return v(l,i),l}(t,e.range,e.calendar);u.requestJson(t.method,t.url,o,function(e,t){r({rawResources:e,xhr:t})},function(e,t){n({message:e,xhr:t})})}});var N,G=(t(U,N=u.Component),U.prototype.destroy=function(){u.removeElement(this.el)},U.prototype.render=function(e){var t;this.dateFormat=u.createFormatter(this.opt("columnHeaderFormat")||u.computeFallbackHeaderFormat(e.datesRepDistinctDays,e.dates.length)),t=1===e.dates.length?this.renderResourceRow(e.resources):this.datesAboveResources?this.renderDayAndResourceRows(e.dates,e.resources):this.renderResourceAndDayRows(e.resources,e.dates),this.thead.innerHTML=t,this.processResourceEls(e.resources)},U.prototype.renderResourceRow=function(e){var t=this,r=e.map(function(e){return t.renderResourceCell(e,1)});return this.buildTr(r)},U.prototype.renderDayAndResourceRows=function(e,t){for(var r=[],n=[],o=0,s=e;o<s.length;o++){var i=s[o];r.push(this.renderDateCell(i,t.length));for(var a=0,l=t;a<l.length;a++){var c=l[a];n.push(this.renderResourceCell(c,1,i))}}return this.buildTr(r)+this.buildTr(n)},U.prototype.renderResourceAndDayRows=function(e,t){for(var r=[],n=[],o=0,s=e;o<s.length;o++){var i=s[o];r.push(this.renderResourceCell(i,t.length));for(var a=0,l=t;a<l.length;a++){var c=l[a];n.push(this.renderDateCell(c,1,i))}}return this.buildTr(r)+this.buildTr(n)},U.prototype.renderResourceCell=function(e,t,r){var n=this.dateEnv;return'<th class="fc-resource-cell" data-resource-id="'+e.id+'"'+(r?' data-date="'+n.formatIso(r,{omitTime:!0})+'"':"")+(1<t?' colspan="'+t+'"':"")+">"+u.htmlEscape(this.resourceTextFunc(e))+"</th>"},U.prototype.renderDateCell=function(e,t,r){var n=this.props;return u.renderDateCell(e,n.dateProfile,n.datesRepDistinctDays,n.dates.length*n.resources.length,this.dateFormat,this.context,t,r?'data-resource-id="'+r.id+'"':"")},U.prototype.buildTr=function(e){return e.length||(e=["<td>&nbsp;</td>"]),this.props.renderIntroHtml&&(e=[this.props.renderIntroHtml()].concat(e)),this.isRtl&&e.reverse(),"<tr>"+e.join("")+"</tr>"},U.prototype.processResourceEls=function(n){var o=this,s=this.view;u.findElements(this.thead,".fc-resource-cell").forEach(function(e,t){t%=n.length,o.isRtl&&(t=n.length-1-t);var r=n[t];s.publiclyTrigger("resourceRender",[{resource:new x(o.calendar,r),el:e,view:s}])})},U);function U(e,t){var r=N.call(this,e)||this;return r.datesAboveResources=r.opt("datesAboveResources"),r.resourceTextFunc=F(r.opt("resourceText"),r.calendar),t.innerHTML="",t.appendChild(r.el=u.htmlToElement('<div class="fc-row '+r.theme.getClass("headerRow")+'"><table class="'+r.theme.getClass("tableGrid")+'"><thead></thead></table></div>')),r.thead=r.el.querySelector("thead"),r}var L=(W.prototype.buildCells=function(){for(var e=this.rowCnt,t=this.dayTable,r=this.resources,n=[],o=0;o<e;o++){for(var s=[],i=0;i<t.colCnt;i++)for(var a=0;a<r.length;a++){var l=r[a],c='data-resource-id="'+l.id+'"';s[this.computeCol(i,a)]={date:t.cells[o][i].date,resource:l,htmlAttrs:c}}n.push(s)}return n},W);function W(e,t){this.dayTable=e,this.resources=t,this.resourceIndex=new $(t),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*t.length,this.cells=this.buildCells()}var q,V=(t(J,q=L),J.prototype.computeCol=function(e,t){return t*this.dayTable.colCnt+e},J.prototype.computeColRanges=function(e,t,r){return[{firstCol:this.computeCol(e,r),lastCol:this.computeCol(t,r),isStart:!0,isEnd:!0}]},J);function J(){return null!==q&&q.apply(this,arguments)||this}var K,Z=(t(X,K=L),X.prototype.computeCol=function(e,t){return e*this.resources.length+t},X.prototype.computeColRanges=function(e,t,r){for(var n=[],o=e;o<=t;o++){var s=this.computeCol(o,r);n.push({firstCol:s,lastCol:s,isStart:o===e,isEnd:o===t})}return n},X);function X(){return null!==K&&K.apply(this,arguments)||this}var Y,$=function(e){for(var t={},r=[],n=0;n<e.length;n++){var o=e[n].id;r.push(o),t[o]=n}this.ids=r,this.indicesById=t,this.length=e.length},Q=(t(ee,Y=u.Splitter),ee.prototype.getKeyInfo=function(e){var t=e.resourceDayTable,r=u.mapHash(t.resourceIndex.indicesById,function(e){return t.resources[e]});return r[""]={},r},ee.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},ee.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},ee);function ee(){return null!==Y&&Y.apply(this,arguments)||this}var te=[],re=(ne.prototype.joinProps=function(e,t){for(var r=[],n=[],o=[],s=[],i=[],a=[],l="",c=0,u=t.resourceIndex.ids.concat([""]);c<u.length;c++){var d=u[c],p=e[d];r.push(p.dateSelectionSegs),n.push(d?p.businessHourSegs:te),o.push(d?p.fgEventSegs:te),s.push(p.bgEventSegs),i.push(p.eventDrag),a.push(p.eventResize),l=l||p.eventSelection}return{dateSelectionSegs:this.joinDateSelection.apply(this,[t].concat(r)),businessHourSegs:this.joinBusinessHours.apply(this,[t].concat(n)),fgEventSegs:this.joinFgEvents.apply(this,[t].concat(o)),bgEventSegs:this.joinBgEvents.apply(this,[t].concat(s)),eventDrag:this.joinEventDrags.apply(this,[t].concat(i)),eventResize:this.joinEventResizes.apply(this,[t].concat(a)),eventSelection:l}},ne.prototype.joinSegs=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=e.resources.length,o=[],s=0;s<n;s++){for(var i=0,a=t[s];i<a.length;i++){var l=a[i];o.push.apply(o,this.transformSeg(l,e,s))}for(var c=0,u=t[n];c<u.length;c++)l=u[c],o.push.apply(o,this.transformSeg(l,e,s))}return o},ne.prototype.expandSegs=function(e,t){for(var r=e.resources.length,n=[],o=0;o<r;o++)for(var s=0,i=t;s<i.length;s++){var a=i[s];n.push.apply(n,this.transformSeg(a,e,o))}return n},ne.prototype.joinInteractions=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=e.resources.length,o={},s=[],i=!1,a=null,l=0;l<n;l++){var c=t[l];if(c){for(var u=0,d=c.segs;u<d.length;u++){var p=d[u];s.push.apply(s,this.transformSeg(p,e,l))}v(o,c.affectedInstances),i=i||c.isEvent,a=a||c.sourceSeg}if(t[n])for(var h=0,f=t[n].segs;h<f.length;h++)p=f[h],s.push.apply(s,this.transformSeg(p,e,l))}return{affectedInstances:o,segs:s,isEvent:i,sourceSeg:a}},ne);function ne(){this.joinDateSelection=u.memoize(this.joinSegs),this.joinBusinessHours=u.memoize(this.joinSegs),this.joinFgEvents=u.memoize(this.joinSegs),this.joinBgEvents=u.memoize(this.joinSegs),this.joinEventDrags=u.memoize(this.joinInteractions),this.joinEventResizes=u.memoize(this.joinInteractions)}function oe(e,t,r,n,o,s){var i=[];return function e(t,r,n,o,s,i,a){for(var l=0;l<t.length;l++){var c=t[l],u=c.group;if(u)if(n){var d=r.length,p=o.length;if(e(c.children,r,n,o.concat(0),s,i,a),d<r.length){var h=r[d],f=h.rowSpans=h.rowSpans.slice();f[p]=r.length-d}}else{var v=u.spec.field+":"+u.value,y=null!=i[v]?i[v]:a;r.push({id:v,group:u,isExpanded:y}),y&&e(c.children,r,n,o,s+1,i,a)}else if(c.resource){var v=c.resource.id,y=null!=i[v]?i[v]:a;r.push({id:v,rowSpans:o,depth:s,isExpanded:y,hasChildren:Boolean(c.children.length),resource:c.resource,resourceFields:c.resourceFields}),y&&e(c.children,r,n,o,s+1,i,a)}}}(function(e,t,r,n){var o=function(e,t){var r={};for(var n in e){var o=e[n];r[n]={resource:o,resourceFields:ae(o),children:[]}}for(var n in e){if((o=e[n]).parentId){var s=r[o.parentId];s&&ie(r[n],s.children,t)}}return r}(e,n),s=[];for(var i in o){var a=o[i];a.resource.parentId||se(a,s,r,0,t,n)}return s}(e,n?-1:1,t,r),i,n,[],0,o,s),i}function se(e,t,r,n,o,s){r.length&&(-1===o||n<=o)?se(e,function(e,t,r){var n,o,s=e.resourceFields[r.field];if(r.order)for(o=0;o<t.length;o++){if((a=t[o]).group){var i=u.flexibleCompare(s,a.group.value)*r.order;if(0==i){n=a;break}if(i<0)break}}else for(o=0;o<t.length;o++){var a;if((a=t[o]).group&&s===a.group.value){n=a;break}}n||(n={group:{value:s,spec:r},children:[]},t.splice(o,0,n));return n}(e,t,r[0]).children,r.slice(1),n+1,o,s):ie(e,t,s)}function ie(e,t,r){var n;for(n=0;n<t.length;n++){if(0<u.compareByFieldSpecs(t[n].resourceFields,e.resourceFields,r))break}t.splice(n,0,e)}function ae(e){var t=v({},e.extendedProps,e.ui,e);return delete t.ui,delete t.extendedProps,t}var le=u.createPlugin({reducers:[function(e,t,r){var n=m(e.resourceSource,t,e.dateProfile,r),o=I(e.resourceStore,t,n,r),s=function(e,t){var r;switch(t.type){case"INIT":return{};case"SET_RESOURCE_ENTITY_EXPANDED":return v({},e,((r={})[t.id]=t.isExpanded,r));default:return e}}(e.resourceEntityExpansions,t);return v({},e,{resourceSource:n,resourceStore:o,resourceEntityExpansions:s})}],eventDefParsers:[function(e,t,r){var n=u.refineProps(t,T,{},r),o=n.resourceIds;n.resourceId&&o.push(n.resourceId),e.resourceIds=o,e.resourceEditable=n.resourceEditable}],isDraggableTransformers:[function(e,t,r,n){return!(e||!n.viewSpec.class.needsResourceData||!i(t,n.calendar))||e}],eventDragMutationMassagers:[function(e,t,r){var n=t.dateSpan.resourceId,o=r.dateSpan.resourceId;n&&o&&n!==o&&(e.resourceMutation={matchResourceId:n,setResourceId:o})}],eventDefMutationAppliers:[function(e,t,r){var n=t.resourceMutation;if(n&&i(e,r)){var o=e.resourceIds.indexOf(n.matchResourceId);if(-1!==o){var s=e.resourceIds.slice();s.splice(o,1),-1===s.indexOf(n.setResourceId)&&s.push(n.setResourceId),e.resourceIds=s}}}],dateSelectionTransformers:[function(e,t){var r=e.dateSpan.resourceId,n=t.dateSpan.resourceId;if(r&&n)return(!1!==e.component.allowAcrossResources||r===n)&&{resourceId:r}}],datePointTransforms:[function(e,t){return e.resourceId?{resource:t.getResourceById(e.resourceId)}:{}}],dateSpanTransforms:[function(e,t){return e.resourceId?{resource:t.getResourceById(e.resourceId)}:{}}],viewPropsTransformers:[r,a],isPropsValid:function(e,t){var r=(new H).splitProps(v({},e,{resourceStore:t.state.resourceStore}));for(var n in r){var o=r[n];if(n&&r[""]&&(o=v({},o,{eventStore:u.mergeEventStores(r[""].eventStore,o.eventStore),eventUiBases:v({},r[""].eventUiBases,o.eventUiBases)})),!u.isPropsValid(o,t,{resourceId:n},O.bind(null,n)))return!1}return!0},externalDefTransforms:[function(e){return e.resourceId?{resourceId:e.resourceId}:{}}],eventResizeJoinTransforms:[function(e,t){if(!1===e.component.allowAcrossResources&&e.dateSpan.resourceId!==t.dateSpan.resourceId)return!1}],viewContainerModifiers:[function(e,t){var r=t.opt("schedulerLicenseKey");(function(e){return/\w+\:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(e)})(window.location.href)||function(e){if(-1!==j.indexOf(e))return!0;var t=(e||"").match(/^(\d+)\-fcs\-(\d+)$/);if(t&&10===t[1].length){var r=new Date(1e3*parseInt(t[2],10)),n=new Date(u.config.mockSchedulerReleaseDate||z);if(u.isValidDate(n))if(u.addDays(n,-M)<r)return!0}return!1}(r)||u.appendToElement(e,'<div class="fc-license-message" style="'+u.htmlEscape(u.cssToStr(k))+'">Please use a valid license key. <a href="http://fullcalendar.io/scheduler/license/">More Info</a></div>')}],eventDropTransformers:[function(e,t){var r=e.resourceMutation;return r?{oldResource:t.getResourceById(r.matchResourceId),newResource:t.getResourceById(r.setResourceId)}:{oldResource:null,newResource:null}}],optionChangeHandlers:B});e.AbstractResourceDayTable=L,e.DayResourceTable=Z,e.ResourceApi=x,e.ResourceDayHeader=G,e.ResourceDayTable=V,e.ResourceSplitter=H,e.VResourceJoiner=re,e.VResourceSplitter=Q,e.buildResourceFields=ae,e.buildResourceTextFunc=F,e.buildRowNodes=oe,e.default=le,e.flattenResources=function(e,t){return oe(e,[],t,!1,{},!0).map(function(e){return e.resource})},e.isGroupsEqual=function(e,t){return e.spec===t.spec&&e.value===t.value},Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/resource-common"),require("@fullcalendar/daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/resource-common","@fullcalendar/daygrid"],t):t((e=e||self).FullCalendarResourceDayGrid={},e.FullCalendar,e.FullCalendarResourceCommon,e.FullCalendarDayGrid)}(this,function(e,l,s,c){"use strict";var t="default"in s?s.default:s,r="default"in c?c.default:c,n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i,u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=(o(d,i=l.DateComponent),d.prototype.destroy=function(){i.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},d.prototype.render=function(e){var r=this,n=this.dayGrid,o=e.dateProfile,s=e.resourceDayTable,i=e.nextDayThreshold,a=this.splitter.splitProps(e);this.slicers=l.mapHash(a,function(e,t){return r.slicers[t]||new c.DayGridSlicer});var t=l.mapHash(this.slicers,function(e,t){return e.sliceProps(a[t],o,i,n,s.dayTable)});n.allowAcrossResources=1===s.dayTable.colCnt,n.receiveProps(u({},this.joiner.joinProps(t,s),{dateProfile:o,cells:s.cells,isRigid:e.isRigid}))},d.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},d.prototype.queryHit=function(e,t){var r=this.dayGrid.positionToHit(e,t);if(r)return{component:this.dayGrid,dateSpan:{range:r.dateSpan.range,allDay:r.dateSpan.allDay,resourceId:this.props.resourceDayTable.cells[r.row][r.col].resource.id},dayEl:r.dayEl,rect:{left:r.relativeRect.left,right:r.relativeRect.right,top:r.relativeRect.top,bottom:r.relativeRect.bottom},layer:0}},d);function d(e,t){var r=i.call(this,e,t.el)||this;return r.splitter=new s.VResourceSplitter,r.slicers={},r.joiner=new h,r.dayGrid=t,e.calendar.registerInteractiveComponent(r,{el:r.dayGrid.el}),r}var p,h=(o(f,p=s.VResourceJoiner),f.prototype.transformSeg=function(t,e,r){return e.computeColRanges(t.firstCol,t.lastCol,r).map(function(e){return u({},t,e,{isStart:t.isStart&&e.isStart,isEnd:t.isEnd&&e.isEnd})})},f);function f(){return null!==p&&p.apply(this,arguments)||this}var v,y=(o(g,v=c.AbstractDayGridView),g.prototype.destroy=function(){v.prototype.destroy.call(this),this.header&&this.header.destroy(),this.resourceDayGrid.destroy()},g.prototype.render=function(e){v.prototype.render.call(this,e);var t=this.flattenResources(e.resourceStore,this.resourceOrderSpecs),r=this.buildResourceDayTable(this.props.dateProfile,this.dateProfileGenerator,t,this.opt("datesAboveResources"));this.header&&this.header.receiveProps({resources:t,dates:r.dayTable.headerDates,dateProfile:e.dateProfile,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.resourceDayGrid.receiveProps({dateProfile:e.dateProfile,resourceDayTable:r,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.nextDayThreshold})},g.needsResourceData=!0,g);function g(e,t,r,n){var o=v.call(this,e,t,r,n)||this;return o.flattenResources=l.memoize(s.flattenResources),o.buildResourceDayTable=l.memoize(m),o.resourceOrderSpecs=l.parseFieldSpecs(o.opt("resourceOrder")),o.opt("columnHeader")&&(o.header=new s.ResourceDayHeader(o.context,o.el.querySelector(".fc-head-container"))),o.resourceDayGrid=new a(e,o.dayGrid),o}function m(e,t,r,n){var o=c.buildBasicDayTable(e,t);return n?new s.DayResourceTable(o,r):new s.ResourceDayTable(o,r)}var S=l.createPlugin({deps:[t,r],defaultView:"resourceDayGridDay",views:{resourceDayGrid:y,resourceDayGridDay:{type:"resourceDayGrid",duration:{days:1}},resourceDayGridWeek:{type:"resourceDayGrid",duration:{weeks:1}},resourceDayGridMonth:{type:"resourceDayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});e.ResourceDayGrid=a,e.ResourceDayGridView=y,e.default=S,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/resource-common"),require("@fullcalendar/timegrid"),require("@fullcalendar/resource-daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/resource-common","@fullcalendar/timegrid","@fullcalendar/resource-daygrid"],t):t((e=e||self).FullCalendarResourceTimeGrid={},e.FullCalendar,e.FullCalendarResourceCommon,e.FullCalendarTimeGrid,e.FullCalendarResourceDayGrid)}(this,function(e,l,s,c,i){"use strict";var t="default"in s?s.default:s,r="default"in c?c.default:c,n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a,u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=(o(p,a=l.DateComponent),p.prototype.destroy=function(){this.calendar.unregisterInteractiveComponent(this)},p.prototype.render=function(e){var r=this,n=this.timeGrid,o=e.dateProfile,t=e.resourceDayTable,s=this.dayRanges=this.buildDayRanges(t.dayTable,o,this.dateEnv),i=this.splitter.splitProps(e);this.slicers=l.mapHash(i,function(e,t){return r.slicers[t]||new c.TimeGridSlicer});var a=l.mapHash(this.slicers,function(e,t){return e.sliceProps(i[t],o,null,n,s)});n.allowAcrossResources=1===s.length,n.receiveProps(u({},this.joiner.joinProps(a,t),{dateProfile:o,cells:t.cells[0]}))},p.prototype.renderNowIndicator=function(e){var t=this.timeGrid,r=this.props.resourceDayTable,n=this.slicers[""].sliceNowDate(e,t,this.dayRanges),o=this.joiner.expandSegs(r,n);t.renderNowIndicator(o,e)},p.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},p.prototype.queryHit=function(e,t){var r=this.timeGrid.positionToHit(e,t);if(r)return{component:this.timeGrid,dateSpan:{range:r.dateSpan.range,allDay:r.dateSpan.allDay,resourceId:this.props.resourceDayTable.cells[0][r.col].resource.id},dayEl:r.dayEl,rect:{left:r.relativeRect.left,right:r.relativeRect.right,top:r.relativeRect.top,bottom:r.relativeRect.bottom},layer:0}},p);function p(e,t){var r=a.call(this,e,t.el)||this;return r.buildDayRanges=l.memoize(c.buildDayRanges),r.splitter=new s.VResourceSplitter,r.slicers={},r.joiner=new f,r.timeGrid=t,e.calendar.registerInteractiveComponent(r,{el:r.timeGrid.el}),r}var h,f=(o(v,h=s.VResourceJoiner),v.prototype.transformSeg=function(e,t,r){return[u({},e,{col:t.computeCol(e.col,r)})]},v);function v(){return null!==h&&h.apply(this,arguments)||this}var y,g=(o(m,y=c.AbstractTimeGridView),m.prototype.destroy=function(){y.prototype.destroy.call(this),this.header&&this.header.destroy(),this.resourceTimeGrid.destroy(),this.resourceDayGrid&&this.resourceDayGrid.destroy()},m.prototype.render=function(e){y.prototype.render.call(this,e);var t=this.splitter.splitProps(e),r=this.flattenResources(e.resourceStore,this.resourceOrderSpecs),n=this.buildResourceDayTable(this.props.dateProfile,this.dateProfileGenerator,r,this.opt("datesAboveResources"));this.header&&this.header.receiveProps({resources:r,dates:n.dayTable.headerDates,dateProfile:e.dateProfile,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.resourceTimeGrid.receiveProps(u({},t.timed,{dateProfile:e.dateProfile,resourceDayTable:n})),this.resourceDayGrid&&this.resourceDayGrid.receiveProps(u({},t.allDay,{dateProfile:e.dateProfile,resourceDayTable:n,isRigid:!1,nextDayThreshold:this.nextDayThreshold}))},m.prototype.renderNowIndicator=function(e){this.resourceTimeGrid.renderNowIndicator(e)},m.needsResourceData=!0,m);function m(e,t,r,n){var o=y.call(this,e,t,r,n)||this;return o.flattenResources=l.memoize(s.flattenResources),o.buildResourceDayTable=l.memoize(S),o.resourceOrderSpecs=l.parseFieldSpecs(o.opt("resourceOrder")),o.opt("columnHeader")&&(o.header=new s.ResourceDayHeader(o.context,o.el.querySelector(".fc-head-container"))),o.resourceTimeGrid=new d(e,o.timeGrid),o.dayGrid&&(o.resourceDayGrid=new i.ResourceDayGrid(e,o.dayGrid)),o}function S(e,t,r,n){var o=c.buildDayTable(e,t);return n?new s.DayResourceTable(o,r):new s.ResourceDayTable(o,r)}var E=l.createPlugin({deps:[t,r],defaultView:"resourceTimeGridDay",views:{resourceTimeGrid:{class:g,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},resourceTimeGridDay:{type:"resourceTimeGrid",duration:{days:1}},resourceTimeGridWeek:{type:"resourceTimeGrid",duration:{weeks:1}}}});e.ResourceTimeGrid=d,e.ResourceTimeGridView=g,e.default=E,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarTimeline={},e.FullCalendar)}(this,function(e,E){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function t(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var r=function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=(s.prototype.setGutters=function(e){e?r(this.gutters,e):this.gutters={},this.updateSize()},s.prototype.setWidth=function(e){this.width=e,this.updateSize()},s.prototype.setMinWidth=function(e){this.minWidth=e,this.updateSize()},s.prototype.clearWidth=function(){this.width=null,this.minWidth=null,this.updateSize()},s.prototype.updateSize=function(){var e=this.gutters,t=this.el;E.forceClassName(t,"fc-gutter-left",e.left),E.forceClassName(t,"fc-gutter-right",e.right),E.forceClassName(t,"fc-gutter-top",e.top),E.forceClassName(t,"fc-gutter-bottom",e.bottom),E.applyStyle(t,{paddingLeft:e.left||"",paddingRight:e.right||"",paddingTop:e.top||"",paddingBottom:e.bottom||"",width:null!=this.width?this.width+(e.left||0)+(e.right||0):"",minWidth:null!=this.minWidth?this.minWidth+(e.left||0)+(e.right||0):""}),E.applyStyle(this.bgEl,{left:e.left||"",right:e.right||"",top:e.top||"",bottom:e.bottom||""})},s);function s(){this.gutters={},this.el=E.htmlToElement('<div class="fc-scroller-canvas"> <div class="fc-content"></div> <div class="fc-bg"></div> </div>'),this.contentEl=this.el.querySelector(".fc-content"),this.bgEl=this.el.querySelector(".fc-bg")}var i,a,l=(t(c,i=E.ScrollComponent),c.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindHandlers()},c.prototype.disableTouchScroll=function(){this.isTouchScrollEnabled=!1,this.bindPreventTouchScroll()},c.prototype.enableTouchScroll=function(){this.isTouchScrollEnabled=!0,this.isTouching||this.unbindPreventTouchScroll()},c.prototype.bindPreventTouchScroll=function(){this.preventTouchScrollHandler||this.el.addEventListener("touchmove",this.preventTouchScrollHandler=E.preventDefault)},c.prototype.unbindPreventTouchScroll=function(){this.preventTouchScrollHandler&&(this.el.removeEventListener("touchmove",this.preventTouchScrollHandler),this.preventTouchScrollHandler=null)},c.prototype.bindHandlers=function(){this.el.addEventListener("scroll",this.reportScroll),this.el.addEventListener("touchstart",this.reportTouchStart,{passive:!0}),this.el.addEventListener("touchend",this.reportTouchEnd)},c.prototype.unbindHandlers=function(){this.el.removeEventListener("scroll",this.reportScroll),this.el.removeEventListener("touchstart",this.reportTouchStart,{passive:!0}),this.el.removeEventListener("touchend",this.reportTouchEnd)},c.prototype.reportMovingEnd=function(){this.isMoving=!1,this.isTouching||this.reportScrollEnd()},c.prototype.reportScrollEnd=function(){this.isScrolling&&(this.trigger("scrollEnd"),this.isScrolling=!1)},c.prototype.getScrollLeft=function(){var e=this.el,t=window.getComputedStyle(e).direction,r=e.scrollLeft;if("rtl"===t)switch(u()){case"positive":r=r+e.clientWidth-e.scrollWidth;break;case"reverse":r=-r}return r},c.prototype.setScrollLeft=function(e){var t=this.el;if("rtl"===window.getComputedStyle(t).direction)switch(u()){case"positive":e=e-t.clientWidth+t.scrollWidth;break;case"reverse":e=-e}t.scrollLeft=e},c.prototype.getScrollFromLeft=function(){var e=this.el,t=window.getComputedStyle(e).direction,r=e.scrollLeft;if("rtl"===t)switch(u()){case"negative":r=r-e.clientWidth+e.scrollWidth;break;case"reverse":r=-r-e.clientWidth+e.scrollWidth}return r},c);function c(e,t){var r=i.call(this,e,t)||this;return r.reportScroll=function(){r.isScrolling||r.reportScrollStart(),r.trigger("scroll"),r.isMoving=!0,r.requestMovingEnd()},r.reportScrollStart=function(){r.isScrolling||(r.isScrolling=!0,r.trigger("scrollStart",r.isTouching))},r.reportTouchStart=function(){r.isTouching=!0},r.reportTouchEnd=function(){r.isTouching&&(r.isTouching=!1,r.isTouchScrollEnabled&&r.unbindPreventTouchScroll(),r.isMoving||r.reportScrollEnd())},r.isScrolling=!1,r.isTouching=!1,r.isMoving=!1,r.isTouchScrollEnabled=!0,r.requestMovingEnd=E.debounce(r.reportMovingEnd,500),r.canvas=new o,r.el.appendChild(r.canvas.el),r.applyOverflow(),r.bindHandlers(),r}function u(){return a=a||function(){var e,t=E.htmlToElement('<div style=" position: absolute; top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 100px; ">A</div>');document.body.appendChild(t),e=0<t.scrollLeft?"positive":(t.scrollLeft=1,0<t.scrollLeft?"reverse":"negative");return E.removeElement(t),e}()}E.EmitterMixin.mixInto(l);var d=(p.prototype.destroy=function(){E.removeElement(this.el)},p.prototype.updateSize=function(){var e=this.enhancedScroll,t=e.el,r=E.computeEdges(t),n={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0};this.isVScrollbarsClipped&&(n.marginLeft=-r.scrollbarLeft,n.marginRight=-r.scrollbarRight),this.isHScrollbarsClipped&&(n.marginBottom=-r.scrollbarBottom),E.applyStyle(t,n),!this.isHScrollbarsClipped&&"hidden"!==e.overflowX||!this.isVScrollbarsClipped&&"hidden"!==e.overflowY||r.scrollbarLeft||r.scrollbarRight||r.scrollbarBottom?t.classList.remove("fc-no-scrollbars"):t.classList.add("fc-no-scrollbars")},p.prototype.setHeight=function(e){this.enhancedScroll.setHeight(e)},p.prototype.getScrollbarWidths=function(){var e=this.enhancedScroll.getScrollbarWidths();return this.isVScrollbarsClipped&&(e.left=0,e.right=0),this.isHScrollbarsClipped&&(e.bottom=0),e},p);function p(e,t,r){this.isHScrollbarsClipped=!1,this.isVScrollbarsClipped=!1,"clipped-scroll"===e&&(e="scroll",this.isHScrollbarsClipped=!0),"clipped-scroll"===t&&(t="scroll",this.isVScrollbarsClipped=!0),this.enhancedScroll=new l(e,t),r.appendChild(this.el=E.createElement("div",{className:"fc-scroller-clip"})),this.el.appendChild(this.enhancedScroll.el)}var h=(f.prototype.initScroller=function(n){function t(){o.assignMasterScroller(n)}var o=this,s=n.enhancedScroll;"wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" ").forEach(function(e){s.el.addEventListener(e,t)}),s.on("scrollStart",function(){o.masterScroller||o.assignMasterScroller(n)}).on("scroll",function(){if(n===o.masterScroller)for(var e=0,t=o.scrollers;e<t.length;e++){var r=t[e];if(r!==n)switch(o.axis){case"horizontal":r.enhancedScroll.el.scrollLeft=s.el.scrollLeft;break;case"vertical":r.enhancedScroll.setScrollTop(s.getScrollTop())}}}).on("scrollEnd",function(){n===o.masterScroller&&o.unassignMasterScroller()})},f.prototype.assignMasterScroller=function(e){this.unassignMasterScroller(),this.masterScroller=e;for(var t=0,r=this.scrollers;t<r.length;t++){var n=r[t];n!==e&&n.enhancedScroll.disableTouchScroll()}},f.prototype.unassignMasterScroller=function(){if(this.masterScroller){for(var e=0,t=this.scrollers;e<t.length;e++)t[e].enhancedScroll.enableTouchScroll();this.masterScroller=null}},f.prototype.update=function(){for(var e,t,r=this.scrollers.map(function(e){return e.getScrollbarWidths()}),n=0,o=0,s=0,i=0,a=0,l=r;a<l.length;a++)e=l[a],n=Math.max(n,e.left),o=Math.max(o,e.right),s=Math.max(s,e.top),i=Math.max(i,e.bottom);for(t=0;t<this.scrollers.length;t++){var c=this.scrollers[t];e=r[t],c.enhancedScroll.canvas.setGutters("horizontal"===this.axis?{left:n-e.left,right:o-e.right}:{top:s-e.top,bottom:i-e.bottom})}},f);function f(e,t){this.axis=e,this.scrollers=t;for(var r=0,n=this.scrollers;r<n.length;r++){var o=n[r];this.initScroller(o)}}var v=(y.prototype.destroy=function(){this.headerScroller.destroy(),this.bodyScroller.destroy()},y.prototype.setHeight=function(e,t){var r;r=t?"auto":e-this.queryHeadHeight(),this.bodyScroller.setHeight(r),this.headerScroller.updateSize(),this.bodyScroller.updateSize(),this.scrollJoiner.update()},y.prototype.queryHeadHeight=function(){return this.headerScroller.enhancedScroll.canvas.contentEl.getBoundingClientRect().height},y);function y(e,t,r){this.headerScroller=new d("clipped-scroll","hidden",e),this.bodyScroller=new d("auto",r,t),this.scrollJoiner=new h("horizontal",[this.headerScroller,this.bodyScroller])}var g,m=(t(S,g=E.Component),S.prototype.destroy=function(){E.removeElement(this.tableEl),g.prototype.destroy.call(this)},S.prototype.render=function(e){this.renderDates(e.tDateProfile)},S.prototype.renderDates=function(e){for(var t=this.dateEnv,r=this.theme,n=e.cellRows,o=n[n.length-1],s=E.asRoughMs(e.labelInterval)>E.asRoughMs(e.slotDuration),i=E.isSingleDay(e.slotDuration),a="<colgroup>",l=e.slotCnt-1;0<=l;l--)a+="<col/>";a+="</colgroup>",a+="<tbody>";for(var c=0,u=n;c<u.length;c++){var d=u[c];a+="<tr"+(s&&d===o?' class="fc-chrono"':"")+">";for(var p=0,h=d;p<h.length;p++){var f=h[p],v=[r.getClass("widgetHeader")];f.isWeekStart&&v.push("fc-em-cell"),i&&(v=v.concat(E.getDayClasses(f.date,this.props.dateProfile,this.context,!0))),a+='<th class="'+v.join(" ")+'" data-date="'+t.formatIso(f.date,{omitTime:!e.isTimeScale,omitTimeZoneOffset:!0})+'"'+(1<f.colspan?' colspan="'+f.colspan+'"':"")+'><div class="fc-cell-content">'+f.spanHtml+"</div></th>"}a+="</tr>"}a+="</tbody>",this.tableEl.innerHTML=a,this.slatColEls=E.findElements(this.tableEl,"col"),this.innerEls=E.findElements(this.tableEl.querySelector("tr:last-child"),"th .fc-cell-text"),E.findElements(this.tableEl.querySelectorAll("tr:not(:last-child)"),"th .fc-cell-text").forEach(function(e){e.classList.add("fc-sticky")})},S);function S(e,t){var r=g.call(this,e)||this;return t.appendChild(r.tableEl=E.createElement("table",{className:r.theme.getClass("tableGrid")})),r}var R,b=(t(C,R=E.Component),C.prototype.destroy=function(){E.removeElement(this.el),R.prototype.destroy.call(this)},C.prototype.render=function(e){this.renderDates(e.tDateProfile)},C.prototype.renderDates=function(e){for(var t=this.theme,r=this.view,n=this.dateEnv,o=e.slotDates,s=e.isWeekStarts,i='<table class="'+t.getClass("tableGrid")+'"><colgroup>',a=0;a<o.length;a++)i+="<col/>";for(i+="</colgroup>",i+="<tbody><tr>",a=0;a<o.length;a++)i+=this.slatCellHtml(o[a],s[a],e);for(i+="</tr></tbody></table>",this.el.innerHTML=i,this.slatColEls=E.findElements(this.el,"col"),this.slatEls=E.findElements(this.el,"td"),a=0;a<o.length;a++)r.publiclyTrigger("dayRender",[{date:n.toDate(o[a]),el:this.slatEls[a],view:r}]);this.outerCoordCache=new E.PositionCache(this.el,this.slatEls,!0,!1),this.innerCoordCache=new E.PositionCache(this.el,E.findChildren(this.slatEls,"div"),!0,!1)},C.prototype.slatCellHtml=function(e,t,r){var n,o=this.theme,s=this.dateEnv;return r.isTimeScale?(n=[]).push(E.isInt(s.countDurationsBetween(r.normalizedRange.start,e,r.labelInterval))?"fc-major":"fc-minor"):(n=E.getDayClasses(e,this.props.dateProfile,this.context)).push("fc-day"),n.unshift(o.getClass("widgetContent")),t&&n.push("fc-em-cell"),'<td class="'+n.join(" ")+'" data-date="'+s.formatIso(e,{omitTime:!r.isTimeScale,omitTimeZoneOffset:!0})+'"><div></div></td>'},C.prototype.updateSize=function(){this.outerCoordCache.build(),this.innerCoordCache.build()},C.prototype.positionToHit=function(e){var t=this.outerCoordCache,r=this.props.tDateProfile,n=t.leftToIndex(e);if(null==n)return null;var o=t.getWidth(n),s=this.isRtl?(t.rights[n]-e)/o:(e-t.lefts[n])/o,i=Math.floor(s*r.snapsPerSlot),a=this.dateEnv.add(r.slotDates[n],E.multiplyDuration(r.snapDuration,i));return{dateSpan:{range:{start:a,end:this.dateEnv.add(a,r.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.slatColEls[n],left:t.lefts[n],right:t.rights[n]}},C);function C(e,t){var r=R.call(this,e)||this;return t.appendChild(r.el=E.createElement("div",{className:"fc-slats"})),r}var w=18,D=6,I=200;E.config.MAX_TIMELINE_SLOTS=1e3;var T=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function x(e,t){var r=t.dateEnv,n={labelInterval:H(t,"slotLabelInterval"),slotDuration:H(t,"slotDuration")};!function(e,t,r){var n=t.currentRange;if(e.labelInterval){r.countDurationsBetween(n.start,n.end,e.labelInterval)>E.config.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),e.labelInterval=null)}if(e.slotDuration){r.countDurationsBetween(n.start,n.end,e.slotDuration)>E.config.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),e.slotDuration=null)}if(e.labelInterval&&e.slotDuration){var o=E.wholeDivideDurations(e.labelInterval,e.slotDuration);(null===o||o<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),e.slotDuration=null)}}(n,e,r),A(n,e,r),function(e,t,r){var n=t.currentRange,o=e.slotDuration;if(!o){for(var s=A(e,t,r),i=0,a=T;i<a.length;i++){var l=a[i],c=E.createDuration(l),u=E.wholeDivideDurations(s,c);if(null!==u&&1<u&&u<=D){o=c;break}}if(o){var d=r.countDurationsBetween(n.start,n.end,o);I<d&&(o=null)}o=o||s,e.slotDuration=o}}(n,e,r);var o=t.opt("slotLabelFormat"),s=Array.isArray(o)?o:null!=o?[o]:function(e,t,r,n){var o,s,i=e.labelInterval,a=E.greatestDurationDenominator(i).unit,l=n.opt("weekNumbers"),c=o=s=null;"week"!==a||l||(a="day");switch(a){case"year":c={year:"numeric"};break;case"month":1<O("years",t,r)&&(c={year:"numeric"}),o={month:"short"};break;case"week":1<O("years",t,r)&&(c={year:"numeric"}),o={week:"narrow"};break;case"day":1<O("years",t,r)?c={year:"numeric",month:"long"}:1<O("months",t,r)&&(c={month:"long"}),l&&(o={week:"short"}),s={weekday:"narrow",day:"numeric"};break;case"hour":l&&(c={week:"short"}),1<O("days",t,r)&&(o={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),s={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":E.asRoughMinutes(i)/60>=D?(c={hour:"numeric",meridiem:"short"},o=function(e){return":"+E.padStart(e.date.minute,2)}):c={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":E.asRoughSeconds(i)/60>=D?(c={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},o=function(e){return":"+E.padStart(e.date.second,2)}):c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},o=function(e){return"."+E.padStart(e.millisecond,3)}}return[].concat(c||[],o||[],s||[])}(n,e,r,t);n.headerFormats=s.map(function(e){return E.createFormatter(e)}),n.isTimeScale=Boolean(n.slotDuration.milliseconds);var i=null;if(!n.isTimeScale){var a=E.greatestDurationDenominator(n.slotDuration).unit;/year|month|week/.test(a)&&(i=a)}n.largeUnit=i,n.emphasizeWeeks=E.isSingleDay(n.slotDuration)&&2<=O("weeks",e,r)&&!t.opt("businessHours");var l,c,u=t.opt("snapDuration");u&&(l=E.createDuration(u),c=E.wholeDivideDurations(n.slotDuration,l)),null==c&&(l=n.slotDuration,c=1),n.snapDuration=l,n.snapsPerSlot=c;var d=E.asRoughMs(e.maxTime)-E.asRoughMs(e.minTime),p=P(e.renderRange.start,n,r),h=P(e.renderRange.end,n,r);n.isTimeScale&&(p=r.add(p,e.minTime),h=r.add(E.addDays(h,-1),e.maxTime)),n.timeWindowMs=d,n.normalizedRange={start:p,end:h};for(var f=[],v=p;v<h;)_(v,n,e,t)&&f.push(v),v=r.add(v,n.slotDuration);n.slotDates=f;var y=-1,g=0,m=[],S=[];for(v=p;v<h;)_(v,n,e,t)?(y++,m.push(y),S.push(g)):m.push(y+.5),v=r.add(v,n.snapDuration),g++;return n.snapDiffToIndex=m,n.snapIndexToDiff=S,n.snapCnt=y+1,n.slotCnt=n.snapCnt/n.snapsPerSlot,n.isWeekStarts=function(e,t){for(var r=e.slotDates,n=e.emphasizeWeeks,o=null,s=[],i=0,a=r;i<a.length;i++){var l=a[i],c=t.computeWeekNumber(l),u=n&&null!==o&&o!==c;o=c,s.push(u)}return s}(n,r),n.cellRows=function(e,t,r){for(var n=e.slotDates,o=e.headerFormats,s=o.map(function(e){return[]}),i=o.map(function(e){return e.getLargestUnit?e.getLargestUnit():null}),a=0;a<n.length;a++)for(var l=n[a],c=e.isWeekStarts[a],u=0;u<o.length;u++){var d=o[u],p=s[u],h=p[p.length-1],f=1<o.length&&u<o.length-1,v=null;if(f){var y=t.format(l,d);h&&h.text===y?h.colspan+=1:v=z(l,y,i[u],r)}else if(!h||E.isInt(t.countDurationsBetween(e.normalizedRange.start,l,e.labelInterval))){y=t.format(l,d);v=z(l,y,i[u],r)}else h.colspan+=1;v&&(v.weekStart=c,p.push(v))}return s}(n,r,t),n}function P(e,t,r){var n=e;return t.isTimeScale||(n=E.startOfDay(n),t.largeUnit&&(n=r.startOf(n,t.largeUnit))),n}function _(e,t,r,n){if(n.dateProfileGenerator.isHiddenDay(e))return!1;if(t.isTimeScale){var o=E.startOfDay(e),s=e.valueOf()-o.valueOf()-E.asRoughMs(r.minTime);return(s=(s%864e5+864e5)%864e5)<t.timeWindowMs}return!0}function H(e,t){var r=e.opt(t);if(null!=r)return E.createDuration(r)}function A(e,t,r){var n=t.currentRange,o=e.labelInterval;if(!o){var s=void 0;if(e.slotDuration){for(var i=0,a=T;i<a.length;i++){s=a[i];var l=E.createDuration(s),c=E.wholeDivideDurations(l,e.slotDuration);if(null!==c&&c<=D){o=l;break}}o=o||e.slotDuration}else for(var u=0,d=T;u<d.length;u++){s=d[u],o=E.createDuration(s);var p=r.countDurationsBetween(n.start,n.end,o);if(w<=p)break}e.labelInterval=o}return o}function O(e,t,r){var n=t.currentRange,o=null;return"years"===e?o=r.diffWholeYears(n.start,n.end):"months"===e?o=r.diffWholeMonths(n.start,n.end):"weeks"===e?o=r.diffWholeMonths(n.start,n.end):"days"===e&&(o=E.diffWholeDays(n.start,n.end)),o||0}function z(e,t,r,n){return{text:t,spanHtml:E.buildGotoAnchorHtml(n,{date:e,type:r,forceOff:!r},{class:"fc-cell-text"},E.htmlEscape(t)),date:e,colspan:1,isWeekStart:!1}}var M=(j.prototype.render=function(e,t){var r=t?{right:-e}:{left:e};this.headParent.appendChild(this.arrowEl=E.createElement("div",{className:"fc-now-indicator fc-now-indicator-arrow",style:r})),this.bodyParent.appendChild(this.lineEl=E.createElement("div",{className:"fc-now-indicator fc-now-indicator-line",style:r}))},j.prototype.unrender=function(){this.arrowEl&&E.removeElement(this.arrowEl),this.lineEl&&E.removeElement(this.lineEl)},j);function j(e,t){this.headParent=e,this.bodyParent=t}var k,B=-1!==(k=E.htmlToElement('<div style="position:-webkit-sticky;position:sticky"></div>').style.position).indexOf("sticky")?k:null,F=/Edge/.test(navigator.userAgent),N="-webkit-sticky"===B,G=(U.prototype.destroy=function(){this.scroller.off("scrollEnd",this.updateSize)},U.prototype.queryElGeoms=function(e){for(var t=this.scroller.canvas.el.getBoundingClientRect(),r=[],n=0,o=e;n<o.length;n++){var s=o[n],i=E.translateRect(s.parentNode.getBoundingClientRect(),-t.left,-t.top),a=s.getBoundingClientRect(),l=window.getComputedStyle(s),c=window.getComputedStyle(s.parentNode).textAlign,u=c,d=null;"sticky"!==l.position&&(d=E.translateRect(a,-t.left-(parseFloat(l.left)||0),-t.top-(parseFloat(l.top)||0))),s.hasAttribute("data-sticky-center")&&(u="center"),r.push({parentBound:i,naturalBound:d,elWidth:a.width,elHeight:a.height,computedTextAlign:c,intendedTextAlign:u})}return r},U.prototype.computeElDestinations=function(e,t){var a=this.scroller.getScrollFromLeft(),l=this.scroller.getScrollTop(),c=a+t;return e.map(function(e){var t,r,n=e.elWidth,o=e.elHeight,s=e.parentBound,i=e.naturalBound;switch(e.intendedTextAlign){case"left":t=a;break;case"right":t=c-n;break;case"center":t=(a+c)/2-n/2}return t=Math.min(t,s.right-n),t=Math.max(t,s.left),r=l,r=Math.min(r,s.bottom-o),{left:t,top:r=Math.max(r,i.top)}})},U);function U(e,t,r){var n=this;this.usingRelative=null,this.updateSize=function(){var e=Array.prototype.slice.call(n.scroller.canvas.el.querySelectorAll(".fc-sticky")),t=n.queryElGeoms(e),r=n.scroller.el.clientWidth;n.usingRelative?function(e,n,o){e.forEach(function(e,t){var r=n[t].naturalBound;E.applyStyle(e,{position:"relative",left:o[t].left-r.left,top:o[t].top-r.top})})}(e,t,n.computeElDestinations(t,r)):function(e,n,o){e.forEach(function(e,t){var r=0;"center"===n[t].intendedTextAlign&&(r=(o-n[t].elWidth)/2,"center"===n[t].computedTextAlign&&(e.setAttribute("data-sticky-center",""),e.parentNode.style.textAlign="left")),E.applyStyle(e,{position:B,left:r,right:0,top:0})})}(e,t,r)},this.scroller=e,this.usingRelative=!B||F&&t||(F||N)&&r,this.usingRelative&&e.on("scrollEnd",this.updateSize)}var L,W=(t(q,L=E.Component),q.prototype.destroy=function(){this.layout.destroy(),this.header.destroy(),this.slats.destroy(),this.nowIndicator.unrender(),this.headStickyScroller.destroy(),this.bodyStickyScroller.destroy(),L.prototype.destroy.call(this)},q.prototype.render=function(e){var t=this.tDateProfile=x(e.dateProfile,this.view);this.header.receiveProps({dateProfile:e.dateProfile,tDateProfile:t}),this.slats.receiveProps({dateProfile:e.dateProfile,tDateProfile:t})},q.prototype.getNowIndicatorUnit=function(e){var t=this.tDateProfile=x(e,this.view);if(t.isTimeScale)return E.greatestDurationDenominator(t.slotDuration).unit},q.prototype.renderNowIndicator=function(e){E.rangeContainsMarker(this.tDateProfile.normalizedRange,e)&&this.nowIndicator.render(this.dateToCoord(e),this.isRtl)},q.prototype.unrenderNowIndicator=function(){this.nowIndicator.unrender()},q.prototype.updateSize=function(e,t,r){this.applySlotWidth(this.computeSlotWidth()),this.layout.setHeight(t,r),this.slats.updateSize()},q.prototype.updateStickyScrollers=function(){this.headStickyScroller.updateSize(),this.bodyStickyScroller.updateSize()},q.prototype.computeSlotWidth=function(){var e=this.opt("slotWidth")||"";return""===e&&(e=this.computeDefaultSlotWidth(this.tDateProfile)),e},q.prototype.computeDefaultSlotWidth=function(e){var r=0;this.header.innerEls.forEach(function(e,t){r=Math.max(r,e.getBoundingClientRect().width)});var t=Math.ceil(r)+1,n=E.wholeDivideDurations(e.labelInterval,e.slotDuration),o=Math.ceil(t/n),s=window.getComputedStyle(this.header.slatColEls[0]).minWidth;return(s=s&&parseInt(s,10))&&(o=Math.max(o,s)),o},q.prototype.applySlotWidth=function(e){var t=this.layout,r=this.tDateProfile,n="",o="",s="";if(""!==e){n=(e=Math.round(e))*r.slotDates.length,o="",s=e;var i=t.bodyScroller.enhancedScroll.getClientWidth();n<i&&(o=i,n="",s=Math.floor(i/r.slotDates.length))}t.headerScroller.enhancedScroll.canvas.setWidth(n),t.headerScroller.enhancedScroll.canvas.setMinWidth(o),t.bodyScroller.enhancedScroll.canvas.setWidth(n),t.bodyScroller.enhancedScroll.canvas.setMinWidth(o),""!==s&&this.header.slatColEls.slice(0,-1).concat(this.slats.slatColEls.slice(0,-1)).forEach(function(e){e.style.width=s+"px"})},q.prototype.computeDateSnapCoverage=function(e){var t=this.dateEnv,r=this.tDateProfile,n=t.countDurationsBetween(r.normalizedRange.start,e,r.snapDuration);if(n<0)return 0;if(n>=r.snapDiffToIndex.length)return r.snapCnt;var o=Math.floor(n),s=r.snapDiffToIndex[o];return E.isInt(s)?s+=n-o:s=Math.ceil(s),s},q.prototype.dateToCoord=function(e){var t=this.tDateProfile,r=this.computeDateSnapCoverage(e)/t.snapsPerSlot,n=Math.floor(r),o=r-(n=Math.min(n,t.slotCnt-1)),s=this.slats,i=s.innerCoordCache,a=s.outerCoordCache;return this.isRtl?a.rights[n]-i.getWidth(n)*o-a.originClientRect.width:a.lefts[n]+i.getWidth(n)*o},q.prototype.rangeToCoords=function(e){return this.isRtl?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},q.prototype.computeDateScroll=function(e){var t=this.dateEnv,r=this.props.dateProfile,n=0;return r&&(n=this.dateToCoord(t.add(E.startOfDay(r.activeRange.start),e)),!this.isRtl&&n&&(n+=1)),{left:n}},q.prototype.queryDateScroll=function(){return{left:this.layout.bodyScroller.enhancedScroll.getScrollLeft()}},q.prototype.applyDateScroll=function(e){this.layout.bodyScroller.enhancedScroll.setScrollLeft(e.left||0),this.layout.headerScroller.enhancedScroll.setScrollLeft(e.left||0)},q);function q(e,t,r){var n=L.call(this,e)||this,o=n.layout=new v(t,r,"auto"),s=o.headerScroller.enhancedScroll,i=o.bodyScroller.enhancedScroll;return n.headStickyScroller=new G(s,n.isRtl,!1),n.bodyStickyScroller=new G(i,n.isRtl,!1),n.header=new m(e,s.canvas.contentEl),n.slats=new b(e,i.canvas.bgEl),n.nowIndicator=new M(s.canvas.el,i.canvas.el),n}var V,J=(t(K,V=E.FgEventRenderer),K.prototype.renderSegHtml=function(e,t){var r=this.context.view,n=e.eventRange,o=n.def,s=n.ui,i=r.computeEventDraggable(o,s),a=e.isStart&&r.computeEventStartResizable(o,s),l=e.isEnd&&r.computeEventEndResizable(o,s),c=this.getSegClasses(e,i,a||l,t);c.unshift("fc-timeline-event","fc-h-event");var u=this.getTimeText(n);return'<a class="'+c.join(" ")+'" style="'+E.cssToStr(this.getSkinCss(s))+'"'+(o.url?' href="'+E.htmlEscape(o.url)+'"':"")+">"+(u?'<span class="fc-time-wrap"><span class="fc-time">'+E.htmlEscape(u)+"</span></span>":"")+'<span class="fc-title-wrap"><span class="fc-title fc-sticky">'+(o.title?E.htmlEscape(o.title):"&nbsp;")+"</span></span>"+(a?'<div class="fc-resizer fc-start-resizer"></div>':"")+(l?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},K.prototype.computeDisplayEventTime=function(){return!this.timeAxis.tDateProfile.isTimeScale},K.prototype.computeDisplayEventEnd=function(){return!1},K.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},K.prototype.attachSegs=function(e,t){if(!this.el&&this.masterContainerEl&&(this.el=E.createElement("div",{className:"fc-event-container"}),t&&this.el.classList.add("fc-mirror-container"),this.masterContainerEl.appendChild(this.el)),this.el)for(var r=0,n=e;r<n.length;r++){var o=n[r];this.el.appendChild(o.el)}},K.prototype.detachSegs=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];E.removeElement(n.el)}},K.prototype.computeSegSizes=function(e){for(var t=this.timeAxis,r=0,n=e;r<n.length;r++){var o=n[r],s=t.rangeToCoords(o);E.applyStyle(o.el,{left:o.left=s.left,right:-(o.right=s.right)})}},K.prototype.assignSegSizes=function(e){if(this.el){for(var t=0,r=e;t<r.length;t++)(i=r[t]).height=E.computeHeightAndMargins(i.el);this.buildSegLevels(e);var n=Z(e);E.applyStyleProp(this.el,"height",n);for(var o=0,s=e;o<s.length;o++){var i=s[o];E.applyStyleProp(i.el,"top",i.top)}}},K.prototype.buildSegLevels=function(e){for(var t=[],r=0,n=e=this.sortEventSegs(e);r<n.length;r++){var o=n[r];o.above=[];for(var s=0;s<t.length;){for(var i=!1,a=0,l=t[s];a<l.length;a++){var c=l[a];Y(o,c)&&(o.above.push(c),i=!0)}if(!i)break;s+=1}for((t[s]||(t[s]=[])).push(o),s+=1;s<t.length;){for(var u=0,d=t[s];u<d.length;u++){var p=d[u];Y(o,p)&&p.above.push(o)}s+=1}}return t},K);function K(e,t,r){var n=V.call(this,e)||this;return n.masterContainerEl=t,n.timeAxis=r,n}function Z(e){for(var t=0,r=0,n=e;r<n.length;r++){var o=n[r];t=Math.max(t,X(o))}return t}function X(e){return null==e.top&&(e.top=Z(e.above)),e.top+e.height}function Y(e,t){return e.left<t.right&&e.right>t.left}var $,Q=(t(ee,$=E.FillRenderer),ee.prototype.attachSegs=function(e,t){if(t.length){var r=void 0;r="businessHours"===e?"bgevent":e.toLowerCase();var n=E.createElement("div",{className:"fc-"+r+"-container"});this.masterContainerEl.appendChild(n);for(var o=0,s=t;o<s.length;o++){var i=s[o];n.appendChild(i.el)}return[n]}},ee.prototype.computeSegSizes=function(e){for(var t=this.timeAxis,r=0,n=e;r<n.length;r++){var o=n[r],s=t.rangeToCoords(o);o.left=s.left,o.right=s.right}},ee.prototype.assignSegSizes=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];E.applyStyle(n.el,{left:n.left,right:-n.right})}},ee);function ee(e,t,r){var n=$.call(this,e)||this;return n.masterContainerEl=t,n.timeAxis=r,n}var te,re=(t(ne,te=E.DateComponent),ne.prototype.render=function(e){var t=this.slicer.sliceProps(e,e.dateProfile,this.timeAxis.tDateProfile.isTimeScale?null:e.nextDayThreshold,this,this.timeAxis);this.renderBusinessHours(t.businessHourSegs),this.renderDateSelection(t.dateSelectionSegs),this.renderBgEvents(t.bgEventSegs),this.renderFgEvents(t.fgEventSegs),this.renderEventSelection(t.eventSelection),this.renderEventDrag(t.eventDrag),this.renderEventResize(t.eventResize)},ne.prototype.destroy=function(){te.prototype.destroy.call(this),this.renderBusinessHours.unrender(),this.renderDateSelection.unrender(),this.renderBgEvents.unrender(),this.renderFgEvents.unrender(),this.renderEventSelection.unrender(),this.renderEventDrag.unrender(),this.renderEventResize.unrender()},ne.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.mirrorRenderer.renderSegs(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},ne.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},ne.prototype._renderEventResize=function(e){if(e){var t=e.segs.map(function(e){return r({},e)});this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",t),this.mirrorRenderer.renderSegs(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg})}},ne.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight"),this.mirrorRenderer.unrender(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},ne.prototype.updateSize=function(e){var t=this.fillRenderer,r=this.eventRenderer,n=this.mirrorRenderer;t.computeSizes(e),r.computeSizes(e),n.computeSizes(e),t.assignSizes(e),r.assignSizes(e),n.assignSizes(e)},ne);function ne(e,t,r,n){var o=te.call(this,e,r)||this;o.slicer=new se,o.renderEventDrag=E.memoizeRendering(o._renderEventDrag,o._unrenderEventDrag),o.renderEventResize=E.memoizeRendering(o._renderEventResize,o._unrenderEventResize);var s=o.fillRenderer=new Q(e,r,n),i=o.eventRenderer=new J(e,t,n);return o.mirrorRenderer=new J(e,t,n),o.renderBusinessHours=E.memoizeRendering(s.renderSegs.bind(s,"businessHours"),s.unrender.bind(s,"businessHours")),o.renderDateSelection=E.memoizeRendering(s.renderSegs.bind(s,"highlight"),s.unrender.bind(s,"highlight")),o.renderBgEvents=E.memoizeRendering(s.renderSegs.bind(s,"bgEvent"),s.unrender.bind(s,"bgEvent")),o.renderFgEvents=E.memoizeRendering(i.renderSegs.bind(i),i.unrender.bind(i)),o.renderEventSelection=E.memoizeRendering(i.selectByInstanceId.bind(i),i.unselectByInstanceId.bind(i),[o.renderFgEvents]),o.timeAxis=n,o}var oe,se=(t(ie,oe=E.Slicer),ie.prototype.sliceRange=function(e,t){var r=t.tDateProfile,n=t.props.dateProfile,o=function(e,t,r){if(!t.isTimeScale&&(e=E.computeVisibleDayRange(e),t.largeUnit)){var n=e;((e={start:r.startOf(e.start,t.largeUnit),end:r.startOf(e.end,t.largeUnit)}).end.valueOf()!==n.end.valueOf()||e.end<=e.start)&&(e={start:e.start,end:r.add(e.end,t.slotDuration)})}return e}(e,r,t.dateEnv),s=[];if(t.computeDateSnapCoverage(o.start)<t.computeDateSnapCoverage(o.end)){var i=E.intersectRanges(o,r.normalizedRange);i&&s.push({start:i.start,end:i.end,isStart:i.start.valueOf()===o.start.valueOf()&&_(i.start,r,n,t.view),isEnd:i.end.valueOf()===o.end.valueOf()&&_(E.addMs(i.end,-1),r,n,t.view)})}return s},ie);function ie(){return null!==oe&&oe.apply(this,arguments)||this}var ae,le=(t(ce,ae=E.View),ce.prototype.destroy=function(){this.timeAxis.destroy(),this.lane.destroy(),ae.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},ce.prototype.renderSkeletonHtml=function(){var e=this.theme;return'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},ce.prototype.render=function(e){ae.prototype.render.call(this,e),this.timeAxis.receiveProps({dateProfile:e.dateProfile}),this.lane.receiveProps(r({},e,{nextDayThreshold:this.nextDayThreshold}))},ce.prototype.updateSize=function(e,t,r){this.timeAxis.updateSize(e,t,r),this.lane.updateSize(e)},ce.prototype.getNowIndicatorUnit=function(e){return this.timeAxis.getNowIndicatorUnit(e)},ce.prototype.renderNowIndicator=function(e){this.timeAxis.renderNowIndicator(e)},ce.prototype.unrenderNowIndicator=function(){this.timeAxis.unrenderNowIndicator()},ce.prototype.computeDateScroll=function(e){return this.timeAxis.computeDateScroll(e)},ce.prototype.applyScroll=function(e,t){ae.prototype.applyScroll.call(this,e,t);var r=this.calendar;(t||r.isViewUpdated||r.isDatesUpdated||r.isEventsUpdated)&&this.timeAxis.updateStickyScrollers()},ce.prototype.applyDateScroll=function(e){this.timeAxis.applyDateScroll(e)},ce.prototype.queryScroll=function(){var e=this.timeAxis.layout.bodyScroller.enhancedScroll;return{top:e.getScrollTop(),left:e.getScrollLeft()}},ce.prototype.buildPositionCaches=function(){this.timeAxis.slats.updateSize()},ce.prototype.queryHit=function(e,t,r,n){var o=this.timeAxis.slats.positionToHit(e);if(o)return{component:this,dateSpan:o.dateSpan,rect:{left:o.left,right:o.right,top:0,bottom:n},dayEl:o.dayEl,layer:0}},ce);function ce(e,t,r,n){var o=ae.call(this,e,t,r,n)||this;return o.el.classList.add("fc-timeline"),!1===o.opt("eventOverlap")&&o.el.classList.add("fc-no-overlap"),o.el.innerHTML=o.renderSkeletonHtml(),o.timeAxis=new W(o.context,o.el.querySelector("thead .fc-time-area"),o.el.querySelector("tbody .fc-time-area")),o.lane=new re(o.context,o.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl,o.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl,o.timeAxis),e.calendar.registerInteractiveComponent(o,{el:o.timeAxis.slats.el}),o}var ue=E.createPlugin({defaultView:"timelineDay",views:{timeline:{class:le,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});e.HeaderBodyLayout=v,e.ScrollJoiner=h,e.StickyScroller=G,e.TimeAxis=W,e.TimelineLane=re,e.TimelineView=le,e.default=ue,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/timeline"),require("@fullcalendar/resource-common")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/timeline","@fullcalendar/resource-common"],t):t((e=e||self).FullCalendarResourceTimeline={},e.FullCalendar,e.FullCalendarTimeline,e.FullCalendarResourceCommon)}(this,function(e,I,T,x){"use strict";var t="default"in T?T.default:T,r="default"in x?x.default:x,n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i,c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=(o(a,i=I.Component),a.prototype.destroy=function(){I.removeElement(this.spreadsheetTr),I.removeElement(this.timeAxisTr),i.prototype.destroy.call(this)},a.prototype.updateSize=function(e){this.isSizeDirty=!1},a);function a(e,t,r,n,o){var s=i.call(this,e)||this;return s.isSizeDirty=!1,t.insertBefore(s.spreadsheetTr=document.createElement("tr"),r),n.insertBefore(s.timeAxisTr=document.createElement("tr"),o),s}function l(e,t){var r=e.classList;t?(r.remove("fc-icon-plus-square"),r.add("fc-icon-minus-square")):(r.remove("fc-icon-minus-square"),r.add("fc-icon-plus-square"))}function u(e,t){e.setAttribute("data-resource-id",t)}var d,p=(o(h,d=s),h.prototype.render=function(e){this._renderCells(e.group,e.spreadsheetColCnt),this._updateExpanderIcon(e.isExpanded),this.isSizeDirty=!0},h.prototype.destroy=function(){d.prototype.destroy.call(this),this._renderCells.unrender()},h.prototype.renderCells=function(e,t){var r=this.renderSpreadsheetContent(e);this.spreadsheetTr.appendChild(I.createElement("td",{className:"fc-divider",colSpan:t},this.spreadsheetHeightEl=I.createElement("div",null,r))),this.expanderIconEl=r.querySelector(".fc-icon"),this.expanderIconEl.parentElement.addEventListener("click",this.onExpanderClick),this.timeAxisTr.appendChild(I.createElement("td",{className:"fc-divider"},this.timeAxisHeightEl=document.createElement("div")))},h.prototype.unrenderCells=function(){this.spreadsheetTr.innerHTML="",this.timeAxisTr.innerHTML=""},h.prototype.renderSpreadsheetContent=function(e){var t=this.renderCellText(e),r=I.htmlToElement('<div class="fc-cell-content"><span class="fc-expander"><span class="fc-icon"></span></span><span class="fc-cell-text">'+(t?I.htmlEscape(t):"&nbsp;")+"</span></div>"),n=e.spec.render;return"function"==typeof n&&(r=n(r,e.value)||r),r},h.prototype.renderCellText=function(e){var t=e.value||"",r=e.spec.text;return"function"==typeof r&&(t=r(t)||t),t},h.prototype.getHeightEls=function(){return[this.spreadsheetHeightEl,this.timeAxisHeightEl]},h.prototype.updateExpanderIcon=function(e){l(this.expanderIconEl,e)},h);function h(){var r=null!==d&&d.apply(this,arguments)||this;return r._renderCells=I.memoizeRendering(r.renderCells,r.unrenderCells),r._updateExpanderIcon=I.memoizeRendering(r.updateExpanderIcon,null,[r._renderCells]),r.onExpanderClick=function(e){var t=r.props;r.calendar.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.id,isExpanded:!t.isExpanded})},r}p.addEqualityFuncs({group:x.isGroupsEqual});var f,v=(o(y,f=I.Component),y.prototype.render=function(e){this._renderRow(e.resource,e.rowSpans,e.depth,e.colSpecs),this._updateTrResourceId(this.tr,e.resource.id),this._updateExpanderIcon(e.hasChildren,e.isExpanded)},y.prototype.destroy=function(){f.prototype.destroy.call(this),this._renderRow.unrender()},y.prototype.renderRow=function(e,t,r,n){for(var o,s=this.tr,i=this.theme,a=this.calendar,l=this.view,c=x.buildResourceFields(e),u=0;u<n.length;u++){var d=n[u],p=t[u];if(0!==p){null==p&&(p=1);var h=void 0;h=d.field?c[d.field]:x.buildResourceTextFunc(d.text,a)(e);var f=I.htmlToElement('<div class="fc-cell-content">'+(d.isMain?g(r):"")+'<span class="fc-cell-text">'+(h?I.htmlEscape(h):"&nbsp;")+"</span></div>");"function"==typeof d.render&&(f=d.render(new x.ResourceApi(a,e),f)||f),1<p&&f.classList.add("fc-sticky");var v=I.createElement("td",{className:i.getClass("widgetContent"),rowspan:p},f);d.isMain&&(v.appendChild(this.heightEl=I.createElement("div",null,v.childNodes)),o=v),s.appendChild(v)}}this.expanderIconEl=s.querySelector(".fc-expander-space .fc-icon"),l.publiclyTrigger("resourceRender",[{resource:new x.ResourceApi(a,e),el:o,view:l}])},y.prototype.unrenderRow=function(){this.tr.innerHTML=""},y.prototype.updateExpanderIcon=function(e,t){var r=this.expanderIconEl,n=r.parentElement;r&&n&&(e?(n.addEventListener("click",this.onExpanderClick),n.classList.add("fc-expander"),l(r,t)):(n.removeEventListener("click",this.onExpanderClick),n.classList.remove("fc-expander"),function(e){var t=e.classList;t.remove("fc-icon-minus-square"),t.remove("fc-icon-plus-square")}(r)))},y);function y(e,t){var r=f.call(this,e)||this;return r._renderRow=I.memoizeRendering(r.renderRow,r.unrenderRow),r._updateTrResourceId=I.memoizeRendering(u,null,[r._renderRow]),r._updateExpanderIcon=I.memoizeRendering(r.updateExpanderIcon,null,[r._renderRow]),r.onExpanderClick=function(e){var t=r.props;r.calendar.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.id,isExpanded:!t.isExpanded})},r.tr=t,r}function g(e){for(var t="",r=0;r<e;r++)t+='<span class="fc-icon"></span>';return t+='<span class="fc-expander-space"><span class="fc-icon"></span></span>'}var m,S=(o(E,m=s),E.prototype.destroy=function(){this.spreadsheetRow.destroy(),this.lane.destroy(),m.prototype.destroy.call(this)},E.prototype.render=function(e){this.spreadsheetRow.receiveProps({colSpecs:e.colSpecs,id:e.id,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource}),this._updateTrResourceId(this.timeAxisTr,e.resource.id),this.lane.receiveProps({dateProfile:e.dateProfile,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize}),this.isSizeDirty=!0},E.prototype.updateSize=function(e){m.prototype.updateSize.call(this,e),this.lane.updateSize(e)},E.prototype.getHeightEls=function(){return[this.spreadsheetRow.heightEl,this.innerContainerEl]},E);function E(e,t,r,n,o,s){var i=m.call(this,e,t,r,n,o)||this;return i._updateTrResourceId=I.memoizeRendering(u),i.spreadsheetRow=new v(e,i.spreadsheetTr),i.timeAxisTr.appendChild(I.createElement("td",{className:i.theme.getClass("widgetContent")},i.innerContainerEl=document.createElement("div"))),i.lane=new T.TimelineLane(e,i.innerContainerEl,i.innerContainerEl,s),i}S.addEqualityFuncs({rowSpans:I.isArraysEqual});var R,b=(o(C,R=I.Component),C.prototype.destroy=function(){for(var e=0,t=this.resizables;e<t.length;e++)t[e].destroy();I.removeElement(this.tableEl),R.prototype.destroy.call(this)},C.prototype.render=function(e){var t=this.theme,r=e.colSpecs,n="<colgroup>"+e.colTags+"</colgroup><tbody>";e.superHeaderText&&(n+='<tr class="fc-super"><th class="'+t.getClass("widgetHeader")+'" colspan="'+r.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+I.htmlEscape(e.superHeaderText)+"</span></div></th></tr>"),n+="<tr>";for(var o=0;o<r.length;o++){var s=r[o],i=o===r.length-1;n+='<th class="'+t.getClass("widgetHeader")+'"><div><div class="fc-cell-content">'+(s.isMain?'<span class="fc-expander-space"><span class="fc-icon"></span></span>':"")+'<span class="fc-cell-text">'+I.htmlEscape(s.labelText||"")+"</span></div>"+(i?"":'<div class="fc-col-resizer"></div>')+"</div></th>"}n+="</tr>",n+="</tbody>",this.tableEl.innerHTML=n,this.thEls=Array.prototype.slice.call(this.tableEl.querySelectorAll("th")),this.colEls=Array.prototype.slice.call(this.tableEl.querySelectorAll("col")),this.resizerEls=Array.prototype.slice.call(this.tableEl.querySelectorAll(".fc-col-resizer")),this.initColResizing()},C.prototype.initColResizing=function(){var o=this,s=this.calendar.pluginSystem.hooks.elementDraggingImpl;s&&(this.resizables=this.resizerEls.map(function(e,t){var r,n=new s(e);return n.emitter.on("dragstart",function(){"number"!=typeof(r=o.colWidths[t])&&(r=o.thEls[t].getBoundingClientRect().width)}),n.emitter.on("dragmove",function(e){o.colWidths[t]=Math.max(r+e.deltaX*(o.isRtl?-1:1),30),o.emitter.trigger("colwidthchange",o.colWidths)}),n.setAutoScrollEnabled(!1),n}))},C);function C(e,t){var r=R.call(this,e)||this;return r.resizables=[],r.colWidths=[],r.emitter=new I.EmitterMixin,t.appendChild(r.tableEl=I.createElement("table",{className:r.theme.getClass("tableGrid")})),r}var w,P=(o(D,w=I.Component),D.prototype.destroy=function(){this.header.destroy(),this.layout.destroy(),this._renderCells.unrender(),w.prototype.destroy.call(this)},D.prototype.render=function(e){this._renderCells(e.superHeaderText,e.colSpecs)},D.prototype.renderCells=function(e,t){var r=this.renderColTags(t);this.header.receiveProps({superHeaderText:e,colSpecs:t,colTags:r}),this.bodyColGroup.innerHTML=r,this.bodyColEls=Array.prototype.slice.call(this.bodyColGroup.querySelectorAll("col")),this.applyColWidths(t.map(function(e){return e.width}))},D.prototype.unrenderCells=function(){this.bodyColGroup.innerHTML=""},D.prototype.renderColTags=function(e){for(var t="",r=0,n=e;r<n.length;r++)n[r].isMain?t+='<col class="fc-main-col"/>':t+="<col/>";return t},D.prototype.updateSize=function(e,t,r){this.layout.setHeight(t,r)},D.prototype.applyColWidths=function(e){var s=this;e.forEach(function(e,t){var r,n=s.header.colEls[t],o=s.bodyColEls[t];"number"==typeof e?r=e+"px":null==typeof e&&(r=""),n.style.width=o.style.width=r})},D);function D(e,t,r){var n=w.call(this,e)||this;n._renderCells=I.memoizeRendering(n.renderCells,n.unrenderCells),n.layout=new T.HeaderBodyLayout(t,r,"clipped-scroll");var o=n.layout.headerScroller.enhancedScroll,s=n.layout.bodyScroller.enhancedScroll;return n.header=new b(e,o.canvas.contentEl),n.header.emitter.on("colwidthchange",function(e){n.applyColWidths(e)}),s.canvas.contentEl.appendChild(n.bodyContainerEl=I.createElement("div",{className:"fc-rows"},"<table><colgroup /><tbody /></table>")),n.bodyColGroup=n.bodyContainerEl.querySelector("colgroup"),n.bodyTbody=n.bodyContainerEl.querySelector("tbody"),n}var _,H=(o(A,_=I.View),A.prototype.renderSkeletonHtml=function(){var e=this.theme;return'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-resource-area '+e.getClass("widgetHeader")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+e.getClass("widgetContent")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},A.prototype.render=function(e){_.prototype.render.call(this,e);var t=this.splitter.splitProps(e),r=this.hasResourceBusinessHours(e.resourceStore);this.timeAxis.receiveProps({dateProfile:e.dateProfile}),this.lane.receiveProps(c({},t[""],{dateProfile:e.dateProfile,nextDayThreshold:this.nextDayThreshold,businessHours:r?null:e.businessHours}));var n=this.buildRowNodes(e.resourceStore,this.groupSpecs,this.orderSpecs,this.isVGrouping,e.resourceEntityExpansions,this.opt("resourcesInitiallyExpanded"));this._updateHasNesting(this.hasNesting(n)),this.diffRows(n),this.renderRows(e.dateProfile,r?e.businessHours:null,t)},A.prototype.updateHasNesting=function(e){var t=this.el.classList;e?t.remove("fc-flat"):t.add("fc-flat")},A.prototype.diffRows=function(e){var t=this.rowNodes,r=t.length,n={},o=0,s=0;for(o=0;o<r;o++)n[t[o].id]=o;for(s=o=0;s<e.length;s++){var i=e[s],a=n[i.id];null!=a&&o<=a?(this.removeRows(s,a-o,t),o=a+1):this.addRow(s,i)}this.removeRows(s,r-o,t),this.rowNodes=e},A.prototype.addRow=function(e,t){var r=this.rowComponents,n=this.rowComponentsById,o=r[e],s=this.buildChildComponent(t,this.spreadsheet.bodyTbody,o?o.spreadsheetTr:null,this.timeAxisTbody,o?o.timeAxisTr:null);r.splice(e,0,s),n[t.id]=s},A.prototype.removeRows=function(e,t,r){if(t){for(var n=this.rowComponents,o=this.rowComponentsById,s=0;s<t;s++)n[e+s].destroy(),delete o[r[s].id];n.splice(e,t)}},A.prototype.buildChildComponent=function(e,t,r,n,o){return e.group?new p(this.context,t,r,n,o):e.resource?new S(this.context,t,r,n,o,this.timeAxis):void 0},A.prototype.renderRows=function(e,t,r){for(var n=this.rowNodes,o=this.rowComponents,s=0;s<n.length;s++){var i=n[s],a=o[s];if(i.group)a.receiveProps({spreadsheetColCnt:this.colSpecs.length,id:i.id,isExpanded:i.isExpanded,group:i.group});else{var l=i.resource;a.receiveProps(c({},r[l.id],{dateProfile:e,nextDayThreshold:this.nextDayThreshold,businessHours:l.businessHours||t,colSpecs:this.colSpecs,id:i.id,rowSpans:i.rowSpans,depth:i.depth,isExpanded:i.isExpanded,hasChildren:i.hasChildren,resource:i.resource}))}}},A.prototype.updateSize=function(e,t,r){var n=this.calendar,o=e||n.isViewUpdated||n.isDatesUpdated||n.isEventsUpdated;o&&(this.syncHeadHeights(),this.timeAxis.updateSize(e,t-this.miscHeight,r),this.spreadsheet.updateSize(e,t-this.miscHeight,r));var s=this.updateRowSizes(e);this.lane.updateSize(e),(o||s)&&(this.bodyScrollJoiner.update(),this.timeAxis.layout.scrollJoiner.update(),this.rowPositions=new I.PositionCache(this.timeAxis.slats.el,this.rowComponents.map(function(e){return e.timeAxisTr}),!1,!0),this.rowPositions.build(),this.isStickyScrollDirty=!0)},A.prototype.syncHeadHeights=function(){var e=this.spreadsheet.header.tableEl,t=this.timeAxis.header.tableEl;e.style.height="",t.style.height="";var r=Math.max(e.getBoundingClientRect().height,t.getBoundingClientRect().height);e.style.height=t.style.height=r+"px"},A.prototype.updateRowSizes=function(e){var t=this.rowComponents;e||(t=t.filter(function(e){return e.isSizeDirty}));for(var r=t.map(function(e){return e.getHeightEls()}),n=0,o=r;n<o.length;n++)for(var s=0,i=o[n];s<i.length;s++)i[s].style.height="";for(var a=0,l=t;a<l.length;a++)l[a].updateSize(e);for(var c=r.map(function(e){for(var t=null,r=0,n=e;r<n.length;r++){var o=n[r].getBoundingClientRect().height;(null===t||t<o)&&(t=o)}return t}),u=0;u<r.length;u++)for(var d=0,p=r[u];d<p.length;d++)p[d].style.height=c[u]+"px";return t.length},A.prototype.destroy=function(){for(var e=0,t=this.rowComponents;e<t.length;e++)t[e].destroy();this.rowNodes=[],this.rowComponents=[],this.spreadsheet.destroy(),this.timeAxis.destroy();for(var r=0,n=this.resourceAreaWidthDraggings;r<n.length;r++)n[r].destroy();this.spreadsheetBodyStickyScroller.destroy(),_.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},A.prototype.getNowIndicatorUnit=function(e){return this.timeAxis.getNowIndicatorUnit(e)},A.prototype.renderNowIndicator=function(e){this.timeAxis.renderNowIndicator(e)},A.prototype.unrenderNowIndicator=function(){this.timeAxis.unrenderNowIndicator()},A.prototype.queryScroll=function(){var e=_.prototype.queryScroll.call(this);return this.props.resourceStore&&c(e,this.queryResourceScroll()),e},A.prototype.applyScroll=function(e,t){_.prototype.applyScroll.call(this,e,t),this.props.resourceStore&&this.applyResourceScroll(e),(t||this.isStickyScrollDirty)&&(this.isStickyScrollDirty=!1,this.spreadsheetBodyStickyScroller.updateSize(),this.timeAxis.updateStickyScrollers())},A.prototype.computeDateScroll=function(e){return this.timeAxis.computeDateScroll(e)},A.prototype.queryDateScroll=function(){return this.timeAxis.queryDateScroll()},A.prototype.applyDateScroll=function(e){this.timeAxis.applyDateScroll(e)},A.prototype.queryResourceScroll=function(){for(var e=this.rowComponents,t=this.rowNodes,r={},n=this.timeAxis.layout.bodyScroller.el.getBoundingClientRect().top,o=0;o<e.length;o++){var s=e[o],i=t[o],a=s.timeAxisTr.getBoundingClientRect().bottom;if(n<a){r.rowId=i.id,r.bottom=a-n;break}}return r},A.prototype.applyResourceScroll=function(e){var t=e.forcedRowId||e.rowId;if(t){var r=this.rowComponentsById[t];if(r){var n=r.timeAxisTr;if(n){var o=this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.el.getBoundingClientRect().top,s=n.getBoundingClientRect(),i=(e.forcedRowId?s.top:s.bottom-e.bottom)-o;this.timeAxis.layout.bodyScroller.enhancedScroll.setScrollTop(i),this.spreadsheet.layout.bodyScroller.enhancedScroll.setScrollTop(i)}}}},A.prototype.buildPositionCaches=function(){this.timeAxis.slats.updateSize(),this.rowPositions.build()},A.prototype.queryHit=function(e,t){var r=this.rowPositions,n=this.timeAxis.slats,o=r.topToIndex(t);if(null!=o){var s=this.rowNodes[o].resource;if(s){var i=n.positionToHit(e);if(i)return{component:this,dateSpan:{range:i.dateSpan.range,allDay:i.dateSpan.allDay,resourceId:s.id},rect:{left:i.left,right:i.right,top:r.tops[o],bottom:r.bottoms[o]},dayEl:i.dayEl,layer:0}}}},A.prototype.setResourceAreaWidth=function(e){this.resourceAreaWidth=e,I.applyStyleProp(this.resourceAreaHeadEl,"width",e||"")},A.prototype.initResourceAreaWidthDragging=function(){var o=this,e=Array.prototype.slice.call(this.el.querySelectorAll(".fc-col-resizer")),s=this.calendar.pluginSystem.hooks.elementDraggingImpl;s&&(this.resourceAreaWidthDraggings=e.map(function(e){var r,n,t=new s(e);return t.emitter.on("dragstart",function(){"number"!=typeof(r=o.resourceAreaWidth)&&(r=o.resourceAreaHeadEl.getBoundingClientRect().width),n=o.el.getBoundingClientRect().width}),t.emitter.on("dragmove",function(e){var t=r+e.deltaX*(o.isRtl?-1:1);t=Math.max(t,30),t=Math.min(t,n-30),o.setResourceAreaWidth(t)}),t.setAutoScrollEnabled(!1),t}))},A.needsResourceData=!0,A);function A(e,t,r,n){var o=_.call(this,e,t,r,n)||this;o.isStickyScrollDirty=!1,o.rowNodes=[],o.rowComponents=[],o.rowComponentsById={},o.resourceAreaWidthDraggings=[],o.splitter=new x.ResourceSplitter,o.hasResourceBusinessHours=I.memoize(O),o.buildRowNodes=I.memoize(x.buildRowNodes),o.hasNesting=I.memoize(z),o._updateHasNesting=I.memoizeRendering(o.updateHasNesting);var s=o.opt("resourceColumns")||[],i=o.opt("resourceLabelText"),a=null;s.length?a=i:s.push({labelText:i||"Resources",text:x.buildResourceTextFunc(o.opt("resourceText"),o.calendar)});for(var l=[],c=[],u=[],d=!1,p=!1,h=0,f=s;h<f.length;h++){var v=f[h];v.group?c.push(v):l.push(v)}if(l[0].isMain=!0,c.length)u=c,d=!0;else{var y=o.opt("resourceGroupField");y&&(p=!0,u.push({field:y,text:o.opt("resourceGroupText"),render:o.opt("resourceGroupRender")}))}for(var g=[],m=0,S=I.parseFieldSpecs(o.opt("resourceOrder"));m<S.length;m++){for(var E=S[m],R=!1,b=0,C=u;b<C.length;b++){var w=C[b];if(w.field===E.field){w.order=E.order,R=!0;break}}R||g.push(E)}o.superHeaderText=a,o.isVGrouping=d,o.isHGrouping=p,o.groupSpecs=u,o.colSpecs=c.concat(l),o.orderSpecs=g,o.el.classList.add("fc-timeline"),!1===o.opt("eventOverlap")&&o.el.classList.add("fc-no-overlap"),o.el.innerHTML=o.renderSkeletonHtml(),o.resourceAreaHeadEl=o.el.querySelector("thead .fc-resource-area"),o.setResourceAreaWidth(o.opt("resourceAreaWidth")),o.initResourceAreaWidthDragging(),o.miscHeight=o.el.getBoundingClientRect().height,o.spreadsheet=new P(o.context,o.resourceAreaHeadEl,o.el.querySelector("tbody .fc-resource-area")),o.timeAxis=new T.TimeAxis(o.context,o.el.querySelector("thead .fc-time-area"),o.el.querySelector("tbody .fc-time-area"));var D=I.createElement("div",{className:"fc-rows"},"<table><tbody /></table>");return o.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl.appendChild(D),o.timeAxisTbody=D.querySelector("tbody"),o.lane=new T.TimelineLane(o.context,null,o.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl,o.timeAxis),o.bodyScrollJoiner=new T.ScrollJoiner("vertical",[o.spreadsheet.layout.bodyScroller,o.timeAxis.layout.bodyScroller]),o.spreadsheetBodyStickyScroller=new T.StickyScroller(o.spreadsheet.layout.bodyScroller.enhancedScroll,o.isRtl,!0),o.spreadsheet.receiveProps({superHeaderText:o.superHeaderText,colSpecs:o.colSpecs}),e.calendar.registerInteractiveComponent(o,{el:o.timeAxis.slats.el}),o}function O(e){for(var t in e){if(e[t].businessHours)return!0}return!1}function z(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n.group)return!0;if(n.resource&&n.hasChildren)return!0}return!1}var M=I.createPlugin({deps:[r,t],defaultView:"resourceTimelineDay",views:{resourceTimeline:{class:H,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});e.ResourceTimelineView=H,e.default=M,Object.defineProperty(e,"__esModule",{value:!0})});
