DPCalendar=window.DPCalendar||{},function(d,c,l,u){"use strict";d.addEventListener("DOMContentLoaded",function(){for(var e=d.querySelectorAll(".mod-dpcalendar-counter"),t=0;t<e.length;t++){var n=e[t];1==n.getAttribute("data-modal")&&n.addEventListener("click",function(e){if(e.target&&e.target.matches(".mod-dpcalendar-counter__link")){e.preventDefault();var t=new u(e.target.getAttribute("href"));t.query.tmpl="component",c.modal(t,0,700)}});var r=l(n.getAttribute("data-date")),o=l();if(0<r-o){n.querySelector(".mod-dpcalendar-counter__ongoing .mod-dpcalendar-counter__intro-text").style.display="none";var a=function(e,t,n,r){var o=n.diff(r,e),a="";0<o?(a="MOD_DPCALENDAR_COUNTER_LABEL_"+e.toUpperCase(),1<o&&(a+="S"),t.querySelector(".mod-dpcalendar-counter__"+e).classList.remove("dp-counter-block_empty")):(o="",t.querySelector(".mod-dpcalendar-counter__"+e).classList.add("dp-counter-block_empty")),t.querySelector(".mod-dpcalendar-counter__"+e+" .dp-counter-block__content").innerText=Joomla.JText._(a),t.querySelector(".mod-dpcalendar-counter__"+e+" .dp-counter-block__number").innerText=o,r.add(o,e)};a("year",n,r,o),a("month",n,r,o),a("week",n,r,o),a("day",n,r,o),a("hour",n,r,o),a("minute",n,r,o),a("second",n,r,o),n.getAttribute("data-counting")&&setInterval(function(e){var t=l(e.getAttribute("data-date")),n=l();a("year",e,t,n),a("month",e,t,n),a("week",e,t,n),a("day",e,t,n),a("hour",e,t,n),a("minute",e,t,n),a("second",e,t,n)},1e3,n)}else n.querySelector(".mod-dpcalendar-counter__upcoming").style.display="none"}})}(document,DPCalendar,moment,Url);
