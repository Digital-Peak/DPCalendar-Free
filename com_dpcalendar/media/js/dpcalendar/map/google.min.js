DPCalendar=window.DPCalendar||{},function(n,e,a){"use strict";a.Map={},a.Map.create=function(e){if("undefined"!=typeof google){var a=e.dataset,o=google.maps.MapTypeId.ROADMAP;switch(a.type){case 2:o=google.maps.MapTypeId.SATELLITE;break;case 3:o=google.maps.MapTypeId.HYBRID;break;case 4:o=google.maps.MapTypeId.TERRAIN}var t=new google.maps.Map(e,{zoom:parseInt(a.zoom?a.zoom:4),mapTypeId:o,center:new google.maps.LatLng(a.latitude?a.latitude:47,a.longitude?a.longitude:4),draggable:480<n.body.clientWidth,scrollwheel:480<n.body.clientWidth});return t.dpBounds=new google.maps.LatLngBounds,t.dpMarkers=[],(t.dpElement=e).dpmap=t}},a.Map.createMarker=function(e,a,o){var t=a.latitude,n=a.longitude;if(null!=t&&""!=t){var l=new google.maps.LatLng(t,n),r={position:l,map:e,title:a.title,draggable:null!=o};a.color&&(r.icon={path:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z",fillColor:"#"+String(a.color).replace("#",""),fillOpacity:1,scale:.07,anchor:new google.maps.Point(150,512)});var p=new google.maps.Marker(r),s=a.description?a.description:a.title;if(s){var d=new google.maps.InfoWindow({content:s});google.maps.event.addListener(p,"click",function(){d.open(e,p)})}return o&&google.maps.event.addListener(p,"dragend",function(e){o(e.latLng.lat(),e.latLng.lng())}),e.dpMarkers.push(p),e.dpBounds.extend(l),e.setCenter(e.dpBounds.getCenter()),p}},a.Map.clearMarkers=function(e){if(null!=e&&null!=e.dpMarkers){for(var a=0;a<e.dpMarkers.length;a++)e.dpMarkers[a].setMap(null);e.dpMarkers=[],e.dpBounds=new google.maps.LatLngBounds;var o=e.dpElement.dataset;e.setCenter(new google.maps.LatLng(o.latitude?o.latitude:47,o.longitude?o.longitude:4))}},a.Map.moveMarker=function(a,e,o,t){e.setPosition(new google.maps.LatLng(o,t)),a.dpBounds=new google.maps.LatLngBounds,a.dpMarkers.forEach(function(e){a.dpBounds.extend(e.position)}),a.setCenter(a.dpBounds.getCenter())},a.Map.drawCircle=function(e,a,o,t){"mile"==t&&(o*=1.60934),e.dpMarkers.push(new google.maps.Circle({map:e,center:{lat:parseFloat(a.latitude),lng:parseFloat(a.longitude)},radius:1e3*o}));var n=new google.maps.Marker({map:e,position:{lat:parseFloat(a.latitude),lng:parseFloat(a.longitude)},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#000",fillOpacity:.6,strokeColor:"#00A",strokeOpacity:.9,strokeWeight:1,scale:6}});e.dpBounds.extend(n.position),e.dpMarkers.push(n),e.setCenter(e.dpBounds.getCenter())}}(document,Joomla,DPCalendar);
