!function(r,e){"use strict";var s=function(c,o,u){DPCalendar.request("task=translate.fetch",function(e){for(var t in e.languages){var r=e.languages[t],n=c.querySelector('.dp-resource__language[data-language="'+r.tag+'"] .dp-resource__percentage');if(n){n.innerHTML=r.percent+"%";var a="success";if(r.percent<30?a="important":r.percent<50?a="warning":r.percent<100&&(a="info"),n.parentElement.classList.add("dp-resource_"+a),o>=u.length)return;s(u[o],o+1,u)}}},"resource="+c.getAttribute("data-slug"))},n=function(e,t,r){DPCalendar.request("task=translate.update",function(){e.querySelector(".dp-resource__icon i").setAttribute("class","icon-checkmark-circle"),t>=r.length||n(r[t],t+1,r)},"resource="+e.getAttribute("data-slug"))};r.addEventListener("DOMContentLoaded",function(){var t=[];[].slice.call(r.querySelectorAll(".com-dpcalendar-tools-translate .dp-resource")).forEach(function(e){t.push(e)}),s(t[0],1,t)}),e.submitbutton=function(e){if("translate.update"==e){var t=[];[].slice.call(r.querySelectorAll(".com-dpcalendar-tools-translate .dp-resource:nth-child(-n+6)")).forEach(function(e){e.querySelector(".dp-resource__icon i").setAttribute("class","icon-loop"),t.push(e)}),n(t[0],1,t)}return!0}}(document,Joomla);
