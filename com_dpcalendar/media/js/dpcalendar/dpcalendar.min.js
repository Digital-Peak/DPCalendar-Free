DPCalendar=window.DPCalendar||{},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null}),function(e){"use strict";e.modal=function(e,t,o,n){var l=new tingle.modal({footer:!1,stickyFooter:!1,closeMethods:["overlay","button","escape"],cssClass:["dpcalendar-modal"],closeLabel:Joomla.JText._("COM_DPCALENDAR_CLOSE","Close"),onClose:function(){n&&n(l.modalBox.children[0].querySelector("iframe"))}});t&&document.body.clientWidth>t&&(isNaN(t)||(t+="px"),document.querySelector(".tingle-modal-box").style.width=t),isNaN(o)||(o+="px"),l.setContent('<iframe width="100%" height="'+o+'" src="'+e.toString()+'" frameborder="0" allowfullscreen></iframe>'),l.open()},e.slideToggle=function(e,t){if(e){if(!e.getAttribute("data-max-height")){var o=window.getComputedStyle(e),n=o.display,l=o.position,i=o.visibility,a=e.offsetHeight;"none"===n&&(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",a=e.offsetHeight,e.style.display=n,e.style.position=l,e.style.visibility=i),e.style.transition="max-height 0.5s ease-in-out",e.style.overflowY="hidden",e.style.maxHeight="none"===n?"0px":a+"px",e.style.display="block",e.setAttribute("data-max-height",a+"px")}var r="0"===e.style.maxHeight.replace("px","").replace("%","");t&&e.addEventListener("transitionend",function(){t(r)},{once:!0}),setTimeout(function(){e.style.maxHeight=r?e.getAttribute("data-max-height"):"0"},1)}},e.encode=function(e){return e.replace(/&amp;/g,"&")},e.pad=function(e,t){for(var o=e+"";o.length<t;)o="0"+o;return o},e.isLocalStorageSupported=function(){var e="test";try{return localStorage.setItem(e,"1"),localStorage.removeItem(e),!0}catch(e){return!1}},e.formToString=function(e,t){for(var o,n=t?e.querySelectorAll(t):e.elements,l=[],i=0;i<n.length;i++)if((o=n[i]).name&&!o.disabled&&"file"!=o.type&&"reset"!=o.type&&"submit"!=o.type&&"button"!=o.type)if("select-multiple"==o.type)for(var a=n[i].options.length-1;a>=0;a--)o.options[a].selected&&(l[l.length]=encodeURIComponent(o.name)+"="+encodeURIComponent(o.options[a].value));else("checkbox"!=o.type&&"radio"!=o.type||o.checked)&&(l[l.length]=encodeURIComponent(o.name)+"="+encodeURIComponent(o.value));return l.join("&").replace(/%20/g,"+")}}(DPCalendar);