!function(r,e){"use strict";var l=function(c,o,u){DPCalendar.request("index.php?option=com_dpcalendar&task=translate.fetch",function(e){for(var t in e.languages){var r=e.languages[t],n=c.querySelector('.dp-resource__language[data-language="'+r.tag+'"] .dp-resource__percentage');if(n){n.innerHTML=r.percent+"%";var a="success";if(r.percent<30?a="important":r.percent<50?a="warning":r.percent<100&&(a="info"),n.parentElement.classList.add("dp-resource_"+a),o>=u.length)return;l(u[o],o+1,u)}}},"resource="+c.getAttribute("data-slug"))},a=function(t,r,n){DPCalendar.request("index.php?option=com_dpcalendar&task=translate.update",function(e){t.querySelector(".dp-resource__icon i").setAttribute("class","icon-checkmark-circle"),r>=n.length||a(n[r],r+1,n)},"resource="+t.getAttribute("data-slug"))};r.addEventListener("DOMContentLoaded",function(){var t=[];[].slice.call(r.querySelectorAll(".com-dpcalendar-translate .dp-resource")).forEach(function(e){t.push(e)}),l(t[0],1,t)}),e.submitbutton=function(e){if("translate.update"==e){var t=[];[].slice.call(r.querySelectorAll(".com-dpcalendar-translate .dp-resource:nth-child(-n+6)")).forEach(function(e){e.querySelector(".dp-resource__icon i").setAttribute("class","icon-loop"),t.push(e)}),a(t[0],1,t)}return!0}}(document,Joomla);