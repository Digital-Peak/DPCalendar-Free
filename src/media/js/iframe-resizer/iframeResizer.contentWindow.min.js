/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v1.4.0 - 2014-02-12
 *  Desc: Include this file in any page being loaded into an iframe
 *        to force the iframe to resize to the content size.
 *  Requires: jquery.iframeSizer.min.js on host page.
 *  Copyright: (c) 2014 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */

!function(){function a(a,b){window.addEventListener?window.addEventListener(a,b,!1):window.attachEvent&&window.attachEvent("on"+a,b)}function b(a){return l+"["+f+"] "+a}function c(a){k&&window.console&&console.log(b(a))}function d(a){window.console&&console.warn(b(a))}function e(b){function d(){function d(a){return"true"===a?!0:!1}function e(){document.body.style.margin=s+"px",c("Body margin set to "+s+"px")}function h(){document.documentElement.style.height="auto",document.body.style.height="auto",c('HTML & body height set to "auto"')}function i(){a("resize",function(){p("resize","Window resized")})}var l=b.data.substr(n).split(":");f=l[0],s=parseInt(l[1],j),t=void 0!==l[2]?d(l[2]):!1,k=void 0!==l[3]?d(l[3]):!1,interval=void 0!==l[4]?parseInt(l[4],j):33,publicMethods=void 0!==l[5]?d(l[5]):!1,autoResize=void 0!==l[6]?d(l[6]):!0,g=b.source,c("Initialising iframe"),e(),h(),!0===autoResize?(c("Auto Resize enabled"),i(),r()):c("Auto Resize disabled"),publicMethods&&q()}function e(){0!==interval&&(c("setInterval: "+interval+"ms"),setInterval(function(){p("interval","setInterval: "+interval)},interval))}function p(a,b,d,e){function k(a){return parseInt(document.body["offset"+a],j)}function m(){var b=f+":"+h+":"+i+":"+a;g.postMessage(l+b,"*"),c("Sending msg to host page ("+b+")")}var n=void 0!==d?d:k("Height")+2*s,p=void 0!==e?e:k("Width")+2*s;"size"===o&&"resize"===a?(c("Trigger event ("+b+") cancelled"),setTimeout(function(){o=a},50)):(h!==n||t&&i!==p)&&(h=n,i=p,c("Trigger event: "+b),o=a,m())}function q(){c("Enabling public methods"),window.parentIFrame=window.iFrameSizer={trigger:function(a,b){window.parentIFrame.size(a,b)},size:function(a,b){var c=""+(a?a:"")+(b?","+b:"");p("size","window.parentIFrame.size("+c+")",a,b)},close:function(){p("close","window.parentIFrame.close()",0,0)}}}function r(){function a(){var a=document.querySelector("body"),d={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1},e=new b(function(a){a.forEach(function(a){p("mutationObserver","mutationObserver: "+a.target+" "+a.type)})});c("Setup MutationObserver"),e.observe(a,d)}var b=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;b?a():(c("MutationObserver not supported in this browser!"),e())}var s,t;l===b.data.substr(0,n)&&m&&(d(),p("init","Init message from host page"),m=!1)}var f="",g=null,h=1,i=1,j=10,k=!1,l="[iFrameSizer]",m=!0,n=l.length,o="";try{a("message",e)}catch(p){d(p)}}();
//# sourceMappingURL=../src/iframeResizer.contentWindow.map