function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarResourceCommon={},e.FullCalendar)}(this,function(e,u){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function t(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var y=function(){return(y=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function s(e,t){var r=e.resourceEditable;if(null==r){var o=e.sourceId&&t.state.eventSources[e.sourceId];o&&(r=o.extendedProps.resourceEditable),null==r&&null==(r=t.opt("eventResourceEditable"))&&(r=t.opt("editable"))}return r}var r=(n.prototype.transform=function(e,t,r,o){if(t.class.needsResourceData)return{resourceStore:this.filterResources(r.resourceStore,o.opt("filterResourcesWithEvents"),r.eventStore,r.dateProfile.activeRange),resourceEntityExpansions:r.resourceEntityExpansions}},n);function n(){this.filterResources=u.memoize(i)}function i(e,t,r,o){if(t){var n=function(e,t){var r={};for(var o in e)for(var n=e[o],i=0,s=t[n.defId].resourceIds;i<s.length;i++){var a=s[i];r[a]=!0}return r}(function(e,t){return u.filterHash(e,function(e){return u.rangesIntersect(e.range,t)})}(r.instances,o),r.defs);return y(n,function(e,t){var r={};for(var o in e)for(var n=void 0;(n=t[o])&&(o=n.parentId);)r[o]=!0;return r}(n,e)),u.filterHash(e,function(e,t){return n[t]})}return e}var a=(l.prototype.transform=function(e,t,r){if(!t.class.needsResourceData)return{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(r.resourceStore))}},l);function l(){this.buildResourceEventUis=u.memoizeOutput(c,u.isPropsEqual),this.injectResourceEventUis=u.memoize(d)}function c(e){return u.mapHash(e,function(e){return e.ui})}function d(e,r,o){return u.mapHash(e,function(e,t){return t?function(e,t,r){for(var o=[],n=0,i=t.resourceIds;n<i.length;n++){var s=i[n];r[s]&&o.unshift(r[s])}return o.unshift(e),u.combineEventUis(o)}(e,r[t],o):e})}var p={id:String},h=[],f=0;function v(e){h.push(e)}function m(e,t,r){var o=u.refineProps(e,p);return o.sourceId=String(f++),o.sourceDefId=r,o.meta=t,o.publicId=o.id,o.isFetching=!1,o.latestFetchId="",o.fetchRange=null,delete o.id,o}function g(e,t,r,o){switch(t.type){case"INIT":return b(o.opt("resources"),o);case"RESET_RESOURCE_SOURCE":return b(t.resourceSourceInput,o,!0);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return function(e,t,r){return!r.opt("refetchResourcesOnNavigate")||function(e){return Boolean(h[e.sourceDefId].ignoreRange)}(e)||e.fetchRange&&u.rangesEqual(e.fetchRange,t)?e:E(e,t,r)}(e,r.activeRange,o);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function(e,t,r){return t!==e.latestFetchId?e:y({},e,{isFetching:!1,fetchRange:r})}(e,t.fetchId,t.fetchRange);case"REFETCH_RESOURCES":return E(e,r.activeRange,o);default:return e}}var S=0;function b(e,t,r){if(e){var o=function(e){for(var t=h.length-1;0<=t;t--){var r=h[t].parseMeta(e);if(r){var o=m("object"===_typeof(e)&&e?e:{},r,t);return o._raw=e,o}}return null}(e);return!r&&t.opt("refetchResourcesOnNavigate")||(o=E(o,null,t)),o}return null}function E(e,t,r){var o=function(e){return h[e]}(e.sourceDefId),n=String(S++);return o.fetch({resourceSource:e,calendar:r,range:t},function(e){r.afterSizingTriggers._resourcesRendered=[null],r.dispatch({type:"RECEIVE_RESOURCES",fetchId:n,fetchRange:t,rawResources:e.rawResources})},function(e){r.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:n,fetchRange:t,error:e})}),y({},e,{isFetching:!0,latestFetchId:n})}var R={id:String,title:String,parentId:String,businessHours:null,children:null,extendedProps:null},w="_fc:",C=0;function D(e,t,r,o){void 0===t&&(t="");var n={},i=u.refineProps(e,R,{},n),s={},a=u.processScopedUiProps("event",n,o,s);if(i.id||(i.id=w+C++),i.parentId||(i.parentId=t),i.businessHours=i.businessHours?u.parseBusinessHours(i.businessHours,o):null,i.ui=a,i.extendedProps=y({},s,i.extendedProps),Object.freeze(a.classNames),Object.freeze(i.extendedProps),!r[i.id]&&(r[i.id]=i).children){for(var l=0,c=i.children;l<c.length;l++){D(c[l],i.id,r,o)}delete i.children}return i}function T(e,t,r,o){switch(t.type){case"INIT":return{};case"RECEIVE_RESOURCES":return function(e,t,r,o,n){{if(o.latestFetchId!==r)return e;for(var i={},s=0,a=t;s<a.length;s++){D(a[s],"",i,n)}return i}}(e,t.rawResources,t.fetchId,r,o);case"ADD_RESOURCE":return function(e,t){return y({},e,t)}(e,t.resourceHash);case"REMOVE_RESOURCE":return function(e,t){var r=y({},e);for(var o in delete r[t],r)r[o].parentId===t&&(r[o]=y({},r[o],{parentId:""}));return r}(e,t.resourceId);case"SET_RESOURCE_PROP":return function(e,t,r,o){var n,i,s=e[t];return s?y({},e,((n={})[t]=y({},s,((i={})[r]=o,i)),n)):e}(e,t.resourceId,t.propName,t.propValue);case"RESET_RESOURCES":return u.mapHash(e,function(e){return y({},e)});default:return e}}var x={resourceId:String,resourceIds:function(e){return(e||[]).map(function(e){return String(e)})},resourceEditable:Boolean};var I=(P.prototype.setProp=function(e,t){this._calendar.dispatch({type:"SET_RESOURCE_PROP",resourceId:this._resource.id,propName:e,propValue:t})},P.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_RESOURCE",resourceId:this._resource.id})},P.prototype.getParent=function(){var e=this._calendar,t=this._resource.parentId;return t?new P(e,e.state.resourceSource[t]):null},P.prototype.getChildren=function(){var e=this._resource.id,t=this._calendar,r=t.state.resourceStore,o=[];for(var n in r)r[n].parentId===e&&o.push(new P(t,r[n]));return o},P.prototype.getEvents=function(){var e=this._resource.id,t=this._calendar,r=t.state.eventStore,o=r.defs,n=r.instances,i=[];for(var s in n){var a=n[s],l=o[a.defId];-1!==l.resourceIds.indexOf(e)&&i.push(new u.EventApi(t,l,a))}return i},Object.defineProperty(P.prototype,"id",{get:function(){return this._resource.id},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"title",{get:function(){return this._resource.title},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventConstraint",{get:function(){return this._resource.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventOverlap",{get:function(){return this._resource.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventAllow",{get:function(){return this._resource.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventBackgroundColor",{get:function(){return this._resource.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventBorderColor",{get:function(){return this._resource.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventTextColor",{get:function(){return this._resource.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"eventClassNames",{get:function(){return this._resource.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"extendedProps",{get:function(){return this._resource.extendedProps},enumerable:!0,configurable:!0}),P);function P(e,t){this._calendar=e,this._resource=t}u.Calendar.prototype.addResource=function(e,t){var r,o,n;return void 0===t&&(t=!0),e instanceof I?((r={})[(n=e._resource).id]=n,o=r):n=D(e,"",o={},this),t&&this.component.view.addScroll({forcedRowId:n.id}),this.dispatch({type:"ADD_RESOURCE",resourceHash:o}),new I(this,n)},u.Calendar.prototype.getResourceById=function(e){if(e=String(e),this.state.resourceStore){var t=this.state.resourceStore[e];if(t)return new I(this,t)}return null},u.Calendar.prototype.getResources=function(){var e=this.state.resourceStore,t=[];if(e)for(var r in e)t.push(new I(this,e[r]));return t},u.Calendar.prototype.getTopLevelResources=function(){var e=this.state.resourceStore,t=[];if(e)for(var r in e)e[r].parentId||t.push(new I(this,e[r]));return t},u.Calendar.prototype.rerenderResources=function(){this.dispatch({type:"RESET_RESOURCES"})},u.Calendar.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};var H,_=(t(A,H=u.Splitter),A.prototype.getKeyInfo=function(e){return y({"":{}},e.resourceStore)},A.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},A.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},A);function A(){return null!==H&&H.apply(this,arguments)||this}function z(e,t){return y({},t,{constraints:function(n,e){return e.map(function(e){var t=e.defs;if(t)for(var r in t){var o=t[r].resourceIds;if(o.length&&-1===o.indexOf(n))return!1}return e})}(e,t.constraints)})}u.EventApi.prototype.getResources=function(){var t=this._calendar;return this._def.resourceIds.map(function(e){return t.getResourceById(e)})},u.EventApi.prototype.setResources=function(e){for(var t=[],r=0,o=e;r<o.length;r++){var n=o[r],i=null;"string"==typeof n?i=n:"number"==typeof n?i=String(n):n instanceof I?i=n.id:console.warn("unknown resource type: "+n),i&&t.push(i)}this.mutate({standardProps:{resourceIds:t}})};var O="2019-08-10",M=372,k=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],B={position:"absolute","z-index":99999,bottom:"1px",left:"1px",background:"#eee","border-color":"#ddd","border-style":"solid","border-width":"1px 1px 0 0",padding:"2px 4px","font-size":"12px","border-top-right-radius":"3px"};var G={resources:function(e,t,r){var o=t.state.resourceSource._raw;r(o,e)||t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:e})}};function L(t,r){return"function"==typeof t?function(e){return t(new I(r,e))}:function(e){return e.title||function(e){return 0===e.indexOf(w)?"":e}(e.id)}}v({ignoreRange:!0,parseMeta:function(e){return Array.isArray(e)?e:Array.isArray(e.resources)?e.resources:null},fetch:function(e,t){t({rawResources:e.resourceSource.meta})}}),v({parseMeta:function(e){return"function"==typeof e?e:"function"==typeof e.resources?e.resources:null},fetch:function(e,t,r){var o=e.calendar.dateEnv,n=e.resourceSource.meta,i={};e.range&&(i={start:o.toDate(e.range.start),end:o.toDate(e.range.end),startStr:o.formatIso(e.range.start),endStr:o.formatIso(e.range.end),timeZone:o.timeZone}),u.unpromisify(n.bind(null,i),function(e){t({rawResources:e})},r)}}),v({parseMeta:function(e){if("string"==typeof e)e={url:e};else if(!e||"object"!==_typeof(e)||!e.url)return null;return{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams}},fetch:function(e,r,o){var t=e.resourceSource.meta,n=function(e,t,r){var o,n,i,s,a=r.dateEnv,l={};t&&(o=r.opt("startParam"),n=r.opt("endParam"),i=r.opt("timeZoneParam"),l[o]=a.formatIso(t.start),l[n]=a.formatIso(t.end),"local"!==a.timeZone&&(l[i]=a.timeZone));s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{};return y(l,s),l}(t,e.range,e.calendar);u.requestJson(t.method,t.url,n,function(e,t){r({rawResources:e,xhr:t})},function(e,t){o({message:e,xhr:t})})}});var N,j=(t(W,N=u.Component),W.prototype.destroy=function(){u.removeElement(this.el)},W.prototype.render=function(e){var t;this.dateFormat=u.createFormatter(this.opt("columnHeaderFormat")||u.computeFallbackHeaderFormat(e.datesRepDistinctDays,e.dates.length)),t=1===e.dates.length?this.renderResourceRow(e.resources):this.datesAboveResources?this.renderDayAndResourceRows(e.dates,e.resources):this.renderResourceAndDayRows(e.resources,e.dates),this.thead.innerHTML=t,this.processResourceEls(e.resources)},W.prototype.renderResourceRow=function(e){var t=this,r=e.map(function(e){return t.renderResourceCell(e,1)});return this.buildTr(r)},W.prototype.renderDayAndResourceRows=function(e,t){for(var r=[],o=[],n=0,i=e;n<i.length;n++){var s=i[n];r.push(this.renderDateCell(s,t.length));for(var a=0,l=t;a<l.length;a++){var c=l[a];o.push(this.renderResourceCell(c,1,s))}}return this.buildTr(r)+this.buildTr(o)},W.prototype.renderResourceAndDayRows=function(e,t){for(var r=[],o=[],n=0,i=e;n<i.length;n++){var s=i[n];r.push(this.renderResourceCell(s,t.length));for(var a=0,l=t;a<l.length;a++){var c=l[a];o.push(this.renderDateCell(c,1,s))}}return this.buildTr(r)+this.buildTr(o)},W.prototype.renderResourceCell=function(e,t,r){var o=this.dateEnv;return'<th class="fc-resource-cell" data-resource-id="'+e.id+'"'+(r?' data-date="'+o.formatIso(r,{omitTime:!0})+'"':"")+(1<t?' colspan="'+t+'"':"")+">"+u.htmlEscape(this.resourceTextFunc(e))+"</th>"},W.prototype.renderDateCell=function(e,t,r){var o=this.props;return u.renderDateCell(e,o.dateProfile,o.datesRepDistinctDays,o.dates.length*o.resources.length,this.dateFormat,this.context,t,r?'data-resource-id="'+r.id+'"':"")},W.prototype.buildTr=function(e){return e.length||(e=["<td>&nbsp;</td>"]),this.props.renderIntroHtml&&(e=[this.props.renderIntroHtml()].concat(e)),this.isRtl&&e.reverse(),"<tr>"+e.join("")+"</tr>"},W.prototype.processResourceEls=function(o){var n=this,i=this.view;u.findElements(this.thead,".fc-resource-cell").forEach(function(e,t){t%=o.length,n.isRtl&&(t=o.length-1-t);var r=o[t];i.publiclyTrigger("resourceRender",[{resource:new I(n.calendar,r),el:e,view:i}])})},W);function W(e,t){var r=N.call(this,e)||this;return r.datesAboveResources=r.opt("datesAboveResources"),r.resourceTextFunc=L(r.opt("resourceText"),r.calendar),t.innerHTML="",t.appendChild(r.el=u.htmlToElement('<div class="fc-row '+r.theme.getClass("headerRow")+'"><table class="'+r.theme.getClass("tableGrid")+'"><thead></thead></table></div>')),r.thead=r.el.querySelector("thead"),r}var F=(q.prototype.buildCells=function(){for(var e=this.rowCnt,t=this.dayTable,r=this.resources,o=[],n=0;n<e;n++){for(var i=[],s=0;s<t.colCnt;s++)for(var a=0;a<r.length;a++){var l=r[a],c='data-resource-id="'+l.id+'"';i[this.computeCol(s,a)]={date:t.cells[n][s].date,resource:l,htmlAttrs:c}}o.push(i)}return o},q);function q(e,t){this.dayTable=e,this.resources=t,this.resourceIndex=new $(t),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*t.length,this.cells=this.buildCells()}var U,V=(t(J,U=F),J.prototype.computeCol=function(e,t){return t*this.dayTable.colCnt+e},J.prototype.computeColRanges=function(e,t,r){return[{firstCol:this.computeCol(e,r),lastCol:this.computeCol(t,r),isStart:!0,isEnd:!0}]},J);function J(){return null!==U&&U.apply(this,arguments)||this}var X,Z=(t(Y,X=F),Y.prototype.computeCol=function(e,t){return e*this.resources.length+t},Y.prototype.computeColRanges=function(e,t,r){for(var o=[],n=e;n<=t;n++){var i=this.computeCol(n,r);o.push({firstCol:i,lastCol:i,isStart:n===e,isEnd:n===t})}return o},Y);function Y(){return null!==X&&X.apply(this,arguments)||this}var K,$=function(e){for(var t={},r=[],o=0;o<e.length;o++){var n=e[o].id;r.push(n),t[n]=o}this.ids=r,this.indicesById=t,this.length=e.length},Q=(t(ee,K=u.Splitter),ee.prototype.getKeyInfo=function(e){var t=e.resourceDayTable,r=u.mapHash(t.resourceIndex.indicesById,function(e){return t.resources[e]});return r[""]={},r},ee.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},ee.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},ee);function ee(){return null!==K&&K.apply(this,arguments)||this}var te=[],re=(oe.prototype.joinProps=function(e,t){for(var r=[],o=[],n=[],i=[],s=[],a=[],l="",c=0,u=t.resourceIndex.ids.concat([""]);c<u.length;c++){var d=u[c],p=e[d];r.push(p.dateSelectionSegs),o.push(d?p.businessHourSegs:te),n.push(d?p.fgEventSegs:te),i.push(p.bgEventSegs),s.push(p.eventDrag),a.push(p.eventResize),l=l||p.eventSelection}return{dateSelectionSegs:this.joinDateSelection.apply(this,[t].concat(r)),businessHourSegs:this.joinBusinessHours.apply(this,[t].concat(o)),fgEventSegs:this.joinFgEvents.apply(this,[t].concat(n)),bgEventSegs:this.joinBgEvents.apply(this,[t].concat(i)),eventDrag:this.joinEventDrags.apply(this,[t].concat(s)),eventResize:this.joinEventResizes.apply(this,[t].concat(a)),eventSelection:l}},oe.prototype.joinSegs=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var o=e.resources.length,n=[],i=0;i<o;i++){for(var s=0,a=t[i];s<a.length;s++){var l=a[s];n.push.apply(n,this.transformSeg(l,e,i))}for(var c=0,u=t[o];c<u.length;c++)l=u[c],n.push.apply(n,this.transformSeg(l,e,i))}return n},oe.prototype.expandSegs=function(e,t){for(var r=e.resources.length,o=[],n=0;n<r;n++)for(var i=0,s=t;i<s.length;i++){var a=s[i];o.push.apply(o,this.transformSeg(a,e,n))}return o},oe.prototype.joinInteractions=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var o=e.resources.length,n={},i=[],s=!1,a=null,l=0;l<o;l++){var c=t[l];if(c){for(var u=0,d=c.segs;u<d.length;u++){var p=d[u];i.push.apply(i,this.transformSeg(p,e,l))}y(n,c.affectedInstances),s=s||c.isEvent,a=a||c.sourceSeg}if(t[o])for(var h=0,f=t[o].segs;h<f.length;h++)p=f[h],i.push.apply(i,this.transformSeg(p,e,l))}return{affectedInstances:n,segs:i,isEvent:s,sourceSeg:a}},oe);function oe(){this.joinDateSelection=u.memoize(this.joinSegs),this.joinBusinessHours=u.memoize(this.joinSegs),this.joinFgEvents=u.memoize(this.joinSegs),this.joinBgEvents=u.memoize(this.joinSegs),this.joinEventDrags=u.memoize(this.joinInteractions),this.joinEventResizes=u.memoize(this.joinInteractions)}function ne(e,t,r,o,n,i){var s=[];return function e(t,r,o,n,i,s,a){for(var l=0;l<t.length;l++){var c=t[l],u=c.group;if(u)if(o){var d=r.length,p=n.length;if(e(c.children,r,o,n.concat(0),i,s,a),d<r.length){var h=r[d],f=h.rowSpans=h.rowSpans.slice();f[p]=r.length-d}}else{var y=u.spec.field+":"+u.value,v=null!=s[y]?s[y]:a;r.push({id:y,group:u,isExpanded:v}),v&&e(c.children,r,o,n,i+1,s,a)}else if(c.resource){var y=c.resource.id,v=null!=s[y]?s[y]:a;r.push({id:y,rowSpans:n,depth:i,isExpanded:v,hasChildren:Boolean(c.children.length),resource:c.resource,resourceFields:c.resourceFields}),v&&e(c.children,r,o,n,i+1,s,a)}}}(function(e,t,r,o){var n=function(e,t){var r={};for(var o in e){var n=e[o];r[o]={resource:n,resourceFields:ae(n),children:[]}}for(var o in e){if((n=e[o]).parentId){var i=r[n.parentId];i&&se(r[o],i.children,t)}}return r}(e,o),i=[];for(var s in n){var a=n[s];a.resource.parentId||ie(a,i,r,0,t,o)}return i}(e,o?-1:1,t,r),s,o,[],0,n,i),s}function ie(e,t,r,o,n,i){r.length&&(-1===n||o<=n)?ie(e,function(e,t,r){var o,n,i=e.resourceFields[r.field];if(r.order)for(n=0;n<t.length;n++){if((a=t[n]).group){var s=u.flexibleCompare(i,a.group.value)*r.order;if(0==s){o=a;break}if(s<0)break}}else for(n=0;n<t.length;n++){var a;if((a=t[n]).group&&i===a.group.value){o=a;break}}o||(o={group:{value:i,spec:r},children:[]},t.splice(n,0,o));return o}(e,t,r[0]).children,r.slice(1),o+1,n,i):se(e,t,i)}function se(e,t,r){var o;for(o=0;o<t.length;o++){if(0<u.compareByFieldSpecs(t[o].resourceFields,e.resourceFields,r))break}t.splice(o,0,e)}function ae(e){var t=y({},e.extendedProps,e.ui,e);return delete t.ui,delete t.extendedProps,t}var le=u.createPlugin({reducers:[function(e,t,r){var o=g(e.resourceSource,t,e.dateProfile,r),n=T(e.resourceStore,t,o,r),i=function(e,t){var r;switch(t.type){case"INIT":return{};case"SET_RESOURCE_ENTITY_EXPANDED":return y({},e,((r={})[t.id]=t.isExpanded,r));default:return e}}(e.resourceEntityExpansions,t);return y({},e,{resourceSource:o,resourceStore:n,resourceEntityExpansions:i})}],eventDefParsers:[function(e,t,r){var o=u.refineProps(t,x,{},r),n=o.resourceIds;o.resourceId&&n.push(o.resourceId),e.resourceIds=n,e.resourceEditable=o.resourceEditable}],isDraggableTransformers:[function(e,t,r,o){return!(e||!o.viewSpec.class.needsResourceData||!s(t,o.calendar))||e}],eventDragMutationMassagers:[function(e,t,r){var o=t.dateSpan.resourceId,n=r.dateSpan.resourceId;o&&n&&o!==n&&(e.resourceMutation={matchResourceId:o,setResourceId:n})}],eventDefMutationAppliers:[function(e,t,r){var o=t.resourceMutation;if(o&&s(e,r)){var n=e.resourceIds.indexOf(o.matchResourceId);if(-1!==n){var i=e.resourceIds.slice();i.splice(n,1),-1===i.indexOf(o.setResourceId)&&i.push(o.setResourceId),e.resourceIds=i}}}],dateSelectionTransformers:[function(e,t){var r=e.dateSpan.resourceId,o=t.dateSpan.resourceId;if(r&&o)return(!1!==e.component.allowAcrossResources||r===o)&&{resourceId:r}}],datePointTransforms:[function(e,t){return e.resourceId?{resource:t.getResourceById(e.resourceId)}:{}}],dateSpanTransforms:[function(e,t){return e.resourceId?{resource:t.getResourceById(e.resourceId)}:{}}],viewPropsTransformers:[r,a],isPropsValid:function(e,t){var r=(new _).splitProps(y({},e,{resourceStore:t.state.resourceStore}));for(var o in r){var n=r[o];if(o&&r[""]&&(n=y({},n,{eventStore:u.mergeEventStores(r[""].eventStore,n.eventStore),eventUiBases:y({},r[""].eventUiBases,n.eventUiBases)})),!u.isPropsValid(n,t,{resourceId:o},z.bind(null,o)))return!1}return!0},externalDefTransforms:[function(e){return e.resourceId?{resourceId:e.resourceId}:{}}],eventResizeJoinTransforms:[function(e,t){if(!1===e.component.allowAcrossResources&&e.dateSpan.resourceId!==t.dateSpan.resourceId)return!1}],viewContainerModifiers:[function(e,t){var r=t.opt("schedulerLicenseKey");(function(e){return/\w+\:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(e)})(window.location.href)||function(e){if(-1!==k.indexOf(e))return!0;var t=(e||"").match(/^(\d+)\-fcs\-(\d+)$/);if(t&&10===t[1].length){var r=new Date(1e3*parseInt(t[2],10)),o=new Date(u.config.mockSchedulerReleaseDate||O);if(u.isValidDate(o))if(u.addDays(o,-M)<r)return!0}return!1}(r)||u.appendToElement(e,'<div class="fc-license-message" style="'+u.htmlEscape(u.cssToStr(B))+'">Please use a valid license key. <a href="http://fullcalendar.io/scheduler/license/">More Info</a></div>')}],eventDropTransformers:[function(e,t){var r=e.resourceMutation;return r?{oldResource:t.getResourceById(r.matchResourceId),newResource:t.getResourceById(r.setResourceId)}:{oldResource:null,newResource:null}}],optionChangeHandlers:G});e.AbstractResourceDayTable=F,e.DayResourceTable=Z,e.ResourceApi=I,e.ResourceDayHeader=j,e.ResourceDayTable=V,e.ResourceSplitter=_,e.VResourceJoiner=re,e.VResourceSplitter=Q,e.buildResourceFields=ae,e.buildResourceTextFunc=L,e.buildRowNodes=ne,e.default=le,e.flattenResources=function(e,t){return ne(e,[],t,!1,{},!0).map(function(e){return e.resource})},e.isGroupsEqual=function(e,t){return e.spec===t.spec&&e.value===t.value},Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/resource-common"),require("@fullcalendar/daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/resource-common","@fullcalendar/daygrid"],t):t((e=e||self).FullCalendarResourceDayGrid={},e.FullCalendar,e.FullCalendarResourceCommon,e.FullCalendarDayGrid)}(this,function(e,l,i,c){"use strict";var t="default"in i?i.default:i,r="default"in c?c.default:c,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s,u=function(){return(u=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=(n(d,s=l.DateComponent),d.prototype.destroy=function(){s.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},d.prototype.render=function(e){var r=this,o=this.dayGrid,n=e.dateProfile,i=e.resourceDayTable,s=e.nextDayThreshold,a=this.splitter.splitProps(e);this.slicers=l.mapHash(a,function(e,t){return r.slicers[t]||new c.DayGridSlicer});var t=l.mapHash(this.slicers,function(e,t){return e.sliceProps(a[t],n,s,o,i.dayTable)});o.allowAcrossResources=1===i.dayTable.colCnt,o.receiveProps(u({},this.joiner.joinProps(t,i),{dateProfile:n,cells:i.cells,isRigid:e.isRigid}))},d.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},d.prototype.queryHit=function(e,t){var r=this.dayGrid.positionToHit(e,t);if(r)return{component:this.dayGrid,dateSpan:{range:r.dateSpan.range,allDay:r.dateSpan.allDay,resourceId:this.props.resourceDayTable.cells[r.row][r.col].resource.id},dayEl:r.dayEl,rect:{left:r.relativeRect.left,right:r.relativeRect.right,top:r.relativeRect.top,bottom:r.relativeRect.bottom},layer:0}},d);function d(e,t){var r=s.call(this,e,t.el)||this;return r.splitter=new i.VResourceSplitter,r.slicers={},r.joiner=new h,r.dayGrid=t,e.calendar.registerInteractiveComponent(r,{el:r.dayGrid.el}),r}var p,h=(n(f,p=i.VResourceJoiner),f.prototype.transformSeg=function(t,e,r){return e.computeColRanges(t.firstCol,t.lastCol,r).map(function(e){return u({},t,e,{isStart:t.isStart&&e.isStart,isEnd:t.isEnd&&e.isEnd})})},f);function f(){return null!==p&&p.apply(this,arguments)||this}var y,v=(n(m,y=c.AbstractDayGridView),m.prototype.destroy=function(){y.prototype.destroy.call(this),this.header&&this.header.destroy(),this.resourceDayGrid.destroy()},m.prototype.render=function(e){y.prototype.render.call(this,e);var t=this.flattenResources(e.resourceStore,this.resourceOrderSpecs),r=this.buildResourceDayTable(this.props.dateProfile,this.dateProfileGenerator,t,this.opt("datesAboveResources"));this.header&&this.header.receiveProps({resources:t,dates:r.dayTable.headerDates,dateProfile:e.dateProfile,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.resourceDayGrid.receiveProps({dateProfile:e.dateProfile,resourceDayTable:r,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.nextDayThreshold})},m.needsResourceData=!0,m);function m(e,t,r,o){var n=y.call(this,e,t,r,o)||this;return n.flattenResources=l.memoize(i.flattenResources),n.buildResourceDayTable=l.memoize(g),n.resourceOrderSpecs=l.parseFieldSpecs(n.opt("resourceOrder")),n.opt("columnHeader")&&(n.header=new i.ResourceDayHeader(n.context,n.el.querySelector(".fc-head-container"))),n.resourceDayGrid=new a(e,n.dayGrid),n}function g(e,t,r,o){var n=c.buildBasicDayTable(e,t);return o?new i.DayResourceTable(n,r):new i.ResourceDayTable(n,r)}var S=l.createPlugin({deps:[t,r],defaultView:"resourceDayGridDay",views:{resourceDayGrid:v,resourceDayGridDay:{type:"resourceDayGrid",duration:{days:1}},resourceDayGridWeek:{type:"resourceDayGrid",duration:{weeks:1}},resourceDayGridMonth:{type:"resourceDayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});e.ResourceDayGrid=a,e.ResourceDayGridView=v,e.default=S,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/resource-common"),require("@fullcalendar/timegrid"),require("@fullcalendar/resource-daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/resource-common","@fullcalendar/timegrid","@fullcalendar/resource-daygrid"],t):t((e=e||self).FullCalendarResourceTimeGrid={},e.FullCalendar,e.FullCalendarResourceCommon,e.FullCalendarTimeGrid,e.FullCalendarResourceDayGrid)}(this,function(e,l,i,c,s){"use strict";var t="default"in i?i.default:i,r="default"in c?c.default:c,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a,u=function(){return(u=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},d=(n(p,a=l.DateComponent),p.prototype.destroy=function(){this.calendar.unregisterInteractiveComponent(this)},p.prototype.render=function(e){var r=this,o=this.timeGrid,n=e.dateProfile,t=e.resourceDayTable,i=this.dayRanges=this.buildDayRanges(t.dayTable,n,this.dateEnv),s=this.splitter.splitProps(e);this.slicers=l.mapHash(s,function(e,t){return r.slicers[t]||new c.TimeGridSlicer});var a=l.mapHash(this.slicers,function(e,t){return e.sliceProps(s[t],n,null,o,i)});o.allowAcrossResources=1===i.length,o.receiveProps(u({},this.joiner.joinProps(a,t),{dateProfile:n,cells:t.cells[0]}))},p.prototype.renderNowIndicator=function(e){var t=this.timeGrid,r=this.props.resourceDayTable,o=this.slicers[""].sliceNowDate(e,t,this.dayRanges),n=this.joiner.expandSegs(r,o);t.renderNowIndicator(n,e)},p.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},p.prototype.queryHit=function(e,t){var r=this.timeGrid.positionToHit(e,t);if(r)return{component:this.timeGrid,dateSpan:{range:r.dateSpan.range,allDay:r.dateSpan.allDay,resourceId:this.props.resourceDayTable.cells[0][r.col].resource.id},dayEl:r.dayEl,rect:{left:r.relativeRect.left,right:r.relativeRect.right,top:r.relativeRect.top,bottom:r.relativeRect.bottom},layer:0}},p);function p(e,t){var r=a.call(this,e,t.el)||this;return r.buildDayRanges=l.memoize(c.buildDayRanges),r.splitter=new i.VResourceSplitter,r.slicers={},r.joiner=new f,r.timeGrid=t,e.calendar.registerInteractiveComponent(r,{el:r.timeGrid.el}),r}var h,f=(n(y,h=i.VResourceJoiner),y.prototype.transformSeg=function(e,t,r){return[u({},e,{col:t.computeCol(e.col,r)})]},y);function y(){return null!==h&&h.apply(this,arguments)||this}var v,m=(n(g,v=c.AbstractTimeGridView),g.prototype.destroy=function(){v.prototype.destroy.call(this),this.header&&this.header.destroy(),this.resourceTimeGrid.destroy(),this.resourceDayGrid&&this.resourceDayGrid.destroy()},g.prototype.render=function(e){v.prototype.render.call(this,e);var t=this.splitter.splitProps(e),r=this.flattenResources(e.resourceStore,this.resourceOrderSpecs),o=this.buildResourceDayTable(this.props.dateProfile,this.dateProfileGenerator,r,this.opt("datesAboveResources"));this.header&&this.header.receiveProps({resources:r,dates:o.dayTable.headerDates,dateProfile:e.dateProfile,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.resourceTimeGrid.receiveProps(u({},t.timed,{dateProfile:e.dateProfile,resourceDayTable:o})),this.resourceDayGrid&&this.resourceDayGrid.receiveProps(u({},t.allDay,{dateProfile:e.dateProfile,resourceDayTable:o,isRigid:!1,nextDayThreshold:this.nextDayThreshold}))},g.prototype.renderNowIndicator=function(e){this.resourceTimeGrid.renderNowIndicator(e)},g.needsResourceData=!0,g);function g(e,t,r,o){var n=v.call(this,e,t,r,o)||this;return n.flattenResources=l.memoize(i.flattenResources),n.buildResourceDayTable=l.memoize(S),n.resourceOrderSpecs=l.parseFieldSpecs(n.opt("resourceOrder")),n.opt("columnHeader")&&(n.header=new i.ResourceDayHeader(n.context,n.el.querySelector(".fc-head-container"))),n.resourceTimeGrid=new d(e,n.timeGrid),n.dayGrid&&(n.resourceDayGrid=new s.ResourceDayGrid(e,n.dayGrid)),n}function S(e,t,r,o){var n=c.buildDayTable(e,t);return o?new i.DayResourceTable(n,r):new i.ResourceDayTable(n,r)}var b=l.createPlugin({deps:[t,r],defaultView:"resourceTimeGridDay",views:{resourceTimeGrid:{class:m,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},resourceTimeGridDay:{type:"resourceTimeGrid",duration:{days:1}},resourceTimeGridWeek:{type:"resourceTimeGrid",duration:{weeks:1}}}});e.ResourceTimeGrid=d,e.ResourceTimeGridView=m,e.default=b,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarTimeline={},e.FullCalendar)}(this,function(e,b){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function t(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var r=function(){return(r=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=(i.prototype.setGutters=function(e){e?r(this.gutters,e):this.gutters={},this.updateSize()},i.prototype.setWidth=function(e){this.width=e,this.updateSize()},i.prototype.setMinWidth=function(e){this.minWidth=e,this.updateSize()},i.prototype.clearWidth=function(){this.width=null,this.minWidth=null,this.updateSize()},i.prototype.updateSize=function(){var e=this.gutters,t=this.el;b.forceClassName(t,"fc-gutter-left",e.left),b.forceClassName(t,"fc-gutter-right",e.right),b.forceClassName(t,"fc-gutter-top",e.top),b.forceClassName(t,"fc-gutter-bottom",e.bottom),b.applyStyle(t,{paddingLeft:e.left||"",paddingRight:e.right||"",paddingTop:e.top||"",paddingBottom:e.bottom||"",width:null!=this.width?this.width+(e.left||0)+(e.right||0):"",minWidth:null!=this.minWidth?this.minWidth+(e.left||0)+(e.right||0):""}),b.applyStyle(this.bgEl,{left:e.left||"",right:e.right||"",top:e.top||"",bottom:e.bottom||""})},i);function i(){this.gutters={},this.el=b.htmlToElement('<div class="fc-scroller-canvas"> <div class="fc-content"></div> <div class="fc-bg"></div> </div>'),this.contentEl=this.el.querySelector(".fc-content"),this.bgEl=this.el.querySelector(".fc-bg")}var s,a,l=(t(c,s=b.ScrollComponent),c.prototype.destroy=function(){s.prototype.destroy.call(this),this.unbindHandlers()},c.prototype.disableTouchScroll=function(){this.isTouchScrollEnabled=!1,this.bindPreventTouchScroll()},c.prototype.enableTouchScroll=function(){this.isTouchScrollEnabled=!0,this.isTouching||this.unbindPreventTouchScroll()},c.prototype.bindPreventTouchScroll=function(){this.preventTouchScrollHandler||this.el.addEventListener("touchmove",this.preventTouchScrollHandler=b.preventDefault)},c.prototype.unbindPreventTouchScroll=function(){this.preventTouchScrollHandler&&(this.el.removeEventListener("touchmove",this.preventTouchScrollHandler),this.preventTouchScrollHandler=null)},c.prototype.bindHandlers=function(){this.el.addEventListener("scroll",this.reportScroll),this.el.addEventListener("touchstart",this.reportTouchStart,{passive:!0}),this.el.addEventListener("touchend",this.reportTouchEnd)},c.prototype.unbindHandlers=function(){this.el.removeEventListener("scroll",this.reportScroll),this.el.removeEventListener("touchstart",this.reportTouchStart,{passive:!0}),this.el.removeEventListener("touchend",this.reportTouchEnd)},c.prototype.reportMovingEnd=function(){this.isMoving=!1,this.isTouching||this.reportScrollEnd()},c.prototype.reportScrollEnd=function(){this.isScrolling&&(this.trigger("scrollEnd"),this.isScrolling=!1)},c.prototype.getScrollLeft=function(){var e=this.el,t=window.getComputedStyle(e).direction,r=e.scrollLeft;if("rtl"===t)switch(u()){case"positive":r=r+e.clientWidth-e.scrollWidth;break;case"reverse":r=-r}return r},c.prototype.setScrollLeft=function(e){var t=this.el;if("rtl"===window.getComputedStyle(t).direction)switch(u()){case"positive":e=e-t.clientWidth+t.scrollWidth;break;case"reverse":e=-e}t.scrollLeft=e},c.prototype.getScrollFromLeft=function(){var e=this.el,t=window.getComputedStyle(e).direction,r=e.scrollLeft;if("rtl"===t)switch(u()){case"negative":r=r-e.clientWidth+e.scrollWidth;break;case"reverse":r=-r-e.clientWidth+e.scrollWidth}return r},c);function c(e,t){var r=s.call(this,e,t)||this;return r.reportScroll=function(){r.isScrolling||r.reportScrollStart(),r.trigger("scroll"),r.isMoving=!0,r.requestMovingEnd()},r.reportScrollStart=function(){r.isScrolling||(r.isScrolling=!0,r.trigger("scrollStart",r.isTouching))},r.reportTouchStart=function(){r.isTouching=!0},r.reportTouchEnd=function(){r.isTouching&&(r.isTouching=!1,r.isTouchScrollEnabled&&r.unbindPreventTouchScroll(),r.isMoving||r.reportScrollEnd())},r.isScrolling=!1,r.isTouching=!1,r.isMoving=!1,r.isTouchScrollEnabled=!0,r.requestMovingEnd=b.debounce(r.reportMovingEnd,500),r.canvas=new n,r.el.appendChild(r.canvas.el),r.applyOverflow(),r.bindHandlers(),r}function u(){return a=a||function(){var e,t=b.htmlToElement('<div style=" position: absolute; top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 100px; ">A</div>');document.body.appendChild(t),e=0<t.scrollLeft?"positive":(t.scrollLeft=1,0<t.scrollLeft?"reverse":"negative");return b.removeElement(t),e}()}b.EmitterMixin.mixInto(l);var d=(p.prototype.destroy=function(){b.removeElement(this.el)},p.prototype.updateSize=function(){var e=this.enhancedScroll,t=e.el,r=b.computeEdges(t),o={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0};this.isVScrollbarsClipped&&(o.marginLeft=-r.scrollbarLeft,o.marginRight=-r.scrollbarRight),this.isHScrollbarsClipped&&(o.marginBottom=-r.scrollbarBottom),b.applyStyle(t,o),!this.isHScrollbarsClipped&&"hidden"!==e.overflowX||!this.isVScrollbarsClipped&&"hidden"!==e.overflowY||r.scrollbarLeft||r.scrollbarRight||r.scrollbarBottom?t.classList.remove("fc-no-scrollbars"):t.classList.add("fc-no-scrollbars")},p.prototype.setHeight=function(e){this.enhancedScroll.setHeight(e)},p.prototype.getScrollbarWidths=function(){var e=this.enhancedScroll.getScrollbarWidths();return this.isVScrollbarsClipped&&(e.left=0,e.right=0),this.isHScrollbarsClipped&&(e.bottom=0),e},p);function p(e,t,r){this.isHScrollbarsClipped=!1,this.isVScrollbarsClipped=!1,"clipped-scroll"===e&&(e="scroll",this.isHScrollbarsClipped=!0),"clipped-scroll"===t&&(t="scroll",this.isVScrollbarsClipped=!0),this.enhancedScroll=new l(e,t),r.appendChild(this.el=b.createElement("div",{className:"fc-scroller-clip"})),this.el.appendChild(this.enhancedScroll.el)}var h=(f.prototype.initScroller=function(o){function t(){n.assignMasterScroller(o)}var n=this,i=o.enhancedScroll;"wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" ").forEach(function(e){i.el.addEventListener(e,t)}),i.on("scrollStart",function(){n.masterScroller||n.assignMasterScroller(o)}).on("scroll",function(){if(o===n.masterScroller)for(var e=0,t=n.scrollers;e<t.length;e++){var r=t[e];if(r!==o)switch(n.axis){case"horizontal":r.enhancedScroll.el.scrollLeft=i.el.scrollLeft;break;case"vertical":r.enhancedScroll.setScrollTop(i.getScrollTop())}}}).on("scrollEnd",function(){o===n.masterScroller&&n.unassignMasterScroller()})},f.prototype.assignMasterScroller=function(e){this.unassignMasterScroller(),this.masterScroller=e;for(var t=0,r=this.scrollers;t<r.length;t++){var o=r[t];o!==e&&o.enhancedScroll.disableTouchScroll()}},f.prototype.unassignMasterScroller=function(){if(this.masterScroller){for(var e=0,t=this.scrollers;e<t.length;e++)t[e].enhancedScroll.enableTouchScroll();this.masterScroller=null}},f.prototype.update=function(){for(var e,t,r=this.scrollers.map(function(e){return e.getScrollbarWidths()}),o=0,n=0,i=0,s=0,a=0,l=r;a<l.length;a++)e=l[a],o=Math.max(o,e.left),n=Math.max(n,e.right),i=Math.max(i,e.top),s=Math.max(s,e.bottom);for(t=0;t<this.scrollers.length;t++){var c=this.scrollers[t];e=r[t],c.enhancedScroll.canvas.setGutters("horizontal"===this.axis?{left:o-e.left,right:n-e.right}:{top:i-e.top,bottom:s-e.bottom})}},f);function f(e,t){this.axis=e,this.scrollers=t;for(var r=0,o=this.scrollers;r<o.length;r++){var n=o[r];this.initScroller(n)}}var y=(v.prototype.destroy=function(){this.headerScroller.destroy(),this.bodyScroller.destroy()},v.prototype.setHeight=function(e,t){var r;r=t?"auto":e-this.queryHeadHeight(),this.bodyScroller.setHeight(r),this.headerScroller.updateSize(),this.bodyScroller.updateSize(),this.scrollJoiner.update()},v.prototype.queryHeadHeight=function(){return this.headerScroller.enhancedScroll.canvas.contentEl.getBoundingClientRect().height},v);function v(e,t,r){this.headerScroller=new d("clipped-scroll","hidden",e),this.bodyScroller=new d("auto",r,t),this.scrollJoiner=new h("horizontal",[this.headerScroller,this.bodyScroller])}var m,g=(t(S,m=b.Component),S.prototype.destroy=function(){b.removeElement(this.tableEl),m.prototype.destroy.call(this)},S.prototype.render=function(e){this.renderDates(e.tDateProfile)},S.prototype.renderDates=function(e){for(var t=this.dateEnv,r=this.theme,o=e.cellRows,n=o[o.length-1],i=b.asRoughMs(e.labelInterval)>b.asRoughMs(e.slotDuration),s=b.isSingleDay(e.slotDuration),a="<colgroup>",l=e.slotCnt-1;0<=l;l--)a+="<col/>";a+="</colgroup>",a+="<tbody>";for(var c=0,u=o;c<u.length;c++){var d=u[c];a+="<tr"+(i&&d===n?' class="fc-chrono"':"")+">";for(var p=0,h=d;p<h.length;p++){var f=h[p],y=[r.getClass("widgetHeader")];f.isWeekStart&&y.push("fc-em-cell"),s&&(y=y.concat(b.getDayClasses(f.date,this.props.dateProfile,this.context,!0))),a+='<th class="'+y.join(" ")+'" data-date="'+t.formatIso(f.date,{omitTime:!e.isTimeScale,omitTimeZoneOffset:!0})+'"'+(1<f.colspan?' colspan="'+f.colspan+'"':"")+'><div class="fc-cell-content">'+f.spanHtml+"</div></th>"}a+="</tr>"}a+="</tbody>",this.tableEl.innerHTML=a,this.slatColEls=b.findElements(this.tableEl,"col"),this.innerEls=b.findElements(this.tableEl.querySelector("tr:last-child"),"th .fc-cell-text"),b.findElements(this.tableEl.querySelectorAll("tr:not(:last-child)"),"th .fc-cell-text").forEach(function(e){e.classList.add("fc-sticky")})},S);function S(e,t){var r=m.call(this,e)||this;return t.appendChild(r.tableEl=b.createElement("table",{className:r.theme.getClass("tableGrid")})),r}var E,R=(t(w,E=b.Component),w.prototype.destroy=function(){b.removeElement(this.el),E.prototype.destroy.call(this)},w.prototype.render=function(e){this.renderDates(e.tDateProfile)},w.prototype.renderDates=function(e){for(var t=this.theme,r=this.view,o=this.dateEnv,n=e.slotDates,i=e.isWeekStarts,s='<table class="'+t.getClass("tableGrid")+'"><colgroup>',a=0;a<n.length;a++)s+="<col/>";for(s+="</colgroup>",s+="<tbody><tr>",a=0;a<n.length;a++)s+=this.slatCellHtml(n[a],i[a],e);for(s+="</tr></tbody></table>",this.el.innerHTML=s,this.slatColEls=b.findElements(this.el,"col"),this.slatEls=b.findElements(this.el,"td"),a=0;a<n.length;a++)r.publiclyTrigger("dayRender",[{date:o.toDate(n[a]),el:this.slatEls[a],view:r}]);this.outerCoordCache=new b.PositionCache(this.el,this.slatEls,!0,!1),this.innerCoordCache=new b.PositionCache(this.el,b.findChildren(this.slatEls,"div"),!0,!1)},w.prototype.slatCellHtml=function(e,t,r){var o,n=this.theme,i=this.dateEnv;return r.isTimeScale?(o=[]).push(b.isInt(i.countDurationsBetween(r.normalizedRange.start,e,r.labelInterval))?"fc-major":"fc-minor"):(o=b.getDayClasses(e,this.props.dateProfile,this.context)).push("fc-day"),o.unshift(n.getClass("widgetContent")),t&&o.push("fc-em-cell"),'<td class="'+o.join(" ")+'" data-date="'+i.formatIso(e,{omitTime:!r.isTimeScale,omitTimeZoneOffset:!0})+'"><div></div></td>'},w.prototype.updateSize=function(){this.outerCoordCache.build(),this.innerCoordCache.build()},w.prototype.positionToHit=function(e){var t=this.outerCoordCache,r=this.props.tDateProfile,o=t.leftToIndex(e);if(null==o)return null;var n=t.getWidth(o),i=this.isRtl?(t.rights[o]-e)/n:(e-t.lefts[o])/n,s=Math.floor(i*r.snapsPerSlot),a=this.dateEnv.add(r.slotDates[o],b.multiplyDuration(r.snapDuration,s));return{dateSpan:{range:{start:a,end:this.dateEnv.add(a,r.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.slatColEls[o],left:t.lefts[o],right:t.rights[o]}},w);function w(e,t){var r=E.call(this,e)||this;return t.appendChild(r.el=b.createElement("div",{className:"fc-slats"})),r}var C=18,D=6,T=200;b.config.MAX_TIMELINE_SLOTS=1e3;var x=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function I(e,t){var r=t.dateEnv,o={labelInterval:_(t,"slotLabelInterval"),slotDuration:_(t,"slotDuration")};!function(e,t,r){var o=t.currentRange;if(e.labelInterval){r.countDurationsBetween(o.start,o.end,e.labelInterval)>b.config.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),e.labelInterval=null)}if(e.slotDuration){r.countDurationsBetween(o.start,o.end,e.slotDuration)>b.config.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),e.slotDuration=null)}if(e.labelInterval&&e.slotDuration){var n=b.wholeDivideDurations(e.labelInterval,e.slotDuration);(null===n||n<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),e.slotDuration=null)}}(o,e,r),A(o,e,r),function(e,t,r){var o=t.currentRange,n=e.slotDuration;if(!n){for(var i=A(e,t,r),s=0,a=x;s<a.length;s++){var l=a[s],c=b.createDuration(l),u=b.wholeDivideDurations(i,c);if(null!==u&&1<u&&u<=D){n=c;break}}if(n){var d=r.countDurationsBetween(o.start,o.end,n);T<d&&(n=null)}n=n||i,e.slotDuration=n}}(o,e,r);var n=t.opt("slotLabelFormat"),i=Array.isArray(n)?n:null!=n?[n]:function(e,t,r,o){var n,i,s=e.labelInterval,a=b.greatestDurationDenominator(s).unit,l=o.opt("weekNumbers"),c=n=i=null;"week"!==a||l||(a="day");switch(a){case"year":c={year:"numeric"};break;case"month":1<z("years",t,r)&&(c={year:"numeric"}),n={month:"short"};break;case"week":1<z("years",t,r)&&(c={year:"numeric"}),n={week:"narrow"};break;case"day":1<z("years",t,r)?c={year:"numeric",month:"long"}:1<z("months",t,r)&&(c={month:"long"}),l&&(n={week:"short"}),i={weekday:"narrow",day:"numeric"};break;case"hour":l&&(c={week:"short"}),1<z("days",t,r)&&(n={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),i={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":b.asRoughMinutes(s)/60>=D?(c={hour:"numeric",meridiem:"short"},n=function(e){return":"+b.padStart(e.date.minute,2)}):c={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":b.asRoughSeconds(s)/60>=D?(c={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},n=function(e){return":"+b.padStart(e.date.second,2)}):c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},n=function(e){return"."+b.padStart(e.millisecond,3)}}return[].concat(c||[],n||[],i||[])}(o,e,r,t);o.headerFormats=i.map(function(e){return b.createFormatter(e)}),o.isTimeScale=Boolean(o.slotDuration.milliseconds);var s=null;if(!o.isTimeScale){var a=b.greatestDurationDenominator(o.slotDuration).unit;/year|month|week/.test(a)&&(s=a)}o.largeUnit=s,o.emphasizeWeeks=b.isSingleDay(o.slotDuration)&&2<=z("weeks",e,r)&&!t.opt("businessHours");var l,c,u=t.opt("snapDuration");u&&(l=b.createDuration(u),c=b.wholeDivideDurations(o.slotDuration,l)),null==c&&(l=o.slotDuration,c=1),o.snapDuration=l,o.snapsPerSlot=c;var d=b.asRoughMs(e.maxTime)-b.asRoughMs(e.minTime),p=P(e.renderRange.start,o,r),h=P(e.renderRange.end,o,r);o.isTimeScale&&(p=r.add(p,e.minTime),h=r.add(b.addDays(h,-1),e.maxTime)),o.timeWindowMs=d,o.normalizedRange={start:p,end:h};for(var f=[],y=p;y<h;)H(y,o,e,t)&&f.push(y),y=r.add(y,o.slotDuration);o.slotDates=f;var v=-1,m=0,g=[],S=[];for(y=p;y<h;)H(y,o,e,t)?(v++,g.push(v),S.push(m)):g.push(v+.5),y=r.add(y,o.snapDuration),m++;return o.snapDiffToIndex=g,o.snapIndexToDiff=S,o.snapCnt=v+1,o.slotCnt=o.snapCnt/o.snapsPerSlot,o.isWeekStarts=function(e,t){for(var r=e.slotDates,o=e.emphasizeWeeks,n=null,i=[],s=0,a=r;s<a.length;s++){var l=a[s],c=t.computeWeekNumber(l),u=o&&null!==n&&n!==c;n=c,i.push(u)}return i}(o,r),o.cellRows=function(e,t,r){for(var o=e.slotDates,n=e.headerFormats,i=n.map(function(e){return[]}),s=n.map(function(e){return e.getLargestUnit?e.getLargestUnit():null}),a=0;a<o.length;a++)for(var l=o[a],c=e.isWeekStarts[a],u=0;u<n.length;u++){var d=n[u],p=i[u],h=p[p.length-1],f=1<n.length&&u<n.length-1,y=null;if(f){var v=t.format(l,d);h&&h.text===v?h.colspan+=1:y=O(l,v,s[u],r)}else if(!h||b.isInt(t.countDurationsBetween(e.normalizedRange.start,l,e.labelInterval))){v=t.format(l,d);y=O(l,v,s[u],r)}else h.colspan+=1;y&&(y.weekStart=c,p.push(y))}return i}(o,r,t),o}function P(e,t,r){var o=e;return t.isTimeScale||(o=b.startOfDay(o),t.largeUnit&&(o=r.startOf(o,t.largeUnit))),o}function H(e,t,r,o){if(o.dateProfileGenerator.isHiddenDay(e))return!1;if(t.isTimeScale){var n=b.startOfDay(e),i=e.valueOf()-n.valueOf()-b.asRoughMs(r.minTime);return(i=(i%864e5+864e5)%864e5)<t.timeWindowMs}return!0}function _(e,t){var r=e.opt(t);if(null!=r)return b.createDuration(r)}function A(e,t,r){var o=t.currentRange,n=e.labelInterval;if(!n){var i=void 0;if(e.slotDuration){for(var s=0,a=x;s<a.length;s++){i=a[s];var l=b.createDuration(i),c=b.wholeDivideDurations(l,e.slotDuration);if(null!==c&&c<=D){n=l;break}}n=n||e.slotDuration}else for(var u=0,d=x;u<d.length;u++){i=d[u],n=b.createDuration(i);var p=r.countDurationsBetween(o.start,o.end,n);if(C<=p)break}e.labelInterval=n}return n}function z(e,t,r){var o=t.currentRange,n=null;return"years"===e?n=r.diffWholeYears(o.start,o.end):"months"===e?n=r.diffWholeMonths(o.start,o.end):"weeks"===e?n=r.diffWholeMonths(o.start,o.end):"days"===e&&(n=b.diffWholeDays(o.start,o.end)),n||0}function O(e,t,r,o){return{text:t,spanHtml:b.buildGotoAnchorHtml(o,{date:e,type:r,forceOff:!r},{class:"fc-cell-text"},b.htmlEscape(t)),date:e,colspan:1,isWeekStart:!1}}var M=(k.prototype.render=function(e,t){var r=t?{right:-e}:{left:e};this.headParent.appendChild(this.arrowEl=b.createElement("div",{className:"fc-now-indicator fc-now-indicator-arrow",style:r})),this.bodyParent.appendChild(this.lineEl=b.createElement("div",{className:"fc-now-indicator fc-now-indicator-line",style:r}))},k.prototype.unrender=function(){this.arrowEl&&b.removeElement(this.arrowEl),this.lineEl&&b.removeElement(this.lineEl)},k);function k(e,t){this.headParent=e,this.bodyParent=t}var B,G=-1!==(B=b.htmlToElement('<div style="position:-webkit-sticky;position:sticky"></div>').style.position).indexOf("sticky")?B:null,L=/Edge/.test(navigator.userAgent),N="-webkit-sticky"===G,j=(W.prototype.destroy=function(){this.scroller.off("scrollEnd",this.updateSize)},W.prototype.queryElGeoms=function(e){for(var t=this.scroller.canvas.el.getBoundingClientRect(),r=[],o=0,n=e;o<n.length;o++){var i=n[o],s=b.translateRect(i.parentNode.getBoundingClientRect(),-t.left,-t.top),a=i.getBoundingClientRect(),l=window.getComputedStyle(i),c=window.getComputedStyle(i.parentNode).textAlign,u=c,d=null;"sticky"!==l.position&&(d=b.translateRect(a,-t.left-(parseFloat(l.left)||0),-t.top-(parseFloat(l.top)||0))),i.hasAttribute("data-sticky-center")&&(u="center"),r.push({parentBound:s,naturalBound:d,elWidth:a.width,elHeight:a.height,computedTextAlign:c,intendedTextAlign:u})}return r},W.prototype.computeElDestinations=function(e,t){var a=this.scroller.getScrollFromLeft(),l=this.scroller.getScrollTop(),c=a+t;return e.map(function(e){var t,r,o=e.elWidth,n=e.elHeight,i=e.parentBound,s=e.naturalBound;switch(e.intendedTextAlign){case"left":t=a;break;case"right":t=c-o;break;case"center":t=(a+c)/2-o/2}return t=Math.min(t,i.right-o),t=Math.max(t,i.left),r=l,r=Math.min(r,i.bottom-n),{left:t,top:r=Math.max(r,s.top)}})},W);function W(e,t,r){var o=this;this.usingRelative=null,this.updateSize=function(){var e=Array.prototype.slice.call(o.scroller.canvas.el.querySelectorAll(".fc-sticky")),t=o.queryElGeoms(e),r=o.scroller.el.clientWidth;o.usingRelative?function(e,o,n){e.forEach(function(e,t){var r=o[t].naturalBound;b.applyStyle(e,{position:"relative",left:n[t].left-r.left,top:n[t].top-r.top})})}(e,t,o.computeElDestinations(t,r)):function(e,o,n){e.forEach(function(e,t){var r=0;"center"===o[t].intendedTextAlign&&(r=(n-o[t].elWidth)/2,"center"===o[t].computedTextAlign&&(e.setAttribute("data-sticky-center",""),e.parentNode.style.textAlign="left")),b.applyStyle(e,{position:G,left:r,right:0,top:0})})}(e,t,r)},this.scroller=e,this.usingRelative=!G||L&&t||(L||N)&&r,this.usingRelative&&e.on("scrollEnd",this.updateSize)}var F,q=(t(U,F=b.Component),U.prototype.destroy=function(){this.layout.destroy(),this.header.destroy(),this.slats.destroy(),this.nowIndicator.unrender(),this.headStickyScroller.destroy(),this.bodyStickyScroller.destroy(),F.prototype.destroy.call(this)},U.prototype.render=function(e){var t=this.tDateProfile=I(e.dateProfile,this.view);this.header.receiveProps({dateProfile:e.dateProfile,tDateProfile:t}),this.slats.receiveProps({dateProfile:e.dateProfile,tDateProfile:t})},U.prototype.getNowIndicatorUnit=function(e){var t=this.tDateProfile=I(e,this.view);if(t.isTimeScale)return b.greatestDurationDenominator(t.slotDuration).unit},U.prototype.renderNowIndicator=function(e){b.rangeContainsMarker(this.tDateProfile.normalizedRange,e)&&this.nowIndicator.render(this.dateToCoord(e),this.isRtl)},U.prototype.unrenderNowIndicator=function(){this.nowIndicator.unrender()},U.prototype.updateSize=function(e,t,r){this.applySlotWidth(this.computeSlotWidth()),this.layout.setHeight(t,r),this.slats.updateSize()},U.prototype.updateStickyScrollers=function(){this.headStickyScroller.updateSize(),this.bodyStickyScroller.updateSize()},U.prototype.computeSlotWidth=function(){var e=this.opt("slotWidth")||"";return""===e&&(e=this.computeDefaultSlotWidth(this.tDateProfile)),e},U.prototype.computeDefaultSlotWidth=function(e){var r=0;this.header.innerEls.forEach(function(e,t){r=Math.max(r,e.getBoundingClientRect().width)});var t=Math.ceil(r)+1,o=b.wholeDivideDurations(e.labelInterval,e.slotDuration),n=Math.ceil(t/o),i=window.getComputedStyle(this.header.slatColEls[0]).minWidth;return(i=i&&parseInt(i,10))&&(n=Math.max(n,i)),n},U.prototype.applySlotWidth=function(e){var t=this.layout,r=this.tDateProfile,o="",n="",i="";if(""!==e){o=(e=Math.round(e))*r.slotDates.length,n="",i=e;var s=t.bodyScroller.enhancedScroll.getClientWidth();o<s&&(n=s,o="",i=Math.floor(s/r.slotDates.length))}t.headerScroller.enhancedScroll.canvas.setWidth(o),t.headerScroller.enhancedScroll.canvas.setMinWidth(n),t.bodyScroller.enhancedScroll.canvas.setWidth(o),t.bodyScroller.enhancedScroll.canvas.setMinWidth(n),""!==i&&this.header.slatColEls.slice(0,-1).concat(this.slats.slatColEls.slice(0,-1)).forEach(function(e){e.style.width=i+"px"})},U.prototype.computeDateSnapCoverage=function(e){var t=this.dateEnv,r=this.tDateProfile,o=t.countDurationsBetween(r.normalizedRange.start,e,r.snapDuration);if(o<0)return 0;if(o>=r.snapDiffToIndex.length)return r.snapCnt;var n=Math.floor(o),i=r.snapDiffToIndex[n];return b.isInt(i)?i+=o-n:i=Math.ceil(i),i},U.prototype.dateToCoord=function(e){var t=this.tDateProfile,r=this.computeDateSnapCoverage(e)/t.snapsPerSlot,o=Math.floor(r),n=r-(o=Math.min(o,t.slotCnt-1)),i=this.slats,s=i.innerCoordCache,a=i.outerCoordCache;return this.isRtl?a.rights[o]-s.getWidth(o)*n-a.originClientRect.width:a.lefts[o]+s.getWidth(o)*n},U.prototype.rangeToCoords=function(e){return this.isRtl?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},U.prototype.computeDateScroll=function(e){var t=this.dateEnv,r=this.props.dateProfile,o=0;return r&&(o=this.dateToCoord(t.add(b.startOfDay(r.activeRange.start),e)),!this.isRtl&&o&&(o+=1)),{left:o}},U.prototype.queryDateScroll=function(){return{left:this.layout.bodyScroller.enhancedScroll.getScrollLeft()}},U.prototype.applyDateScroll=function(e){this.layout.bodyScroller.enhancedScroll.setScrollLeft(e.left||0),this.layout.headerScroller.enhancedScroll.setScrollLeft(e.left||0)},U);function U(e,t,r){var o=F.call(this,e)||this,n=o.layout=new y(t,r,"auto"),i=n.headerScroller.enhancedScroll,s=n.bodyScroller.enhancedScroll;return o.headStickyScroller=new j(i,o.isRtl,!1),o.bodyStickyScroller=new j(s,o.isRtl,!1),o.header=new g(e,i.canvas.contentEl),o.slats=new R(e,s.canvas.bgEl),o.nowIndicator=new M(i.canvas.el,s.canvas.el),o}var V,J=(t(X,V=b.FgEventRenderer),X.prototype.renderSegHtml=function(e,t){var r=this.context.view,o=e.eventRange,n=o.def,i=o.ui,s=r.computeEventDraggable(n,i),a=e.isStart&&r.computeEventStartResizable(n,i),l=e.isEnd&&r.computeEventEndResizable(n,i),c=this.getSegClasses(e,s,a||l,t);c.unshift("fc-timeline-event","fc-h-event");var u=this.getTimeText(o);return'<a class="'+c.join(" ")+'" style="'+b.cssToStr(this.getSkinCss(i))+'"'+(n.url?' href="'+b.htmlEscape(n.url)+'"':"")+">"+(u?'<span class="fc-time-wrap"><span class="fc-time">'+b.htmlEscape(u)+"</span></span>":"")+'<span class="fc-title-wrap"><span class="fc-title fc-sticky">'+(n.title?b.htmlEscape(n.title):"&nbsp;")+"</span></span>"+(a?'<div class="fc-resizer fc-start-resizer"></div>':"")+(l?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},X.prototype.computeDisplayEventTime=function(){return!this.timeAxis.tDateProfile.isTimeScale},X.prototype.computeDisplayEventEnd=function(){return!1},X.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},X.prototype.attachSegs=function(e,t){if(!this.el&&this.masterContainerEl&&(this.el=b.createElement("div",{className:"fc-event-container"}),t&&this.el.classList.add("fc-mirror-container"),this.masterContainerEl.appendChild(this.el)),this.el)for(var r=0,o=e;r<o.length;r++){var n=o[r];this.el.appendChild(n.el)}},X.prototype.detachSegs=function(e){for(var t=0,r=e;t<r.length;t++){var o=r[t];b.removeElement(o.el)}},X.prototype.computeSegSizes=function(e){for(var t=this.timeAxis,r=0,o=e;r<o.length;r++){var n=o[r],i=t.rangeToCoords(n);b.applyStyle(n.el,{left:n.left=i.left,right:-(n.right=i.right)})}},X.prototype.assignSegSizes=function(e){if(this.el){for(var t=0,r=e;t<r.length;t++)(s=r[t]).height=b.computeHeightAndMargins(s.el);this.buildSegLevels(e);var o=Z(e);b.applyStyleProp(this.el,"height",o);for(var n=0,i=e;n<i.length;n++){var s=i[n];b.applyStyleProp(s.el,"top",s.top)}}},X.prototype.buildSegLevels=function(e){for(var t=[],r=0,o=e=this.sortEventSegs(e);r<o.length;r++){var n=o[r];n.above=[];for(var i=0;i<t.length;){for(var s=!1,a=0,l=t[i];a<l.length;a++){var c=l[a];K(n,c)&&(n.above.push(c),s=!0)}if(!s)break;i+=1}for((t[i]||(t[i]=[])).push(n),i+=1;i<t.length;){for(var u=0,d=t[i];u<d.length;u++){var p=d[u];K(n,p)&&p.above.push(n)}i+=1}}return t},X);function X(e,t,r){var o=V.call(this,e)||this;return o.masterContainerEl=t,o.timeAxis=r,o}function Z(e){for(var t=0,r=0,o=e;r<o.length;r++){var n=o[r];t=Math.max(t,Y(n))}return t}function Y(e){return null==e.top&&(e.top=Z(e.above)),e.top+e.height}function K(e,t){return e.left<t.right&&e.right>t.left}var $,Q=(t(ee,$=b.FillRenderer),ee.prototype.attachSegs=function(e,t){if(t.length){var r=void 0;r="businessHours"===e?"bgevent":e.toLowerCase();var o=b.createElement("div",{className:"fc-"+r+"-container"});this.masterContainerEl.appendChild(o);for(var n=0,i=t;n<i.length;n++){var s=i[n];o.appendChild(s.el)}return[o]}},ee.prototype.computeSegSizes=function(e){for(var t=this.timeAxis,r=0,o=e;r<o.length;r++){var n=o[r],i=t.rangeToCoords(n);n.left=i.left,n.right=i.right}},ee.prototype.assignSegSizes=function(e){for(var t=0,r=e;t<r.length;t++){var o=r[t];b.applyStyle(o.el,{left:o.left,right:-o.right})}},ee);function ee(e,t,r){var o=$.call(this,e)||this;return o.masterContainerEl=t,o.timeAxis=r,o}var te,re=(t(oe,te=b.DateComponent),oe.prototype.render=function(e){var t=this.slicer.sliceProps(e,e.dateProfile,this.timeAxis.tDateProfile.isTimeScale?null:e.nextDayThreshold,this,this.timeAxis);this.renderBusinessHours(t.businessHourSegs),this.renderDateSelection(t.dateSelectionSegs),this.renderBgEvents(t.bgEventSegs),this.renderFgEvents(t.fgEventSegs),this.renderEventSelection(t.eventSelection),this.renderEventDrag(t.eventDrag),this.renderEventResize(t.eventResize)},oe.prototype.destroy=function(){te.prototype.destroy.call(this),this.renderBusinessHours.unrender(),this.renderDateSelection.unrender(),this.renderBgEvents.unrender(),this.renderFgEvents.unrender(),this.renderEventSelection.unrender(),this.renderEventDrag.unrender(),this.renderEventResize.unrender()},oe.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.mirrorRenderer.renderSegs(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},oe.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},oe.prototype._renderEventResize=function(e){if(e){var t=e.segs.map(function(e){return r({},e)});this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",t),this.mirrorRenderer.renderSegs(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg})}},oe.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight"),this.mirrorRenderer.unrender(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}))},oe.prototype.updateSize=function(e){var t=this.fillRenderer,r=this.eventRenderer,o=this.mirrorRenderer;t.computeSizes(e),r.computeSizes(e),o.computeSizes(e),t.assignSizes(e),r.assignSizes(e),o.assignSizes(e)},oe);function oe(e,t,r,o){var n=te.call(this,e,r)||this;n.slicer=new ie,n.renderEventDrag=b.memoizeRendering(n._renderEventDrag,n._unrenderEventDrag),n.renderEventResize=b.memoizeRendering(n._renderEventResize,n._unrenderEventResize);var i=n.fillRenderer=new Q(e,r,o),s=n.eventRenderer=new J(e,t,o);return n.mirrorRenderer=new J(e,t,o),n.renderBusinessHours=b.memoizeRendering(i.renderSegs.bind(i,"businessHours"),i.unrender.bind(i,"businessHours")),n.renderDateSelection=b.memoizeRendering(i.renderSegs.bind(i,"highlight"),i.unrender.bind(i,"highlight")),n.renderBgEvents=b.memoizeRendering(i.renderSegs.bind(i,"bgEvent"),i.unrender.bind(i,"bgEvent")),n.renderFgEvents=b.memoizeRendering(s.renderSegs.bind(s),s.unrender.bind(s)),n.renderEventSelection=b.memoizeRendering(s.selectByInstanceId.bind(s),s.unselectByInstanceId.bind(s),[n.renderFgEvents]),n.timeAxis=o,n}var ne,ie=(t(se,ne=b.Slicer),se.prototype.sliceRange=function(e,t){var r=t.tDateProfile,o=t.props.dateProfile,n=function(e,t,r){if(!t.isTimeScale&&(e=b.computeVisibleDayRange(e),t.largeUnit)){var o=e;((e={start:r.startOf(e.start,t.largeUnit),end:r.startOf(e.end,t.largeUnit)}).end.valueOf()!==o.end.valueOf()||e.end<=e.start)&&(e={start:e.start,end:r.add(e.end,t.slotDuration)})}return e}(e,r,t.dateEnv),i=[];if(t.computeDateSnapCoverage(n.start)<t.computeDateSnapCoverage(n.end)){var s=b.intersectRanges(n,r.normalizedRange);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===n.start.valueOf()&&H(s.start,r,o,t.view),isEnd:s.end.valueOf()===n.end.valueOf()&&H(b.addMs(s.end,-1),r,o,t.view)})}return i},se);function se(){return null!==ne&&ne.apply(this,arguments)||this}var ae,le=(t(ce,ae=b.View),ce.prototype.destroy=function(){this.timeAxis.destroy(),this.lane.destroy(),ae.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},ce.prototype.renderSkeletonHtml=function(){var e=this.theme;return'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},ce.prototype.render=function(e){ae.prototype.render.call(this,e),this.timeAxis.receiveProps({dateProfile:e.dateProfile}),this.lane.receiveProps(r({},e,{nextDayThreshold:this.nextDayThreshold}))},ce.prototype.updateSize=function(e,t,r){this.timeAxis.updateSize(e,t,r),this.lane.updateSize(e)},ce.prototype.getNowIndicatorUnit=function(e){return this.timeAxis.getNowIndicatorUnit(e)},ce.prototype.renderNowIndicator=function(e){this.timeAxis.renderNowIndicator(e)},ce.prototype.unrenderNowIndicator=function(){this.timeAxis.unrenderNowIndicator()},ce.prototype.computeDateScroll=function(e){return this.timeAxis.computeDateScroll(e)},ce.prototype.applyScroll=function(e,t){ae.prototype.applyScroll.call(this,e,t);var r=this.calendar;(t||r.isViewUpdated||r.isDatesUpdated||r.isEventsUpdated)&&this.timeAxis.updateStickyScrollers()},ce.prototype.applyDateScroll=function(e){this.timeAxis.applyDateScroll(e)},ce.prototype.queryScroll=function(){var e=this.timeAxis.layout.bodyScroller.enhancedScroll;return{top:e.getScrollTop(),left:e.getScrollLeft()}},ce.prototype.buildPositionCaches=function(){this.timeAxis.slats.updateSize()},ce.prototype.queryHit=function(e,t,r,o){var n=this.timeAxis.slats.positionToHit(e);if(n)return{component:this,dateSpan:n.dateSpan,rect:{left:n.left,right:n.right,top:0,bottom:o},dayEl:n.dayEl,layer:0}},ce);function ce(e,t,r,o){var n=ae.call(this,e,t,r,o)||this;return n.el.classList.add("fc-timeline"),!1===n.opt("eventOverlap")&&n.el.classList.add("fc-no-overlap"),n.el.innerHTML=n.renderSkeletonHtml(),n.timeAxis=new q(n.context,n.el.querySelector("thead .fc-time-area"),n.el.querySelector("tbody .fc-time-area")),n.lane=new re(n.context,n.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl,n.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl,n.timeAxis),e.calendar.registerInteractiveComponent(n,{el:n.timeAxis.slats.el}),n}var ue=b.createPlugin({defaultView:"timelineDay",views:{timeline:{class:le,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});e.HeaderBodyLayout=y,e.ScrollJoiner=h,e.StickyScroller=j,e.TimeAxis=q,e.TimelineLane=re,e.TimelineView=le,e.default=ue,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/timeline"),require("@fullcalendar/resource-common")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/timeline","@fullcalendar/resource-common"],t):t((e=e||self).FullCalendarResourceTimeline={},e.FullCalendar,e.FullCalendarTimeline,e.FullCalendarResourceCommon)}(this,function(e,T,x,I){"use strict";var t="default"in x?x.default:x,r="default"in I?I.default:I,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function n(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s,c=function(){return(c=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=(n(a,s=T.Component),a.prototype.destroy=function(){T.removeElement(this.spreadsheetTr),T.removeElement(this.timeAxisTr),s.prototype.destroy.call(this)},a.prototype.updateSize=function(e){this.isSizeDirty=!1},a);function a(e,t,r,o,n){var i=s.call(this,e)||this;return i.isSizeDirty=!1,t.insertBefore(i.spreadsheetTr=document.createElement("tr"),r),o.insertBefore(i.timeAxisTr=document.createElement("tr"),n),i}function l(e,t){var r=e.classList;t?(r.remove("fc-icon-plus-square"),r.add("fc-icon-minus-square")):(r.remove("fc-icon-minus-square"),r.add("fc-icon-plus-square"))}function u(e,t){e.setAttribute("data-resource-id",t)}var d,p=(n(h,d=i),h.prototype.render=function(e){this._renderCells(e.group,e.spreadsheetColCnt),this._updateExpanderIcon(e.isExpanded),this.isSizeDirty=!0},h.prototype.destroy=function(){d.prototype.destroy.call(this),this._renderCells.unrender()},h.prototype.renderCells=function(e,t){var r=this.renderSpreadsheetContent(e);this.spreadsheetTr.appendChild(T.createElement("td",{className:"fc-divider",colSpan:t},this.spreadsheetHeightEl=T.createElement("div",null,r))),this.expanderIconEl=r.querySelector(".fc-icon"),this.expanderIconEl.parentElement.addEventListener("click",this.onExpanderClick),this.timeAxisTr.appendChild(T.createElement("td",{className:"fc-divider"},this.timeAxisHeightEl=document.createElement("div")))},h.prototype.unrenderCells=function(){this.spreadsheetTr.innerHTML="",this.timeAxisTr.innerHTML=""},h.prototype.renderSpreadsheetContent=function(e){var t=this.renderCellText(e),r=T.htmlToElement('<div class="fc-cell-content"><span class="fc-expander"><span class="fc-icon"></span></span><span class="fc-cell-text">'+(t?T.htmlEscape(t):"&nbsp;")+"</span></div>"),o=e.spec.render;return"function"==typeof o&&(r=o(r,e.value)||r),r},h.prototype.renderCellText=function(e){var t=e.value||"",r=e.spec.text;return"function"==typeof r&&(t=r(t)||t),t},h.prototype.getHeightEls=function(){return[this.spreadsheetHeightEl,this.timeAxisHeightEl]},h.prototype.updateExpanderIcon=function(e){l(this.expanderIconEl,e)},h);function h(){var r=null!==d&&d.apply(this,arguments)||this;return r._renderCells=T.memoizeRendering(r.renderCells,r.unrenderCells),r._updateExpanderIcon=T.memoizeRendering(r.updateExpanderIcon,null,[r._renderCells]),r.onExpanderClick=function(e){var t=r.props;r.calendar.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.id,isExpanded:!t.isExpanded})},r}p.addEqualityFuncs({group:I.isGroupsEqual});var f,y=(n(v,f=T.Component),v.prototype.render=function(e){this._renderRow(e.resource,e.rowSpans,e.depth,e.colSpecs),this._updateTrResourceId(this.tr,e.resource.id),this._updateExpanderIcon(e.hasChildren,e.isExpanded)},v.prototype.destroy=function(){f.prototype.destroy.call(this),this._renderRow.unrender()},v.prototype.renderRow=function(e,t,r,o){for(var n,i=this.tr,s=this.theme,a=this.calendar,l=this.view,c=I.buildResourceFields(e),u=0;u<o.length;u++){var d=o[u],p=t[u];if(0!==p){null==p&&(p=1);var h=void 0;h=d.field?c[d.field]:I.buildResourceTextFunc(d.text,a)(e);var f=T.htmlToElement('<div class="fc-cell-content">'+(d.isMain?m(r):"")+'<span class="fc-cell-text">'+(h?T.htmlEscape(h):"&nbsp;")+"</span></div>");"function"==typeof d.render&&(f=d.render(new I.ResourceApi(a,e),f)||f),1<p&&f.classList.add("fc-sticky");var y=T.createElement("td",{className:s.getClass("widgetContent"),rowspan:p},f);d.isMain&&(y.appendChild(this.heightEl=T.createElement("div",null,y.childNodes)),n=y),i.appendChild(y)}}this.expanderIconEl=i.querySelector(".fc-expander-space .fc-icon"),l.publiclyTrigger("resourceRender",[{resource:new I.ResourceApi(a,e),el:n,view:l}])},v.prototype.unrenderRow=function(){this.tr.innerHTML=""},v.prototype.updateExpanderIcon=function(e,t){var r=this.expanderIconEl,o=r.parentElement;r&&o&&(e?(o.addEventListener("click",this.onExpanderClick),o.classList.add("fc-expander"),l(r,t)):(o.removeEventListener("click",this.onExpanderClick),o.classList.remove("fc-expander"),function(e){var t=e.classList;t.remove("fc-icon-minus-square"),t.remove("fc-icon-plus-square")}(r)))},v);function v(e,t){var r=f.call(this,e)||this;return r._renderRow=T.memoizeRendering(r.renderRow,r.unrenderRow),r._updateTrResourceId=T.memoizeRendering(u,null,[r._renderRow]),r._updateExpanderIcon=T.memoizeRendering(r.updateExpanderIcon,null,[r._renderRow]),r.onExpanderClick=function(e){var t=r.props;r.calendar.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.id,isExpanded:!t.isExpanded})},r.tr=t,r}function m(e){for(var t="",r=0;r<e;r++)t+='<span class="fc-icon"></span>';return t+='<span class="fc-expander-space"><span class="fc-icon"></span></span>'}var g,S=(n(b,g=i),b.prototype.destroy=function(){this.spreadsheetRow.destroy(),this.lane.destroy(),g.prototype.destroy.call(this)},b.prototype.render=function(e){this.spreadsheetRow.receiveProps({colSpecs:e.colSpecs,id:e.id,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource}),this._updateTrResourceId(this.timeAxisTr,e.resource.id),this.lane.receiveProps({dateProfile:e.dateProfile,nextDayThreshold:e.nextDayThreshold,businessHours:e.businessHours,eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize}),this.isSizeDirty=!0},b.prototype.updateSize=function(e){g.prototype.updateSize.call(this,e),this.lane.updateSize(e)},b.prototype.getHeightEls=function(){return[this.spreadsheetRow.heightEl,this.innerContainerEl]},b);function b(e,t,r,o,n,i){var s=g.call(this,e,t,r,o,n)||this;return s._updateTrResourceId=T.memoizeRendering(u),s.spreadsheetRow=new y(e,s.spreadsheetTr),s.timeAxisTr.appendChild(T.createElement("td",{className:s.theme.getClass("widgetContent")},s.innerContainerEl=document.createElement("div"))),s.lane=new x.TimelineLane(e,s.innerContainerEl,s.innerContainerEl,i),s}S.addEqualityFuncs({rowSpans:T.isArraysEqual});var E,R=(n(w,E=T.Component),w.prototype.destroy=function(){for(var e=0,t=this.resizables;e<t.length;e++)t[e].destroy();T.removeElement(this.tableEl),E.prototype.destroy.call(this)},w.prototype.render=function(e){var t=this.theme,r=e.colSpecs,o="<colgroup>"+e.colTags+"</colgroup><tbody>";e.superHeaderText&&(o+='<tr class="fc-super"><th class="'+t.getClass("widgetHeader")+'" colspan="'+r.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+T.htmlEscape(e.superHeaderText)+"</span></div></th></tr>"),o+="<tr>";for(var n=0;n<r.length;n++){var i=r[n],s=n===r.length-1;o+='<th class="'+t.getClass("widgetHeader")+'"><div><div class="fc-cell-content">'+(i.isMain?'<span class="fc-expander-space"><span class="fc-icon"></span></span>':"")+'<span class="fc-cell-text">'+T.htmlEscape(i.labelText||"")+"</span></div>"+(s?"":'<div class="fc-col-resizer"></div>')+"</div></th>"}o+="</tr>",o+="</tbody>",this.tableEl.innerHTML=o,this.thEls=Array.prototype.slice.call(this.tableEl.querySelectorAll("th")),this.colEls=Array.prototype.slice.call(this.tableEl.querySelectorAll("col")),this.resizerEls=Array.prototype.slice.call(this.tableEl.querySelectorAll(".fc-col-resizer")),this.initColResizing()},w.prototype.initColResizing=function(){var n=this,i=this.calendar.pluginSystem.hooks.elementDraggingImpl;i&&(this.resizables=this.resizerEls.map(function(e,t){var r,o=new i(e);return o.emitter.on("dragstart",function(){"number"!=typeof(r=n.colWidths[t])&&(r=n.thEls[t].getBoundingClientRect().width)}),o.emitter.on("dragmove",function(e){n.colWidths[t]=Math.max(r+e.deltaX*(n.isRtl?-1:1),30),n.emitter.trigger("colwidthchange",n.colWidths)}),o.setAutoScrollEnabled(!1),o}))},w);function w(e,t){var r=E.call(this,e)||this;return r.resizables=[],r.colWidths=[],r.emitter=new T.EmitterMixin,t.appendChild(r.tableEl=T.createElement("table",{className:r.theme.getClass("tableGrid")})),r}var C,P=(n(D,C=T.Component),D.prototype.destroy=function(){this.header.destroy(),this.layout.destroy(),this._renderCells.unrender(),C.prototype.destroy.call(this)},D.prototype.render=function(e){this._renderCells(e.superHeaderText,e.colSpecs)},D.prototype.renderCells=function(e,t){var r=this.renderColTags(t);this.header.receiveProps({superHeaderText:e,colSpecs:t,colTags:r}),this.bodyColGroup.innerHTML=r,this.bodyColEls=Array.prototype.slice.call(this.bodyColGroup.querySelectorAll("col")),this.applyColWidths(t.map(function(e){return e.width}))},D.prototype.unrenderCells=function(){this.bodyColGroup.innerHTML=""},D.prototype.renderColTags=function(e){for(var t="",r=0,o=e;r<o.length;r++)o[r].isMain?t+='<col class="fc-main-col"/>':t+="<col/>";return t},D.prototype.updateSize=function(e,t,r){this.layout.setHeight(t,r)},D.prototype.applyColWidths=function(e){var i=this;e.forEach(function(e,t){var r,o=i.header.colEls[t],n=i.bodyColEls[t];"number"==typeof e?r=e+"px":null==typeof e&&(r=""),o.style.width=n.style.width=r})},D);function D(e,t,r){var o=C.call(this,e)||this;o._renderCells=T.memoizeRendering(o.renderCells,o.unrenderCells),o.layout=new x.HeaderBodyLayout(t,r,"clipped-scroll");var n=o.layout.headerScroller.enhancedScroll,i=o.layout.bodyScroller.enhancedScroll;return o.header=new R(e,n.canvas.contentEl),o.header.emitter.on("colwidthchange",function(e){o.applyColWidths(e)}),i.canvas.contentEl.appendChild(o.bodyContainerEl=T.createElement("div",{className:"fc-rows"},"<table><colgroup /><tbody /></table>")),o.bodyColGroup=o.bodyContainerEl.querySelector("colgroup"),o.bodyTbody=o.bodyContainerEl.querySelector("tbody"),o}var H,_=(n(A,H=T.View),A.prototype.renderSkeletonHtml=function(){var e=this.theme;return'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-resource-area '+e.getClass("widgetHeader")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+e.getClass("widgetContent")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},A.prototype.render=function(e){H.prototype.render.call(this,e);var t=this.splitter.splitProps(e),r=this.hasResourceBusinessHours(e.resourceStore);this.timeAxis.receiveProps({dateProfile:e.dateProfile}),this.lane.receiveProps(c({},t[""],{dateProfile:e.dateProfile,nextDayThreshold:this.nextDayThreshold,businessHours:r?null:e.businessHours}));var o=this.buildRowNodes(e.resourceStore,this.groupSpecs,this.orderSpecs,this.isVGrouping,e.resourceEntityExpansions,this.opt("resourcesInitiallyExpanded"));this._updateHasNesting(this.hasNesting(o)),this.diffRows(o),this.renderRows(e.dateProfile,r?e.businessHours:null,t)},A.prototype.updateHasNesting=function(e){var t=this.el.classList;e?t.remove("fc-flat"):t.add("fc-flat")},A.prototype.diffRows=function(e){var t=this.rowNodes,r=t.length,o={},n=0,i=0;for(n=0;n<r;n++)o[t[n].id]=n;for(i=n=0;i<e.length;i++){var s=e[i],a=o[s.id];null!=a&&n<=a?(this.removeRows(i,a-n,t),n=a+1):this.addRow(i,s)}this.removeRows(i,r-n,t),this.rowNodes=e},A.prototype.addRow=function(e,t){var r=this.rowComponents,o=this.rowComponentsById,n=r[e],i=this.buildChildComponent(t,this.spreadsheet.bodyTbody,n?n.spreadsheetTr:null,this.timeAxisTbody,n?n.timeAxisTr:null);r.splice(e,0,i),o[t.id]=i},A.prototype.removeRows=function(e,t,r){if(t){for(var o=this.rowComponents,n=this.rowComponentsById,i=0;i<t;i++)o[e+i].destroy(),delete n[r[i].id];o.splice(e,t)}},A.prototype.buildChildComponent=function(e,t,r,o,n){return e.group?new p(this.context,t,r,o,n):e.resource?new S(this.context,t,r,o,n,this.timeAxis):void 0},A.prototype.renderRows=function(e,t,r){for(var o=this.rowNodes,n=this.rowComponents,i=0;i<o.length;i++){var s=o[i],a=n[i];if(s.group)a.receiveProps({spreadsheetColCnt:this.colSpecs.length,id:s.id,isExpanded:s.isExpanded,group:s.group});else{var l=s.resource;a.receiveProps(c({},r[l.id],{dateProfile:e,nextDayThreshold:this.nextDayThreshold,businessHours:l.businessHours||t,colSpecs:this.colSpecs,id:s.id,rowSpans:s.rowSpans,depth:s.depth,isExpanded:s.isExpanded,hasChildren:s.hasChildren,resource:s.resource}))}}},A.prototype.updateSize=function(e,t,r){var o=this.calendar,n=e||o.isViewUpdated||o.isDatesUpdated||o.isEventsUpdated;n&&(this.syncHeadHeights(),this.timeAxis.updateSize(e,t-this.miscHeight,r),this.spreadsheet.updateSize(e,t-this.miscHeight,r));var i=this.updateRowSizes(e);this.lane.updateSize(e),(n||i)&&(this.bodyScrollJoiner.update(),this.timeAxis.layout.scrollJoiner.update(),this.rowPositions=new T.PositionCache(this.timeAxis.slats.el,this.rowComponents.map(function(e){return e.timeAxisTr}),!1,!0),this.rowPositions.build(),this.isStickyScrollDirty=!0)},A.prototype.syncHeadHeights=function(){var e=this.spreadsheet.header.tableEl,t=this.timeAxis.header.tableEl;e.style.height="",t.style.height="";var r=Math.max(e.getBoundingClientRect().height,t.getBoundingClientRect().height);e.style.height=t.style.height=r+"px"},A.prototype.updateRowSizes=function(e){var t=this.rowComponents;e||(t=t.filter(function(e){return e.isSizeDirty}));for(var r=t.map(function(e){return e.getHeightEls()}),o=0,n=r;o<n.length;o++)for(var i=0,s=n[o];i<s.length;i++)s[i].style.height="";for(var a=0,l=t;a<l.length;a++)l[a].updateSize(e);for(var c=r.map(function(e){for(var t=null,r=0,o=e;r<o.length;r++){var n=o[r].getBoundingClientRect().height;(null===t||t<n)&&(t=n)}return t}),u=0;u<r.length;u++)for(var d=0,p=r[u];d<p.length;d++)p[d].style.height=c[u]+"px";return t.length},A.prototype.destroy=function(){for(var e=0,t=this.rowComponents;e<t.length;e++)t[e].destroy();this.rowNodes=[],this.rowComponents=[],this.spreadsheet.destroy(),this.timeAxis.destroy();for(var r=0,o=this.resourceAreaWidthDraggings;r<o.length;r++)o[r].destroy();this.spreadsheetBodyStickyScroller.destroy(),H.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},A.prototype.getNowIndicatorUnit=function(e){return this.timeAxis.getNowIndicatorUnit(e)},A.prototype.renderNowIndicator=function(e){this.timeAxis.renderNowIndicator(e)},A.prototype.unrenderNowIndicator=function(){this.timeAxis.unrenderNowIndicator()},A.prototype.queryScroll=function(){var e=H.prototype.queryScroll.call(this);return this.props.resourceStore&&c(e,this.queryResourceScroll()),e},A.prototype.applyScroll=function(e,t){H.prototype.applyScroll.call(this,e,t),this.props.resourceStore&&this.applyResourceScroll(e),(t||this.isStickyScrollDirty)&&(this.isStickyScrollDirty=!1,this.spreadsheetBodyStickyScroller.updateSize(),this.timeAxis.updateStickyScrollers())},A.prototype.computeDateScroll=function(e){return this.timeAxis.computeDateScroll(e)},A.prototype.queryDateScroll=function(){return this.timeAxis.queryDateScroll()},A.prototype.applyDateScroll=function(e){this.timeAxis.applyDateScroll(e)},A.prototype.queryResourceScroll=function(){for(var e=this.rowComponents,t=this.rowNodes,r={},o=this.timeAxis.layout.bodyScroller.el.getBoundingClientRect().top,n=0;n<e.length;n++){var i=e[n],s=t[n],a=i.timeAxisTr.getBoundingClientRect().bottom;if(o<a){r.rowId=s.id,r.bottom=a-o;break}}return r},A.prototype.applyResourceScroll=function(e){var t=e.forcedRowId||e.rowId;if(t){var r=this.rowComponentsById[t];if(r){var o=r.timeAxisTr;if(o){var n=this.timeAxis.layout.bodyScroller.enhancedScroll.canvas.el.getBoundingClientRect().top,i=o.getBoundingClientRect(),s=(e.forcedRowId?i.top:i.bottom-e.bottom)-n;this.timeAxis.layout.bodyScroller.enhancedScroll.setScrollTop(s),this.spreadsheet.layout.bodyScroller.enhancedScroll.setScrollTop(s)}}}},A.prototype.buildPositionCaches=function(){this.timeAxis.slats.updateSize(),this.rowPositions.build()},A.prototype.queryHit=function(e,t){var r=this.rowPositions,o=this.timeAxis.slats,n=r.topToIndex(t);if(null!=n){var i=this.rowNodes[n].resource;if(i){var s=o.positionToHit(e);if(s)return{component:this,dateSpan:{range:s.dateSpan.range,allDay:s.dateSpan.allDay,resourceId:i.id},rect:{left:s.left,right:s.right,top:r.tops[n],bottom:r.bottoms[n]},dayEl:s.dayEl,layer:0}}}},A.prototype.setResourceAreaWidth=function(e){this.resourceAreaWidth=e,T.applyStyleProp(this.resourceAreaHeadEl,"width",e||"")},A.prototype.initResourceAreaWidthDragging=function(){var n=this,e=Array.prototype.slice.call(this.el.querySelectorAll(".fc-col-resizer")),i=this.calendar.pluginSystem.hooks.elementDraggingImpl;i&&(this.resourceAreaWidthDraggings=e.map(function(e){var r,o,t=new i(e);return t.emitter.on("dragstart",function(){"number"!=typeof(r=n.resourceAreaWidth)&&(r=n.resourceAreaHeadEl.getBoundingClientRect().width),o=n.el.getBoundingClientRect().width}),t.emitter.on("dragmove",function(e){var t=r+e.deltaX*(n.isRtl?-1:1);t=Math.max(t,30),t=Math.min(t,o-30),n.setResourceAreaWidth(t)}),t.setAutoScrollEnabled(!1),t}))},A.needsResourceData=!0,A);function A(e,t,r,o){var n=H.call(this,e,t,r,o)||this;n.isStickyScrollDirty=!1,n.rowNodes=[],n.rowComponents=[],n.rowComponentsById={},n.resourceAreaWidthDraggings=[],n.splitter=new I.ResourceSplitter,n.hasResourceBusinessHours=T.memoize(z),n.buildRowNodes=T.memoize(I.buildRowNodes),n.hasNesting=T.memoize(O),n._updateHasNesting=T.memoizeRendering(n.updateHasNesting);var i=n.opt("resourceColumns")||[],s=n.opt("resourceLabelText"),a=null;i.length?a=s:i.push({labelText:s||"Resources",text:I.buildResourceTextFunc(n.opt("resourceText"),n.calendar)});for(var l=[],c=[],u=[],d=!1,p=!1,h=0,f=i;h<f.length;h++){var y=f[h];y.group?c.push(y):l.push(y)}if(l[0].isMain=!0,c.length)u=c,d=!0;else{var v=n.opt("resourceGroupField");v&&(p=!0,u.push({field:v,text:n.opt("resourceGroupText"),render:n.opt("resourceGroupRender")}))}for(var m=[],g=0,S=T.parseFieldSpecs(n.opt("resourceOrder"));g<S.length;g++){for(var b=S[g],E=!1,R=0,w=u;R<w.length;R++){var C=w[R];if(C.field===b.field){C.order=b.order,E=!0;break}}E||m.push(b)}n.superHeaderText=a,n.isVGrouping=d,n.isHGrouping=p,n.groupSpecs=u,n.colSpecs=c.concat(l),n.orderSpecs=m,n.el.classList.add("fc-timeline"),!1===n.opt("eventOverlap")&&n.el.classList.add("fc-no-overlap"),n.el.innerHTML=n.renderSkeletonHtml(),n.resourceAreaHeadEl=n.el.querySelector("thead .fc-resource-area"),n.setResourceAreaWidth(n.opt("resourceAreaWidth")),n.initResourceAreaWidthDragging(),n.miscHeight=n.el.getBoundingClientRect().height,n.spreadsheet=new P(n.context,n.resourceAreaHeadEl,n.el.querySelector("tbody .fc-resource-area")),n.timeAxis=new x.TimeAxis(n.context,n.el.querySelector("thead .fc-time-area"),n.el.querySelector("tbody .fc-time-area"));var D=T.createElement("div",{className:"fc-rows"},"<table><tbody /></table>");return n.timeAxis.layout.bodyScroller.enhancedScroll.canvas.contentEl.appendChild(D),n.timeAxisTbody=D.querySelector("tbody"),n.lane=new x.TimelineLane(n.context,null,n.timeAxis.layout.bodyScroller.enhancedScroll.canvas.bgEl,n.timeAxis),n.bodyScrollJoiner=new x.ScrollJoiner("vertical",[n.spreadsheet.layout.bodyScroller,n.timeAxis.layout.bodyScroller]),n.spreadsheetBodyStickyScroller=new x.StickyScroller(n.spreadsheet.layout.bodyScroller.enhancedScroll,n.isRtl,!0),n.spreadsheet.receiveProps({superHeaderText:n.superHeaderText,colSpecs:n.colSpecs}),e.calendar.registerInteractiveComponent(n,{el:n.timeAxis.slats.el}),n}function z(e){for(var t in e){if(e[t].businessHours)return!0}return!1}function O(e){for(var t=0,r=e;t<r.length;t++){var o=r[t];if(o.group)return!0;if(o.resource&&o.hasChildren)return!0}return!1}var M=T.createPlugin({deps:[r,t],defaultView:"resourceTimelineDay",views:{resourceTimeline:{class:_,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});e.ResourceTimelineView=_,e.default=M,Object.defineProperty(e,"__esModule",{value:!0})});