!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Choices=t():e.Choices=t()}(window,function(){return n={},o.m=i=[function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diff=t.cloneObject=t.existsInArray=t.isIE11=t.fetchFromObject=t.getWindowHeight=t.dispatchEvent=t.sortByScore=t.sortByAlpha=t.calcWidthOfInput=t.strToEl=t.sanitise=t.isScrolledIntoView=t.getAdjacentEl=t.findAncestorByAttrName=t.wrap=t.isElement=t.isType=t.getType=t.generateId=t.generateChars=t.getRandomNumber=void 0;function n(e,t){return Math.floor(Math.random()*(t-e)+e)}var s=void 0;t.getRandomNumber=n;function o(e){for(var t="",i=0;i<e;i++){t+=n(0,36).toString(36)}return t}t.generateChars=o;t.generateId=function(e,t){var i=e.id||e.name&&"".concat(e.name,"-").concat(o(2))||o(4);return i=i.replace(/(:|\.|\[|\]|,)/g,""),i="".concat(t,"-").concat(i)};function r(e){return Object.prototype.toString.call(e).slice(8,-1)}t.getType=r;function a(e,t){return null!=t&&r(t)===e}t.isType=a;t.isElement=function(e){return e instanceof Element};t.wrap=function(e,t){var i=1<arguments.length&&void 0!==t?t:document.createElement("div");return e.nextSibling?e.parentNode.insertBefore(i,e.nextSibling):e.parentNode.appendChild(i),i.appendChild(e)};t.findAncestorByAttrName=function(e,t){for(var i=e;i;){if(i.hasAttribute(t))return i;i=i.parentElement}return null};t.getAdjacentEl=function(e,t,i){var n=2<arguments.length&&void 0!==i?i:1;if(e&&t){var o=e.parentNode.parentNode,r=Array.from(o.querySelectorAll(t)),s=r.indexOf(e);return r[s+(0<n?1:-1)]}};t.isScrolledIntoView=function(e,t,i){if(e)return 0<(2<arguments.length&&void 0!==i?i:1)?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop};function c(e){return a("String",e)?e.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):e}t.sanitise=c;var l,u=(l=document.createElement("div"),function(e){var t=e.trim();l.innerHTML=t;for(var i=l.children[0];l.firstChild;)l.removeChild(l.firstChild);return i});t.strToEl=u;t.calcWidthOfInput=function(e,t){var i=e.value||e.placeholder,n=e.offsetWidth;if(i){var o=u("<span>".concat(c(i),"</span>"));if(o.style.position="absolute",o.style.padding="0",o.style.top="-9999px",o.style.left="-9999px",o.style.width="auto",o.style.whiteSpace="pre",document.body.contains(e)&&window.getComputedStyle){var r=window.getComputedStyle(e);r&&(o.style.fontSize=r.fontSize,o.style.fontFamily=r.fontFamily,o.style.fontWeight=r.fontWeight,o.style.fontStyle=r.fontStyle,o.style.letterSpacing=r.letterSpacing,o.style.textTransform=r.textTransform,o.style.padding=r.padding)}document.body.appendChild(o),requestAnimationFrame(function(){i&&o.offsetWidth!==e.offsetWidth&&(n=o.offsetWidth+4),document.body.removeChild(o),t.call(s,"".concat(n,"px"))})}else t.call(s,"".concat(n,"px"))};t.sortByAlpha=function(e,t){var i="".concat(e.label||e.value).toLowerCase(),n="".concat(t.label||t.value).toLowerCase();return i<n?-1:n<i?1:0};t.sortByScore=function(e,t){return e.score-t.score};t.dispatchEvent=function(e,t,i){var n=new CustomEvent(t,{detail:2<arguments.length&&void 0!==i?i:null,bubbles:!0,cancelable:!0});return e.dispatchEvent(n)};t.getWindowHeight=function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)};t.fetchFromObject=function e(t,i){var n=i.indexOf(".");return-1<n?e(t[i.substring(0,n)],i.substr(n+1)):t[i]};t.isIE11=function(){return!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/))};t.existsInArray=function(e,t,i){var n=2<arguments.length&&void 0!==i?i:"value";return e.some(function(e){return a("String",t)?e[n]===t.trim():e[n]===t})};t.cloneObject=function(e){return JSON.parse(JSON.stringify(e))};t.diff=function(e,t){var i=Object.keys(e).sort(),n=Object.keys(t).sort();return i.filter(function(e){return n.indexOf(e)<0})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLLING_SPEED=t.KEY_CODES=t.ACTION_TYPES=t.EVENTS=t.DEFAULT_CONFIG=t.DEFAULT_CLASSNAMES=void 0;var n=i(0),o={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"};t.DEFAULT_CLASSNAMES=o;var r={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilterFn:null,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sortFn:n.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat((0,n.sanitise)(e),'"</b>')},maxItemText:function(e){return"Only ".concat(e," values can be added")},itemComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},callbackOnInit:null,callbackOnCreateTemplates:null,classNames:o};t.DEFAULT_CONFIG=r;t.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice"};t.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL"};t.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34};t.SCROLLING_SPEED=4},function(e,r,s){"use strict";(function(e,t){var i,n=s(7);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;var o=Object(n.a)(i);r.a=o}).call(this,s(3),s(14)(e))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(0);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function n(e){var t=e.element,i=e.classNames;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Object.assign(this,{element:t,classNames:i}),!(0,o.isElement)(t))throw new TypeError("Invalid element passed");this.isDisabled=!1}return function(e,t,i){t&&r(e.prototype,t),i&&r(e,i)}(n,[{key:"conceal",value:function(){this.element.classList.add(this.classNames.input),this.element.classList.add(this.classNames.hiddenState),this.element.tabIndex="-1";var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("aria-hidden","true"),this.element.setAttribute("data-choice","active")}},{key:"reveal",value:function(){this.element.classList.remove(this.classNames.input),this.element.classList.remove(this.classNames.hiddenState),this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("aria-hidden"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value}},{key:"enable",value:function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1}},{key:"disable",value:function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0}},{key:"triggerEvent",value:function(e,t){(0,o.dispatchEvent)(this.element,e,t)}},{key:"value",get:function(){return this.element.value}}]),n}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TEMPLATES=void 0;var n,c=(n=i(27))&&n.__esModule?n:{default:n},l=i(0);function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o={containerOuter:function(e,t,i,n,o,r){var s=n?'tabindex="0"':"",a=i?'role="listbox"':"",c="";return i&&o&&(a='role="combobox"',c='aria-autocomplete="list"'),(0,l.strToEl)('\n      <div\n        class="'.concat(e.containerOuter,'"\n        data-type="').concat(r,'"\n        ').concat(a,"\n        ").concat(s,"\n        ").concat(c,'\n        aria-haspopup="true"\n        aria-expanded="false"\n        dir="').concat(t,'"\n        >\n      </div>\n    '))},containerInner:function(e){return(0,l.strToEl)('\n      <div class="'.concat(e.containerInner,'"></div>\n    '))},itemList:function(e,t){var i,n=(0,c.default)(e.list,(u(i={},e.listSingle,t),u(i,e.listItems,!t),i));return(0,l.strToEl)('\n      <div class="'.concat(n,'"></div>\n    '))},placeholder:function(e,t){return(0,l.strToEl)('\n      <div class="'.concat(e.placeholder,'">\n        ').concat(t,"\n      </div>\n    "))},item:function(e,t,i){var n,o,r=t.active?'aria-selected="true"':"",s=t.disabled?'aria-disabled="true"':"",a=(0,c.default)(e.item,(u(n={},e.highlightedState,t.highlighted),u(n,e.itemSelectable,!t.highlighted),u(n,e.placeholder,t.placeholder),n));return i?(a=(0,c.default)(e.item,(u(o={},e.highlightedState,t.highlighted),u(o,e.itemSelectable,!t.disabled),u(o,e.placeholder,t.placeholder),o)),(0,l.strToEl)('\n        <div\n          class="'.concat(a,'"\n          data-item\n          data-id="').concat(t.id,'"\n          data-value="').concat(t.value,"\"\n          data-custom-properties='").concat(t.customProperties,"'\n          data-deletable\n          ").concat(r,"\n          ").concat(s,"\n          >\n          ").concat(t.label,'\x3c!--\n       --\x3e<button\n            type="button"\n            class="').concat(e.button,'"\n            data-button\n            aria-label="Remove item: \'').concat(t.value,"'\"\n            >\n            Remove item\n          </button>\n        </div>\n      "))):(0,l.strToEl)('\n      <div\n        class="'.concat(a,'"\n        data-item\n        data-id="').concat(t.id,'"\n        data-value="').concat(t.value,'"\n        ').concat(r,"\n        ").concat(s,"\n        >\n        ").concat(t.label,"\n      </div>\n    "))},choiceList:function(e,t){var i=t?"":'aria-multiselectable="true"';return(0,l.strToEl)('\n      <div\n        class="'.concat(e.list,'"\n        dir="ltr"\n        role="listbox"\n        ').concat(i,"\n        >\n      </div>\n    "))},choiceGroup:function(e,t){var i=t.disabled?'aria-disabled="true"':"",n=(0,c.default)(e.group,u({},e.itemDisabled,t.disabled));return(0,l.strToEl)('\n      <div\n        class="'.concat(n,'"\n        data-group\n        data-id="').concat(t.id,'"\n        data-value="').concat(t.value,'"\n        role="group"\n        ').concat(i,'\n        >\n        <div class="').concat(e.groupHeading,'">').concat(t.value,"</div>\n      </div>\n    "))},choice:function(e,t,i){var n,o=0<t.groupId?'role="treeitem"':'role="option"',r=(0,c.default)(e.item,e.itemChoice,(u(n={},e.itemDisabled,t.disabled),u(n,e.itemSelectable,!t.disabled),u(n,e.placeholder,t.placeholder),n));return(0,l.strToEl)('\n      <div\n        class="'.concat(r,'"\n        data-select-text="').concat(i,'"\n        data-choice\n        data-id="').concat(t.id,'"\n        data-value="').concat(t.value,'"\n        ').concat(t.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable",'\n        id="').concat(t.elementId,'"\n        ').concat(o,"\n        >\n        ").concat(t.label,"\n      </div>\n    "))},input:function(e){var t=(0,c.default)(e.input,e.inputCloned);return(0,l.strToEl)('\n      <input\n        type="text"\n        class="'.concat(t,'"\n        autocomplete="off"\n        autocapitalize="off"\n        spellcheck="false"\n        role="textbox"\n        aria-autocomplete="list"\n        >\n    '))},dropdown:function(e){var t=(0,c.default)(e.list,e.listDropdown);return(0,l.strToEl)('\n      <div\n        class="'.concat(t,'"\n        aria-expanded="false"\n        >\n      </div>\n    '))},notice:function(e,t,i){var n,o=2<arguments.length&&void 0!==i?i:"",r=(0,c.default)(e.item,e.itemChoice,(u(n={},e.noResults,"no-results"===o),u(n,e.noChoices,"no-choices"===o),n));return(0,l.strToEl)('\n      <div class="'.concat(r,'">\n        ').concat(t,"\n      </div>\n    "))},option:function(e){return(0,l.strToEl)('\n      <option value="'.concat(e.value,'" ').concat(e.active?"selected":""," ").concat(e.disabled?"disabled":""," ").concat(e.customProperties?"data-custom-properties=".concat(e.customProperties):"",">").concat(e.label,"</option>\n    "))}},r=t.TEMPLATES=o;t.default=r},function(e,t,i){"use strict";i.r(t);var n=i(8),o="object"==typeof self&&self&&self.Object===Object&&self,r=(n.a||o||Function("return this")()).Symbol,s=Object.prototype,a=s.hasOwnProperty,c=s.toString,l=r?r.toStringTag:void 0;var u=function(e){var t=a.call(e,l),i=e[l];try{var n=!(e[l]=void 0)}catch(e){}var o=c.call(e);return n&&(t?e[l]=i:delete e[l]),o},h=Object.prototype.toString;var d=function(e){return h.call(e)},f=r?r.toStringTag:void 0;var p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?u(e):d(e)};var v=function(t,i){return function(e){return t(i(e))}}(Object.getPrototypeOf,Object);var m=function(e){return null!=e&&"object"==typeof e},g=Function.prototype,_=Object.prototype,y=g.toString,b=_.hasOwnProperty,E=y.call(Object);var S=function(e){if(!m(e)||"[object Object]"!=p(e))return!1;var t=v(e);if(null===t)return!0;var i=b.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&y.call(i)==E},I=i(2),O={INIT:"@@redux/INIT"};function C(e,t,i){var n;if("function"==typeof t&&void 0===i&&(i=t,t=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(C)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,r=t,s=[],a=s,c=!1;function l(){a===s&&(a=s.slice())}function u(){return r}function h(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var i=!0;return l(),a.push(t),function(){if(i){i=!1,l();var e=a.indexOf(t);a.splice(e,1)}}}function d(e){if(!S(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,r=o(r,e)}finally{c=!1}for(var t=s=a,i=0;i<t.length;i++){(0,t[i])()}return e}return d({type:O.INIT}),(n={dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:O.INIT})}})[I.a]=function(){var e,i=h;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(u())}return t(),{unsubscribe:i(t)}}})[I.a]=function(){return this},e},n}function T(e){for(var t=Object.keys(e),v={},i=0;i<t.length;i++){var n=t[i];0,"function"==typeof e[n]&&(v[n]=e[n])}var m=Object.keys(v);var g=void 0;try{!function(i){Object.keys(i).forEach(function(e){var t=i[e];if(void 0===t(void 0,{type:O.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+O.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(v)}catch(e){g=e}return function(e,t){var i=0<arguments.length&&void 0!==e?e:{},n=t;if(g)throw g;for(var o,r,s,a=!1,c={},l=0;l<m.length;l++){var u=m[l],h=v[u],d=i[u],f=h(d,n);if(void 0===f){var p=(o=u,s=void 0,"Given action "+((s=(r=n)&&r.type)&&'"'+s.toString()+'"'||"an action")+', reducer "'+o+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.');throw new Error(p)}c[u]=f,a=a||f!==d}return a?c:i}}function w(e,t){return function(){return t(e.apply(void 0,arguments))}}function k(e,t){if("function"==typeof e)return w(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i=Object.keys(e),n={},o=0;o<i.length;o++){var r=i[o],s=e[r];"function"==typeof s&&(n[r]=w(s,t))}return n}function A(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function x(){for(var e=arguments.length,c=Array(e),t=0;t<e;t++)c[t]=arguments[t];return function(a){return function(e,t,i){var n,o=a(e,t,i),r=o.dispatch,s={getState:o.getState,dispatch:function(e){return r(e)}};return n=c.map(function(e){return e(s)}),r=A.apply(void 0,n)(o.dispatch),L({},o,{dispatch:r})}}}i.d(t,"createStore",function(){return C}),i.d(t,"combineReducers",function(){return T}),i.d(t,"bindActionCreators",function(){return k}),i.d(t,"applyMiddleware",function(){return x}),i.d(t,"compose",function(){return A})},function(e,t,i){"use strict";function n(e){var t,i=e.Symbol;return"function"==typeof i?i.observable?t=i.observable:(t=i("observable"),i.observable=t):t="@@observable",t}i.d(t,"a",function(){return n})},function(e,i,t){"use strict";(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;i.a=t}).call(this,t(3))},function(e,t,i){e.exports=i(10)},function(e,t,i){"use strict";var c=r(i(11)),s=r(i(12)),a=r(i(13)),l=i(20),S=i(1),n=i(5),b=i(28),I=i(29),h=i(30),o=i(31),u=i(32),O=i(0);function r(e){return e&&e.__esModule?e:{default:e}}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-choice]",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(0,O.isType)("String",e)){var i=Array.from(document.querySelectorAll(e));if(1<i.length)return this._generateInstances(i,t)}this.config=s.default.all([S.DEFAULT_CONFIG,r.userDefaults,t],{arrayMerge:function(e,t){return[].concat(t)}});var n=(0,O.diff)(this.config,S.DEFAULT_CONFIG);n.length&&console.warn("Unknown config option(s) passed",n.join(", ")),["auto","always"].includes(this.config.renderSelectedChoices)||(this.config.renderSelectedChoices="auto");var o=(0,O.isType)("String",e)?document.querySelector(e):e;return o?(this._isTextElement="text"===o.type,this._isSelectOneElement="select-one"===o.type,this._isSelectMultipleElement="select-multiple"===o.type,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this._isTextElement?this.passedElement=new l.WrappedInput({element:o,classNames:this.config.classNames,delimiter:this.config.delimiter}):this._isSelectElement&&(this.passedElement=new l.WrappedSelect({element:o,classNames:this.config.classNames})),this.passedElement?(!0===this.config.shouldSortItems&&this._isSelectOneElement&&!this.config.silent&&console.warn("shouldSortElements: Type of passed element is 'select-one', falling back to false."),this.initialised=!1,this._store=new a.default(this.render),this._initialState={},this._currentState={},this._prevState={},this._currentValue="",this._canSearch=this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,O.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.element.getAttribute("dir")||"ltr",this._idNames={itemChoice:"item-choice"},this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&(this._presetItems=this._presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onAKey=this._onAKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),"active"===this.passedElement.element.getAttribute("data-choice")&&console.warn("Trying to initialise Choices on element already initialised"),void this.init()):console.error("Passed element was of an invalid type")):console.error("Could not find passed element or passed element was of an invalid type")}return function(e,t,i){t&&d(e.prototype,t),i&&d(e,i)}(r,[{key:"init",value:function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._initialState=(0,O.cloneObject)(this._store.state),this._store.subscribe(this._render),this._render(),this._addEventListeners(),this.config.addItems&&!this.passedElement.element.hasAttribute("disabled")||this.disable(),this.initialised=!0;var e=this.config.callbackOnInit;e&&(0,O.isType)("Function",e)&&e.call(this)}}},{key:"destroy",value:function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._isSelectElement&&(this.passedElement.options=this._presetChoices),this.clearStore(),this.config.templates=null,this.initialised=!1)}},{key:"enable",value:function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this}},{key:"disable",value:function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this}},{key:"highlightItem",value:function(e,t){var i=!(1<arguments.length&&void 0!==t)||t;if(!e)return this;var n=e.id,o=e.groupId,r=void 0===o?-1:o,s=e.value,a=void 0===s?"":s,c=e.label,l=void 0===c?"":c,u=0<=r?this._store.getGroupById(r):null;return this._store.dispatch((0,I.highlightItem)(n,!0)),i&&this.passedElement.triggerEvent(S.EVENTS.highlightItem,{id:n,value:a,label:l,groupValue:u&&u.value?u.value:null}),this}},{key:"unhighlightItem",value:function(e){if(!e)return this;var t=e.id,i=e.groupId,n=void 0===i?-1:i,o=e.value,r=void 0===o?"":o,s=e.label,a=void 0===s?"":s,c=0<=n?this._store.getGroupById(n):null;return this._store.dispatch((0,I.highlightItem)(t,!1)),this.passedElement.triggerEvent(S.EVENTS.highlightItem,{id:t,value:r,label:a,groupValue:c&&c.value?c.value:null}),this}},{key:"highlightAll",value:function(){var t=this;return this._store.items.forEach(function(e){return t.highlightItem(e)}),this}},{key:"unhighlightAll",value:function(){var t=this;return this._store.items.forEach(function(e){return t.unhighlightItem(e)}),this}},{key:"removeActiveItemsByValue",value:function(t){var i=this;return this._store.activeItems.filter(function(e){return e.value===t}).forEach(function(e){return i._removeItem(e)}),this}},{key:"removeActiveItems",value:function(t){var i=this;return this._store.activeItems.filter(function(e){return e.id!==t}).forEach(function(e){return i._removeItem(e)}),this}},{key:"removeHighlightedItems",value:function(e){var t=this,i=0<arguments.length&&void 0!==e&&e;return this._store.highlightedActiveItems.forEach(function(e){t._removeItem(e),i&&t._triggerChange(e.value)}),this}},{key:"showDropdown",value:function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame(function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow()),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(S.EVENTS.showDropdown,{})}),this}},{key:"hideDropdown",value:function(e){var t=this;return this.dropdown.isActive&&requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(S.EVENTS.hideDropdown,{})}),this}},{key:"getValue",value:function(e){var n=0<arguments.length&&void 0!==e&&e,t=this._store.activeItems.reduce(function(e,t){var i=n?t.value:t;return e.push(i),e},[]);return this._isSelectOneElement?t[0]:t}},{key:"setValue",value:function(e){var t=this;return this.initialised&&[].concat(e).forEach(function(e){return t._setChoiceOrItem(e)}),this}},{key:"setChoiceByValue",value:function(e){var t=this;return!this.initialised||this._isTextElement||((0,O.isType)("Array",e)?e:[e]).forEach(function(e){return t._findAndSelectChoiceByValue(e)}),this}},{key:"setChoices",value:function(e,t,i,n){var o=this,r=0<arguments.length&&void 0!==e?e:[],s=1<arguments.length&&void 0!==t?t:"",a=2<arguments.length&&void 0!==i?i:"",c=3<arguments.length&&void 0!==n&&n;if(!this._isSelectElement||!s)return this;c&&this.clearChoices(),this.containerOuter.removeLoadingState();return this._setLoading(!0),r.forEach(function(e){e.choices?o._addGroup({group:e,id:e.id||null,valueKey:s,labelKey:a}):o._addChoice({value:e[s],label:e[a],isSelected:e.selected,isDisabled:e.disabled,customProperties:e.customProperties,placeholder:e.placeholder})}),this._setLoading(!1),this}},{key:"clearChoices",value:function(){this._store.dispatch((0,b.clearChoices)())}},{key:"clearStore",value:function(){return this._store.dispatch((0,o.clearAll)()),this}},{key:"clearInput",value:function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,b.activateChoices)(!0))),this}},{key:"ajax",value:function(e){var t=this;return this.initialised&&this._isSelectElement&&e&&(requestAnimationFrame(function(){return t._handleLoadingState(!0)}),e(this._ajaxCallback())),this}},{key:"_render",value:function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,i=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),i&&this._renderItems(),this._prevState=this._currentState)}}},{key:"_renderChoices",value:function(){var e=this,t=this._store,i=t.activeGroups,n=t.activeChoices,o=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),1<=i.length&&!this._isSearching){var r=n.filter(function(e){return!0===e.placeholder&&-1===e.groupId});1<=r.length&&(o=this._createChoicesFragment(r,o)),o=this._createGroupsFragment(i,n,o)}else 1<=n.length&&(o=this._createChoicesFragment(n,o));if(o.childNodes&&0<o.childNodes.length){var s=this._store.activeItems,a=this._canAddItem(s,this.input.value);a.response?(this.choiceList.append(o),this._highlightChoice()):this.choiceList.append(this._getTemplate("notice",a.notice))}else{var c,l;c=this._isSearching?(l=(0,O.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,this._getTemplate("notice",l,"no-results")):(l=(0,O.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,this._getTemplate("notice",l,"no-choices")),this.choiceList.append(c)}}},{key:"_renderItems",value:function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)}},{key:"_createGroupsFragment",value:function(e,n,t){var o=this,r=t||document.createDocumentFragment();return this.config.shouldSort&&e.sort(this.config.sortFn),e.forEach(function(e){var t=function(t){return n.filter(function(e){return o._isSelectOneElement?e.groupId===t.id:e.groupId===t.id&&("always"===o.config.renderSelectedChoices||!e.selected)})}(e);if(1<=t.length){var i=o._getTemplate("choiceGroup",e);r.appendChild(i),o._createChoicesFragment(t,r,!0)}}),r}},{key:"_createChoicesFragment",value:function(e,t,i){function n(e){if("auto"!==c||(o._isSelectOneElement||!e.selected)){var t=o._getTemplate("choice",e,o.config.itemSelectText);s.appendChild(t)}}var o=this,r=2<arguments.length&&void 0!==i&&i,s=t||document.createDocumentFragment(),a=this.config,c=a.renderSelectedChoices,l=a.searchResultLimit,u=a.renderChoiceLimit,h=this._isSearching?O.sortByScore:this.config.sortFn,d=e;"auto"!==c||this._isSelectOneElement||(d=e.filter(function(e){return!e.selected}));var f=d.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),p=f.placeholderChoices,v=f.normalChoices;(this.config.shouldSort||this._isSearching)&&v.sort(h);var m=d.length,g=[].concat(p,v);this._isSearching?m=l:0<u&&!r&&(m=u);for(var _=0;_<m;_+=1)g[_]&&n(g[_]);return s}},{key:"_createItemsFragment",value:function(e,t){var i=this,n=1<arguments.length&&void 0!==t?t:null,o=this.config,r=o.shouldSortItems,s=o.sortFn,a=o.removeItemButton,c=n||document.createDocumentFragment();r&&!this._isSelectOneElement&&e.sort(s),this._isTextElement?this.passedElement.value=e:this.passedElement.options=e;return e.forEach(function(e){return function(e){var t=i._getTemplate("item",e,a);c.appendChild(t)}(e)}),c}},{key:"_triggerChange",value:function(e){null!=e&&this.passedElement.triggerEvent(S.EVENTS.change,{value:e})}},{key:"_selectPlaceholderChoice",value:function(){var e=this._store.placeholderChoice;e&&(this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value))}},{key:"_handleButtonAction",value:function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var i=t.parentNode.getAttribute("data-id"),n=e.find(function(e){return e.id===parseInt(i,10)});this._removeItem(n),this._triggerChange(n.value),this._isSelectOneElement&&this._selectPlaceholderChoice()}}},{key:"_handleItemAction",value:function(e,t,i){var n=this,o=2<arguments.length&&void 0!==i&&i;if(e&&t&&this.config.removeItems&&!this._isSelectOneElement){var r=t.getAttribute("data-id");e.forEach(function(e){e.id!==parseInt(r,10)||e.highlighted?!o&&e.highlighted&&n.unhighlightItem(e):n.highlightItem(e)}),this.input.focus()}}},{key:"_handleChoiceAction",value:function(e,t){if(e&&t){var i=t.getAttribute("data-id"),n=this._store.getChoiceById(i),o=e[0]&&e[0].keyCode?e[0].keyCode:null,r=this.dropdown.isActive;if(n.keyCode=o,this.passedElement.triggerEvent(S.EVENTS.choice,{choice:n}),n&&!n.selected&&!n.disabled)this._canAddItem(e,n.value).response&&(this._addItem({value:n.value,label:n.label,choiceId:n.id,groupId:n.groupId,customProperties:n.customProperties,placeholder:n.placeholder,keyCode:n.keyCode}),this._triggerChange(n.value));this.clearInput(),r&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},{key:"_handleBackspace",value:function(e){if(this.config.removeItems&&e){var t=e[e.length-1],i=e.some(function(e){return e.highlighted});this.config.editItems&&!i&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(i||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}}},{key:"_setLoading",value:function(e){this._store.dispatch((0,u.setIsLoading)(e))}},{key:"_handleLoadingState",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e,i=this.itemList.getChild(".".concat(this.config.classNames.placeholder));t?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?i?i.innerHTML=this.config.loadingText:(i=this._getTemplate("placeholder",this.config.loadingText),this.itemList.append(i)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?i.innerHTML=this._placeholderValue||"":this.input.placeholder=this._placeholderValue||"")}},{key:"_handleSearch",value:function(e){if(e&&this.input.isFocussed){var t=this._store.choices,i=this.config,n=i.searchFloor,o=i.searchChoices,r=t.some(function(e){return!e.active});if(e&&e.length>=n){var s=o?this._searchChoices(e):0;this.passedElement.triggerEvent(S.EVENTS.search,{value:e,resultCount:s})}else r&&(this._isSearching=!1,this._store.dispatch((0,b.activateChoices)(!0)))}}},{key:"_canAddItem",value:function(e,t){var i=!0,n=(0,O.isType)("Function",this.config.addItemText)?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var o=(0,O.existsInArray)(e,t);0<this.config.maxItemCount&&this.config.maxItemCount<=e.length&&(i=!1,n=(0,O.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&o&&i&&(i=!1,n=(0,O.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&i&&(0,O.isType)("Function",this.config.addItemFilterFn)&&!this.config.addItemFilterFn(t)&&(i=!1,n=(0,O.isType)("Function",this.config.customAddItemText)?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:i,notice:n}}},{key:"_ajaxCallback",value:function(){var o=this;return function(e,t,i){if(e&&t){var n=(0,O.isType)("Object",e)?[e]:e;n&&(0,O.isType)("Array",n)&&n.length?(o._handleLoadingState(!1),o._setLoading(!0),n.forEach(function(e){e.choices?o._addGroup({group:e,id:e.id||null,valueKey:t,labelKey:i}):o._addChoice({value:(0,O.fetchFromObject)(e,t),label:(0,O.fetchFromObject)(e,i),isSelected:e.selected,isDisabled:e.disabled,customProperties:e.customProperties,placeholder:e.placeholder})}),o._setLoading(!1),o._isSelectOneElement&&o._selectPlaceholderChoice()):o._handleLoadingState(!1)}}}},{key:"_searchChoices",value:function(e){var t=(0,O.isType)("String",e)?e.trim():e,i=(0,O.isType)("String",this._currentValue)?this._currentValue.trim():this._currentValue;if(t.length<1&&t==="".concat(i," "))return 0;var n=this._store.searchableChoices,o=t,r=[].concat(this.config.searchFields),s=Object.assign(this.config.fuseOptions,{keys:r}),a=new c.default(n,s).search(o);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,b.filterChoices)(a)),a.length}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus),this.containerOuter.element.addEventListener("blur",this._onBlur)),this.input.element.addEventListener("focus",this._onFocus),this.input.element.addEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset),this.input.addEventListeners()}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()}},{key:"_onKeyDown",value:function(e){var t,i=e.target,n=e.keyCode,o=e.ctrlKey,r=e.metaKey;if(i===this.input.element||this.containerOuter.element.contains(i)){var s=this._store.activeItems,a=this.input.isFocussed,c=this.dropdown.isActive,l=this.itemList.hasChildren,u=String.fromCharCode(n),h=S.KEY_CODES.BACK_KEY,d=S.KEY_CODES.DELETE_KEY,f=S.KEY_CODES.ENTER_KEY,p=S.KEY_CODES.A_KEY,v=S.KEY_CODES.ESC_KEY,m=S.KEY_CODES.UP_KEY,g=S.KEY_CODES.DOWN_KEY,_=S.KEY_CODES.PAGE_UP_KEY,y=S.KEY_CODES.PAGE_DOWN_KEY,b=o||r;!this._isTextElement&&/[a-zA-Z0-9-_ ]/.test(u)&&this.showDropdown();var E=(C(t={},p,this._onAKey),C(t,f,this._onEnterKey),C(t,v,this._onEscapeKey),C(t,m,this._onDirectionKey),C(t,_,this._onDirectionKey),C(t,g,this._onDirectionKey),C(t,y,this._onDirectionKey),C(t,d,this._onDeleteKey),C(t,h,this._onDeleteKey),t);E[n]&&E[n]({event:e,target:i,keyCode:n,metaKey:r,activeItems:s,hasFocusedInput:a,hasActiveDropdown:c,hasItems:l,hasCtrlDownKeyPressed:b})}}},{key:"_onKeyUp",value:function(e){var t=e.target,i=e.keyCode;if(t===this.input.element){var n=this.input.value,o=this._store.activeItems,r=this._canAddItem(o,n),s=S.KEY_CODES.BACK_KEY,a=S.KEY_CODES.DELETE_KEY;if(this._isTextElement){if(r.notice&&n){var c=this._getTemplate("notice",r.notice);this.dropdown.element.innerHTML=c.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var l=(i===s||i===a)&&!t.value,u=!this._isTextElement&&this._isSearching,h=this._canSearch&&r.response;l&&u?(this._isSearching=!1,this._store.dispatch((0,b.activateChoices)(!0))):h&&this._handleSearch(this.input.value)}this._canSearch=this.config.searchEnabled}}},{key:"_onAKey",value:function(e){var t=e.hasItems;e.hasCtrlDownKeyPressed&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())}},{key:"_onEnterKey",value:function(e){var t=e.event,i=e.target,n=e.activeItems,o=e.hasActiveDropdown,r=S.KEY_CODES.ENTER_KEY,s=i.hasAttribute("data-button");if(this._isTextElement&&i.value){var a=this.input.value;this._canAddItem(n,a).response&&(this.hideDropdown(!0),this._addItem({value:a}),this._triggerChange(a),this.clearInput())}if(s&&(this._handleButtonAction(n,i),t.preventDefault()),o){var c=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));c&&(n[0]&&(n[0].keyCode=r),this._handleChoiceAction(n,c)),t.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),t.preventDefault())}},{key:"_onEscapeKey",value:function(e){e.hasActiveDropdown&&(this.hideDropdown(!0),this.containerOuter.focus())}},{key:"_onDirectionKey",value:function(e){var t=e.event,i=e.hasActiveDropdown,n=e.keyCode,o=e.metaKey,r=S.KEY_CODES.DOWN_KEY,s=S.KEY_CODES.PAGE_UP_KEY,a=S.KEY_CODES.PAGE_DOWN_KEY;if(i||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var c,l=n===r||n===a?1:-1,u="[data-choice-selectable]";if(o||n===a||n===s)c=0<l?Array.from(this.dropdown.element.querySelectorAll(u)).pop():this.dropdown.element.querySelector(u);else{var h=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));c=h?(0,O.getAdjacentEl)(h,u,l):this.dropdown.element.querySelector(u)}c&&((0,O.isScrolledIntoView)(c,this.choiceList.element,l)||this.choiceList.scrollToChoice(c,l),this._highlightChoice(c)),t.preventDefault()}}},{key:"_onDeleteKey",value:function(e){var t=e.event,i=e.target,n=e.hasFocusedInput,o=e.activeItems;!n||i.value||this._isSelectOneElement||(this._handleBackspace(o),t.preventDefault())}},{key:"_onTouchMove",value:function(){this._wasTap&&(this._wasTap=!1)}},{key:"_onTouchEnd",value:function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&(t!==this.containerOuter.element&&t!==this.containerInner.element||(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation());this._wasTap=!0}},{key:"_onMouseDown",value:function(e){var t=e.target,i=e.shiftKey;if(this.choiceList.element.contains(t)&&(0,O.isIE11)()&&(this._isScrollingOnIe=!0),this.containerOuter.element.contains(t)&&t!==this.input.element){var n=this._store.activeItems,o=i,r=(0,O.findAncestorByAttrName)(t,"data-button"),s=(0,O.findAncestorByAttrName)(t,"data-item"),a=(0,O.findAncestorByAttrName)(t,"data-choice");r?this._handleButtonAction(n,r):s?this._handleItemAction(n,s,o):a&&this._handleChoiceAction(n,a),e.preventDefault()}}},{key:"_onMouseOver",value:function(e){var t=e.target;(t===this.dropdown||this.dropdown.element.contains(t))&&t.hasAttribute("data-choice")&&this._highlightChoice(t)}},{key:"_onClick",value:function(e){var t=e.target;this.containerOuter.element.contains(t)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))}},{key:"_onFocus",value:function(e){var t=this,i=e.target;this.containerOuter.element.contains(i)&&{text:function(){i===t.input.element&&t.containerOuter.addFocusState()},"select-one":function(){t.containerOuter.addFocusState(),i===t.input.element&&t.showDropdown(!0)},"select-multiple":function(){i===t.input.element&&(t.showDropdown(!0),t.containerOuter.addFocusState())}}[this.passedElement.element.type]()}},{key:"_onBlur",value:function(e){var t=this,i=e.target;if(this.containerOuter.element.contains(i)&&!this._isScrollingOnIe){var n=this._store.activeItems.some(function(e){return e.highlighted});({text:function(){i===t.input.element&&(t.containerOuter.removeFocusState(),n&&t.unhighlightAll(),t.hideDropdown(!0))},"select-one":function(){t.containerOuter.removeFocusState(),i!==t.input.element&&(i!==t.containerOuter.element||t._canSearch)||t.hideDropdown(!0)},"select-multiple":function(){i===t.input.element&&(t.containerOuter.removeFocusState(),t.hideDropdown(!0),n&&t.unhighlightAll())}})[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()}},{key:"_onFormReset",value:function(){this._store.dispatch((0,o.resetTo)(this._initialState))}},{key:"_highlightChoice",value:function(e){var t=this,i=0<arguments.length&&void 0!==e?e:null,n=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(n.length){var o=i;Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState))).forEach(function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")}),o?this._highlightPosition=n.indexOf(o):o=(o=n.length>this._highlightPosition?n[this._highlightPosition]:n[n.length-1])||n[0],o.classList.add(this.config.classNames.highlightedState),o.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(S.EVENTS.highlightChoice,{el:o}),this.dropdown.isActive&&(this.input.setActiveDescendant(o.id),this.containerOuter.setActiveDescendant(o.id))}}},{key:"_addItem",value:function(e){var t=e.value,i=e.label,n=void 0===i?null:i,o=e.choiceId,r=void 0===o?-1:o,s=e.groupId,a=void 0===s?-1:s,c=e.customProperties,l=void 0===c?null:c,u=e.placeholder,h=void 0!==u&&u,d=e.keyCode,f=void 0===d?null:d,p=(0,O.isType)("String",t)?t.trim():t,v=f,m=l,g=this._store.items,_=n||p,y=parseInt(r,10)||-1,b=0<=a?this._store.getGroupById(a):null,E=g?g.length+1:1;return this.config.prependValue&&(p=this.config.prependValue+p.toString()),this.config.appendValue&&(p+=this.config.appendValue.toString()),this._store.dispatch((0,I.addItem)({value:p,label:_,id:E,choiceId:y,groupId:a,customProperties:l,placeholder:h,keyCode:v})),this._isSelectOneElement&&this.removeActiveItems(E),this.passedElement.triggerEvent(S.EVENTS.addItem,{id:E,value:p,label:_,customProperties:m,groupValue:b&&b.value?b.value:void 0,keyCode:v}),this}},{key:"_removeItem",value:function(e){if(!e||!(0,O.isType)("Object",e))return this;var t=e.id,i=e.value,n=e.label,o=e.choiceId,r=e.groupId,s=0<=r?this._store.getGroupById(r):null;return this._store.dispatch((0,I.removeItem)(t,o)),s&&s.value?this.passedElement.triggerEvent(S.EVENTS.removeItem,{id:t,value:i,label:n,groupValue:s.value}):this.passedElement.triggerEvent(S.EVENTS.removeItem,{id:t,value:i,label:n}),this}},{key:"_addChoice",value:function(e){var t=e.value,i=e.label,n=void 0===i?null:i,o=e.isSelected,r=void 0!==o&&o,s=e.isDisabled,a=void 0!==s&&s,c=e.groupId,l=void 0===c?-1:c,u=e.customProperties,h=void 0===u?null:u,d=e.placeholder,f=void 0!==d&&d,p=e.keyCode,v=void 0===p?null:p;if(null!=t){var m=this._store.choices,g=n||t,_=m?m.length+1:1,y="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(_);this._store.dispatch((0,b.addChoice)({value:t,label:g,id:_,groupId:l,disabled:a,elementId:y,customProperties:h,placeholder:f,keyCode:v})),r&&this._addItem({value:t,label:g,choiceId:_,customProperties:h,placeholder:f,keyCode:v})}}},{key:"_addGroup",value:function(e){var i=this,t=e.group,n=e.id,o=e.valueKey,r=void 0===o?"value":o,s=e.labelKey,a=void 0===s?"label":s,c=(0,O.isType)("Object",t)?t.choices:Array.from(t.getElementsByTagName("OPTION")),l=n||Math.floor((new Date).valueOf()*Math.random()),u=!!t.disabled&&t.disabled;if(c){this._store.dispatch((0,h.addGroup)(t.label,l,!0,u));c.forEach(function(e){var t=e.disabled||e.parentNode&&e.parentNode.disabled;i._addChoice({value:e[r],label:(0,O.isType)("Object",e)?e[a]:e.innerHTML,isSelected:e.selected,isDisabled:t,groupId:l,customProperties:e.customProperties,placeholder:e.placeholder})})}else this._store.dispatch((0,h.addGroup)(t.label,t.id,!1,t.disabled))}},{key:"_getTemplate",value:function(e){var t;if(!e)return null;for(var i=this.config,n=i.templates,o=i.classNames,r=arguments.length,s=new Array(1<r?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return(t=n[e]).call.apply(t,[this,o].concat(s))}},{key:"_createTemplates",value:function(){var e=this.config.callbackOnCreateTemplates,t={};e&&(0,O.isType)("Function",e)&&(t=e.call(this,O.strToEl)),this.config.templates=(0,s.default)(n.TEMPLATES,t)}},{key:"_createElements",value:function(){this.containerOuter=new l.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new l.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new l.Input({element:this._getTemplate("input"),classNames:this.config.classNames,type:this.passedElement.element.type}),this.choiceList=new l.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new l.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new l.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})}},{key:"_createStructure",value:function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth(!0)),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement?this._addPredefinedChoices():this._isTextElement&&this._addPredefinedItems()}},{key:"_addPredefinedChoices",value:function(){var l=this,e=this.passedElement.optionGroups;if(this._highlightPosition=0,this._isSearching=!1,this._setLoading(!0),e&&e.length){var t=this.passedElement.placeholderOption;t&&"SELECT"===t.parentNode.tagName&&this._addChoice({value:t.value,label:t.innerHTML,isSelected:t.selected,isDisabled:t.disabled,placeholder:!0}),e.forEach(function(e){return l._addGroup({group:e,id:e.id||null})})}else{var i=this.passedElement.options,n=this.config.sortFn,o=this._presetChoices;i.forEach(function(e){o.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:e.hasAttribute("placeholder"),customProperties:e.getAttribute("data-custom-properties")})}),this.config.shouldSort&&o.sort(n);var u=o.some(function(e){return e.selected});o.forEach(function(e,t){return function(e,t){var i=e.value,n=e.label,o=e.customProperties,r=e.placeholder;if(l._isSelectElement)if(e.choices)l._addGroup({group:e,id:e.id||null});else{var s=l._isSelectOneElement&&!u&&0===t,a=!!s||e.selected,c=!s&&e.disabled;l._addChoice({value:i,label:n,isSelected:a,isDisabled:c,customProperties:o,placeholder:r})}else l._addChoice({value:i,label:n,isSelected:e.selected,isDisabled:e.disabled,customProperties:o,placeholder:r})}(e,t)})}this._setLoading(!1)}},{key:"_addPredefinedItems",value:function(){var i=this;this._presetItems.forEach(function(e){return function(e){var t=(0,O.getType)(e);"Object"===t&&e.value?i._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):"String"===t&&i._addItem({value:e})}(e)})}},{key:"_setChoiceOrItem",value:function(e){var t=this;({object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}})[(0,O.getType)(e).toLowerCase()]()}},{key:"_findAndSelectChoiceByValue",value:function(t){var i=this,e=this._store.choices.find(function(e){return i.config.itemComparer(e.value,t)});e&&!e.selected&&this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,customProperties:e.customProperties,placeholder:e.placeholder,keyCode:e.keyCode})}},{key:"_generateInstances",value:function(e,i){return e.reduce(function(e,t){return e.push(new r(t,i)),e},[this])}},{key:"_generatePlaceholderValue",value:function(){return!this._isSelectOneElement&&(!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.element.getAttribute("placeholder")))}}]),r}();f.userDefaults={},e.exports=f},function(e,t,i){var n;n=function(){return n={},o.m=i={"./src/bitap/bitap_matched_indices.js":function(e,t){e.exports=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=[],n=-1,o=-1,r=0,s=e.length;r<s;r+=1){var a=e[r];a&&-1===n?n=r:a||-1===n||(t<=(o=r-1)-n+1&&i.push([n,o]),n=-1)}return e[r-1]&&t<=r-n&&i.push([n,r-1]),i}},"./src/bitap/bitap_pattern_alphabet.js":function(e,t){e.exports=function(e){for(var t={},i=e.length,n=0;n<i;n+=1)t[e.charAt(n)]=0;for(var o=0;o<i;o+=1)t[e.charAt(o)]|=1<<i-o-1;return t}},"./src/bitap/bitap_regex_search.js":function(e,t){var u=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:/ +/g,n=new RegExp(t.replace(u,"\\$&").replace(i,"|")),o=e.match(n),r=!!o,s=[];if(r)for(var a=0,c=o.length;a<c;a+=1){var l=o[a];s.push([e.indexOf(l),l.length-1])}return{score:r?.5:1,isMatch:r,matchedIndices:s}}},"./src/bitap/bitap_score.js":function(e,t){e.exports=function(e,t){var i=t.errors,n=void 0===i?0:i,o=t.currentLocation,r=void 0===o?0:o,s=t.expectedLocation,a=void 0===s?0:s,c=t.distance,l=void 0===c?100:c,u=n/e.length,h=Math.abs(a-r);return l?u+h/l:h?1:u}},"./src/bitap/bitap_search.js":function(e,t,i){var N=i("./src/bitap/bitap_score.js"),F=i("./src/bitap/bitap_matched_indices.js");e.exports=function(e,t,i,n){for(var o=n.location,r=void 0===o?0:o,s=n.distance,a=void 0===s?100:s,c=n.threshold,l=void 0===c?.6:c,u=n.findAllMatches,h=void 0!==u&&u,d=n.minMatchCharLength,f=void 0===d?1:d,p=r,v=e.length,m=l,g=e.indexOf(t,p),_=t.length,y=[],b=0;b<v;b+=1)y[b]=0;if(-1!==g){var E=N(t,{errors:0,currentLocation:g,expectedLocation:p,distance:a});if(m=Math.min(E,m),-1!==(g=e.lastIndexOf(t,p+_))){var S=N(t,{errors:0,currentLocation:g,expectedLocation:p,distance:a});m=Math.min(S,m)}}g=-1;for(var I=[],O=1,C=_+v,T=1<<_-1,w=0;w<_;w+=1){for(var k=0,A=C;k<A;){N(t,{errors:w,currentLocation:p+A,expectedLocation:p,distance:a})<=m?k=A:C=A,A=Math.floor((C-k)/2+k)}C=A;var L=Math.max(1,p-A+1),x=h?v:Math.min(p+A,v)+_,P=Array(x+2);P[x+1]=(1<<w)-1;for(var D=x;L<=D;D-=1){var j=D-1,M=i[e.charAt(j)];if(M&&(y[j]=1),P[D]=(P[D+1]<<1|1)&M,0!==w&&(P[D]|=(I[D+1]|I[D])<<1|1|I[D+1]),P[D]&T&&(O=N(t,{errors:w,currentLocation:j,expectedLocation:p,distance:a}))<=m){if(m=O,(g=j)<=p)break;L=Math.max(1,2*p-g)}}if(m<N(t,{errors:w+1,currentLocation:p,expectedLocation:p,distance:a}))break;I=P}return{isMatch:0<=g,score:0===O?.001:O,matchedIndices:F(y,f)}}},"./src/bitap/index.js":function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=i("./src/bitap/bitap_regex_search.js"),h=i("./src/bitap/bitap_search.js"),y=i("./src/bitap/bitap_pattern_alphabet.js"),o=function(){function _(e,t){var i=t.location,n=void 0===i?0:i,o=t.distance,r=void 0===o?100:o,s=t.threshold,a=void 0===s?.6:s,c=t.maxPatternLength,l=void 0===c?32:c,u=t.isCaseSensitive,h=void 0!==u&&u,d=t.tokenSeparator,f=void 0===d?/ +/g:d,p=t.findAllMatches,v=void 0!==p&&p,m=t.minMatchCharLength,g=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),this.options={location:n,distance:r,threshold:a,maxPatternLength:l,isCaseSensitive:h,tokenSeparator:f,findAllMatches:v,minMatchCharLength:g},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=l&&(this.patternAlphabet=y(this.pattern))}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(_,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,i=t.maxPatternLength,n=t.tokenSeparator;if(this.pattern.length>i)return u(e,this.pattern,n);var o=this.options,r=o.location,s=o.distance,a=o.threshold,c=o.findAllMatches,l=o.minMatchCharLength;return h(e,this.pattern,this.patternAlphabet,{location:r,distance:s,threshold:a,findAllMatches:c,minMatchCharLength:l})}}]),_}();e.exports=o},"./src/helpers/deep_value.js":function(e,t,i){var u=i("./src/helpers/is_array.js");e.exports=function(e,t){return function e(t,i,n){if(i){var o=i.indexOf("."),r=i,s=null;-1!==o&&(r=i.slice(0,o),s=i.slice(o+1));var a=t[r];if(null!=a)if(s||"string"!=typeof a&&"number"!=typeof a)if(u(a))for(var c=0,l=a.length;c<l;c+=1)e(a[c],s,n);else s&&e(a,s,n);else n.push(a.toString())}else n.push(t);return n}(e,t,[])}},"./src/helpers/is_array.js":function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},"./src/index.js":function(e,t,i){function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=i("./src/bitap/index.js"),R=i("./src/helpers/deep_value.js"),N=i("./src/helpers/is_array.js"),o=function(){function K(e,t){var i=t.location,n=void 0===i?0:i,o=t.distance,r=void 0===o?100:o,s=t.threshold,a=void 0===s?.6:s,c=t.maxPatternLength,l=void 0===c?32:c,u=t.caseSensitive,h=void 0!==u&&u,d=t.tokenSeparator,f=void 0===d?/ +/g:d,p=t.findAllMatches,v=void 0!==p&&p,m=t.minMatchCharLength,g=void 0===m?1:m,_=t.id,y=void 0===_?null:_,b=t.keys,E=void 0===b?[]:b,S=t.shouldSort,I=void 0===S||S,O=t.getFn,C=void 0===O?R:O,T=t.sortFn,w=void 0===T?function(e,t){return e.score-t.score}:T,k=t.tokenize,A=void 0!==k&&k,L=t.matchAllTokens,x=void 0!==L&&L,P=t.includeMatches,D=void 0!==P&&P,j=t.includeScore,M=void 0!==j&&j,N=t.verbose,F=void 0!==N&&N;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,K),this.options={location:n,distance:r,threshold:a,maxPatternLength:l,isCaseSensitive:h,tokenSeparator:f,findAllMatches:v,minMatchCharLength:g,id:y,keys:E,includeMatches:D,includeScore:M,shouldSort:I,getFn:C,sortFn:w,verbose:F,tokenize:A,matchAllTokens:x},this.setCollection(e)}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(K,[{key:"setCollection",value:function(e){return this.list=e}},{key:"search",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),o=n.tokenSearchers,r=n.fullSearcher,s=this._search(o,r),a=s.weights,c=s.results;return this._computeScore(a,c),this.options.shouldSort&&this._sort(c),i.limit&&"number"==typeof i.limit&&(c=c.slice(0,i.limit)),this._format(c)}},{key:"_prepareSearchers",value:function(e){var t=0<arguments.length&&void 0!==e?e:"",i=[];if(this.options.tokenize)for(var n=t.split(this.options.tokenSeparator),o=0,r=n.length;o<r;o+=1)i.push(new s(n[o],this.options));return{tokenSearchers:i,fullSearcher:new s(t,this.options)}}},{key:"_search",value:function(e,t){var i=0<arguments.length&&void 0!==e?e:[],n=1<arguments.length?t:void 0,o=this.list,r={},s=[];if("string"==typeof o[0]){for(var a=0,c=o.length;a<c;a+=1)this._analyze({key:"",value:o[a],record:a,index:a},{resultMap:r,results:s,tokenSearchers:i,fullSearcher:n});return{weights:null,results:s}}for(var l={},u=0,h=o.length;u<h;u+=1)for(var d=o[u],f=0,p=this.options.keys.length;f<p;f+=1){var v=this.options.keys[f];if("string"!=typeof v){if(l[v.name]={weight:1-v.weight||1},v.weight<=0||1<v.weight)throw new Error("Key weight has to be > 0 and <= 1");v=v.name}else l[v]={weight:1};this._analyze({key:v,value:this.options.getFn(d,v),record:d,index:u},{resultMap:r,results:s,tokenSearchers:i,fullSearcher:n})}return{weights:l,results:s}}},{key:"_analyze",value:function(e,t){var i=e.key,n=e.arrayIndex,o=void 0===n?-1:n,r=e.value,s=e.record,a=e.index,c=t.tokenSearchers,l=void 0===c?[]:c,u=t.fullSearcher,h=void 0===u?[]:u,d=t.resultMap,f=void 0===d?{}:d,p=t.results,v=void 0===p?[]:p;if(null!=r){var m=!1,g=-1,_=0;if("string"==typeof r){this._log("\nKey: ".concat(""===i?"-":i));var y=h.search(r);if(this._log('Full text: "'.concat(r,'", score: ').concat(y.score)),this.options.tokenize){for(var b=r.split(this.options.tokenSeparator),E=[],S=0;S<l.length;S+=1){var I=l[S];this._log('\nPattern: "'.concat(I.pattern,'"'));for(var O=!1,C=0;C<b.length;C+=1){var T=b[C],w=I.search(T),k={};w.isMatch?(k[T]=w.score,O=m=!0,E.push(w.score)):(k[T]=1,this.options.matchAllTokens||E.push(1)),this._log('Token: "'.concat(T,'", score: ').concat(k[T]))}O&&(_+=1)}g=E[0];for(var A=E.length,L=1;L<A;L+=1)g+=E[L];g/=A,this._log("Token score average:",g)}var x=y.score;-1<g&&(x=(x+g)/2),this._log("Score average:",x);var P=!this.options.tokenize||!this.options.matchAllTokens||_>=l.length;if(this._log("\nCheck Matches: ".concat(P)),(m||y.isMatch)&&P){var D=f[a];D?D.output.push({key:i,arrayIndex:o,value:r,score:x,matchedIndices:y.matchedIndices}):(f[a]={item:s,output:[{key:i,arrayIndex:o,value:r,score:x,matchedIndices:y.matchedIndices}]},v.push(f[a]))}}else if(N(r))for(var j=0,M=r.length;j<M;j+=1)this._analyze({key:i,arrayIndex:j,value:r[j],record:s,index:a},{resultMap:f,results:v,tokenSearchers:l,fullSearcher:h})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var i=0,n=t.length;i<n;i+=1){for(var o=t[i].output,r=o.length,s=1,a=1,c=0;c<r;c+=1){var l=e?e[o[c].key].weight:1,u=(1===l?o[c].score:o[c].score||.001)*l;1!==l?a=Math.min(a,u):s*=o[c].nScore=u}t[i].score=1===a?s:a,this._log(t[i])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var i=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===u(t)&&null!==t){if(-1!==i.indexOf(t))return;i.push(t)}return t})),i=null}var n=[];this.options.includeMatches&&n.push(function(e,t){var i=e.output;t.matches=[];for(var n=0,o=i.length;n<o;n+=1){var r=i[n];if(0!==r.matchedIndices.length){var s={indices:r.matchedIndices,value:r.value};r.key&&(s.key=r.key),r.hasOwnProperty("arrayIndex")&&-1<r.arrayIndex&&(s.arrayIndex=r.arrayIndex),t.matches.push(s)}}}),this.options.includeScore&&n.push(function(e,t){t.score=e.score});for(var o=0,r=e.length;o<r;o+=1){var s=e[o];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),n.length){for(var a={item:s.item},c=0,l=n.length;c<l;c+=1)n[c](s,a);t.push(a)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),K}();e.exports=o}},o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./src/index.js");function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var i,n},e.exports=n()},function(e,t,i){"use strict";i.r(t);var o=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function s(e,t,i){return e.concat(t).map(function(e){return r(e,i)})}function a(e,t,i){(i=i||{}).arrayMerge=i.arrayMerge||s,i.isMergeableObject=i.isMergeableObject||o;var n=Array.isArray(t);return n===Array.isArray(e)?n?i.arrayMerge(e,t,i):function(t,i,n){var o={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(e){o[e]=r(t[e],n)}),Object.keys(i).forEach(function(e){n.isMergeableObject(i[e])&&t[e]?o[e]=a(t[e],i[e],n):o[e]=r(i[e],n)}),o}(e,t,i):r(t,i)}a.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,t){return a(e,t,i)},{})};var c=a;t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=i(6),r=(n=i(15))&&n.__esModule?n:{default:n};function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=(0,o.createStore)(r.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return function(e,t,i){t&&s(e.prototype,t),i&&s(e,i)}(e,[{key:"subscribe",value:function(e){this._store.subscribe(e)}},{key:"dispatch",value:function(e){this._store.dispatch(e)}},{key:"isLoading",value:function(){return this.state.general.loading}},{key:"getChoiceById",value:function(t){return!!t&&this.activeChoices.find(function(e){return e.id===parseInt(t,10)})}},{key:"getGroupById",value:function(t){return this.groups.find(function(e){return e.id===parseInt(t,10)})}},{key:"state",get:function(){return this._store.getState()}},{key:"items",get:function(){return this.state.items}},{key:"activeItems",get:function(){return this.items.filter(function(e){return!0===e.active})}},{key:"highlightedActiveItems",get:function(){return this.items.filter(function(e){return e.active&&e.highlighted})}},{key:"choices",get:function(){return this.state.choices}},{key:"activeChoices",get:function(){return this.choices.filter(function(e){return!0===e.active})}},{key:"selectableChoices",get:function(){return this.choices.filter(function(e){return!0!==e.disabled})}},{key:"searchableChoices",get:function(){return this.selectableChoices.filter(function(e){return!0!==e.placeholder})}},{key:"placeholderChoice",get:function(){return[].concat(this.choices).reverse().find(function(e){return!0===e.placeholder})}},{key:"groups",get:function(){return this.state.groups}},{key:"activeGroups",get:function(){var e=this.groups,n=this.choices;return e.filter(function(e){var t=!0===e.active&&!1===e.disabled,i=n.some(function(e){return!0===e.active&&!1===e.disabled});return t&&i},[])}}]),e}();t.default=a},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(6),o=l(i(16)),r=l(i(17)),s=l(i(18)),a=l(i(19)),c=i(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var i=e;if("CLEAR_ALL"===t.type)i=void 0;else if("RESET_TO"===t.type)return(0,c.cloneObject)(t.state);return h(i,t)}var h=(0,n.combineReducers)({items:o.default,groups:r.default,choices:s.default,general:a.default});t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,i=1<arguments.length?arguments[1]:void 0;switch(i.type){case"ADD_ITEM":return[].concat(e,[{id:i.id,choiceId:i.choiceId,groupId:i.groupId,value:i.value,label:i.label,active:!0,highlighted:!1,customProperties:i.customProperties,placeholder:i.placeholder||!1,keyCode:null}]).map(function(e){var t=e;return t.highlighted=!1,t});case"REMOVE_ITEM":return e.map(function(e){var t=e;return t.id===i.id&&(t.active=!1),t});case"HIGHLIGHT_ITEM":return e.map(function(e){var t=e;return t.id===i.id&&(t.highlighted=i.highlighted),t});default:return e}},t.defaultState=void 0;var n=[];t.defaultState=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"ADD_GROUP":return[].concat(e,[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return[];default:return e}},t.defaultState=void 0;var n=[];t.defaultState=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n,i=1<arguments.length?arguments[1]:void 0;switch(i.type){case"ADD_CHOICE":return[].concat(e,[{id:i.id,elementId:i.elementId,groupId:i.groupId,value:i.value,label:i.label||i.value,disabled:i.disabled||!1,selected:!1,active:!0,score:9999,customProperties:i.customProperties,placeholder:i.placeholder||!1,keyCode:null}]);case"ADD_ITEM":return i.activateOptions?e.map(function(e){var t=e;return t.active=i.active,t}):-1<i.choiceId?e.map(function(e){var t=e;return t.id===parseInt(i.choiceId,10)&&(t.selected=!0),t}):e;case"REMOVE_ITEM":return-1<i.choiceId?e.map(function(e){var t=e;return t.id===parseInt(i.choiceId,10)&&(t.selected=!1),t}):e;case"FILTER_CHOICES":return e.map(function(e){var n=e;return n.active=i.results.some(function(e){var t=e.item,i=e.score;return t.id===n.id&&(n.score=i,!0)}),n});case"ACTIVATE_CHOICES":return e.map(function(e){var t=e;return t.active=i.active,t});case"CLEAR_CHOICES":return n;default:return e}},t.defaultState=void 0;var n=[];t.defaultState=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultState=void 0;var o={loading:!1};t.defaultState=o;function n(e,t){var i=0<arguments.length&&void 0!==e?e:o,n=1<arguments.length?t:void 0;switch(n.type){case"SET_IS_LOADING":return{loading:n.isLoading};default:return i}}t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Dropdown",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Input",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"WrappedInput",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"WrappedSelect",{enumerable:!0,get:function(){return c.default}});var n=l(i(21)),o=l(i(22)),r=l(i(23)),s=l(i(24)),a=l(i(25)),c=l(i(26));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function o(e){var t=e.element,i=e.type,n=e.classNames;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Object.assign(this,{element:t,type:i,classNames:n}),this.isActive=!1}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(o,[{key:"distanceFromTopWindow",value:function(){return this.dimensions=this.element.getBoundingClientRect(),this.position=Math.ceil(this.dimensions.top+window.pageYOffset+this.element.offsetHeight),this.position}},{key:"getChild",value:function(e){return this.element.querySelector(e)}},{key:"show",value:function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this}},{key:"hide",value:function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this}}]),o}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(0);function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function r(e){var t=e.element,i=e.type,n=e.classNames,o=e.position;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Object.assign(this,{element:t,classNames:n,type:i,position:o}),this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(r,[{key:"addEventListeners",value:function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)}},{key:"removeEventListeners",value:function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)}},{key:"shouldFlip",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,n.getWindowHeight)();if(void 0===e)return!1;var i=!1;return"auto"===this.position?i=t<=e:"top"===this.position&&(i=!0),i}},{key:"setActiveDescendant",value:function(e){this.element.setAttribute("aria-activedescendant",e)}},{key:"removeActiveDescendant",value:function(){this.element.removeAttribute("aria-activedescendant")}},{key:"open",value:function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)}},{key:"close",value:function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)}},{key:"focus",value:function(){this.isFocussed||this.element.focus()}},{key:"addFocusState",value:function(){this.element.classList.add(this.classNames.focusState)}},{key:"removeFocusState",value:function(){this.element.classList.remove(this.classNames.focusState)}},{key:"enable",value:function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),"select-one"===this.type&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1}},{key:"disable",value:function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),"select-one"===this.type&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0}},{key:"wrap",value:function(e){(0,n.wrap)(e,this.element)}},{key:"unwrap",value:function(e){this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element)}},{key:"addLoadingState",value:function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0}},{key:"removeLoadingState",value:function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1}},{key:"_onFocus",value:function(){this.isFocussed=!0}},{key:"_onBlur",value:function(){this.isFocussed=!1}}]),r}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(0);function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function r(e){var t=e.element,i=e.type,n=e.classNames,o=e.placeholderValue;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),Object.assign(this,{element:t,type:i,classNames:n,placeholderValue:o}),this.element=t,this.classNames=n,this.isFocussed=this.element===document.activeElement,this.isDisabled=!1,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(r,[{key:"addEventListeners",value:function(){this.element.addEventListener("input",this._onInput),this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur),this.element.form&&this.element.form.addEventListener("reset",this._onFormReset)}},{key:"removeEventListeners",value:function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur),this.element.form&&this.element.form.removeEventListener("reset",this._onFormReset)}},{key:"enable",value:function(){this.element.removeAttribute("disabled"),this.isDisabled=!1}},{key:"disable",value:function(){this.element.setAttribute("disabled",""),this.isDisabled=!0}},{key:"focus",value:function(){this.isFocussed||this.element.focus()}},{key:"blur",value:function(){this.isFocussed&&this.element.blur()}},{key:"clear",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;return this.element.value&&(this.element.value=""),t&&this.setWidth(),this}},{key:"setWidth",value:function(e){function t(e){i.element.style.width=e}var i=this;if(this._placeholderValue){var n=this.element.value.length>=this._placeholderValue.length/1.25;(this.element.value&&n||e)&&this.calcWidth(t)}else this.calcWidth(t)}},{key:"calcWidth",value:function(e){return(0,n.calcWidthOfInput)(this.element,e)}},{key:"setActiveDescendant",value:function(e){this.element.setAttribute("aria-activedescendant",e)}},{key:"removeActiveDescendant",value:function(){this.element.removeAttribute("aria-activedescendant")}},{key:"_onInput",value:function(){"select-one"!==this.type&&this.setWidth()}},{key:"_onPaste",value:function(e){e.target===this.element&&this.preventPaste&&e.preventDefault()}},{key:"_onFocus",value:function(){this.isFocussed=!0}},{key:"_onBlur",value:function(){this.isFocussed=!1}},{key:"placeholder",set:function(e){this.element.placeholder=e}},{key:"value",set:function(e){this.element.value=e},get:function(){return(0,n.sanitise)(this.element.value)}}]),r}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(1);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function i(e){var t=e.element;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Object.assign(this,{element:t}),this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight,this.hasChildren=!!this.element.children}return function(e,t,i){t&&n(e.prototype,t),i&&n(e,i)}(i,[{key:"clear",value:function(){this.element.innerHTML=""}},{key:"append",value:function(e){this.element.appendChild(e)}},{key:"getChild",value:function(e){return this.element.querySelector(e)}},{key:"scrollToTop",value:function(){this.element.scrollTop=0}},{key:"scrollToChoice",value:function(e,t){var i=this;if(e){var n=this.element.offsetHeight,o=e.offsetHeight,r=e.offsetTop+o,s=this.element.scrollTop+n,a=0<t?this.element.scrollTop+r-s:e.offsetTop;requestAnimationFrame(function(e){i._animateScroll(e,a,t)})}}},{key:"_scrollDown",value:function(e,t,i){var n=(i-e)/t,o=1<n?n:1;this.element.scrollTop=e+o}},{key:"_scrollUp",value:function(e,t,i){var n=(e-i)/t,o=1<n?n:1;this.element.scrollTop=e-o}},{key:"_animateScroll",value:function(e,t,i){var n=this,o=a.SCROLLING_SPEED,r=this.element.scrollTop,s=!1;0<i?(this._scrollDown(r,o,t),r<t&&(s=!0)):(this._scrollUp(r,o,t),t<r&&(s=!0)),s&&requestAnimationFrame(function(){n._animateScroll(e,t,i)})}}]),i}();t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=i(4))&&n.__esModule?n:{default:n};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function c(e,t,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function r(e){var t,i=e.element,n=e.classNames,o=e.delimiter;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=a(this,l(r).call(this,{element:i,classNames:n}))).delimiter=o,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(r,o.default),function(e,t,i){t&&s(e.prototype,t),i&&s(e,i)}(r,[{key:"value",set:function(e){var t=e.map(function(e){return e.value}).join(this.delimiter);this.element.setAttribute("value",t),this.element.value=t},get:function(){return c(l(r.prototype),"value",this)}}]),r}();t.default=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i(4)),r=n(i(5));function n(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(){function n(e){var t=e.element,i=e.classNames;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),c(this,l(n).call(this,{element:t,classNames:i}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,o.default),function(e,t,i){t&&a(e.prototype,t),i&&a(e,i)}(n,[{key:"appendDocFragment",value:function(e){this.element.innerHTML="",this.element.appendChild(e)}},{key:"placeholderOption",get:function(){return this.element.querySelector("option[placeholder]")}},{key:"optionGroups",get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))}},{key:"options",get:function(){return Array.from(this.element.options)},set:function(e){var i=document.createDocumentFragment();e.forEach(function(e){return function(e){var t=r.default.option(e);i.appendChild(t)}(e)}),this.appendDocFragment(i)}}]),n}();t.default=h},function(e,t,i){var n;!function(){"use strict";var s={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var n=typeof i;if("string"==n||"number"==n)e.push(i);else if(Array.isArray(i)&&i.length){var o=a.apply(null,i);o&&e.push(o)}else if("object"==n)for(var r in i)s.call(i,r)&&i[r]&&e.push(r)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearChoices=t.activateChoices=t.filterChoices=t.addChoice=void 0;var u=i(1);t.addChoice=function(e){var t=e.value,i=e.label,n=e.id,o=e.groupId,r=e.disabled,s=e.elementId,a=e.customProperties,c=e.placeholder,l=e.keyCode;return{type:u.ACTION_TYPES.ADD_CHOICE,value:t,label:i,id:n,groupId:o,disabled:r,elementId:s,customProperties:a,placeholder:c,keyCode:l}};t.filterChoices=function(e){return{type:u.ACTION_TYPES.FILTER_CHOICES,results:e}};t.activateChoices=function(e){var t=!(0<arguments.length&&void 0!==e)||e;return{type:u.ACTION_TYPES.ACTIVATE_CHOICES,active:t}};t.clearChoices=function(){return{type:u.ACTION_TYPES.CLEAR_CHOICES}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highlightItem=t.removeItem=t.addItem=void 0;var l=i(1);t.addItem=function(e){var t=e.value,i=e.label,n=e.id,o=e.choiceId,r=e.groupId,s=e.customProperties,a=e.placeholder,c=e.keyCode;return{type:l.ACTION_TYPES.ADD_ITEM,value:t,label:i,id:n,choiceId:o,groupId:r,customProperties:s,placeholder:a,keyCode:c}};t.removeItem=function(e,t){return{type:l.ACTION_TYPES.REMOVE_ITEM,id:e,choiceId:t}};t.highlightItem=function(e,t){return{type:l.ACTION_TYPES.HIGHLIGHT_ITEM,id:e,highlighted:t}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addGroup=void 0;var o=i(1);t.addGroup=function(e,t,i,n){return{type:o.ACTION_TYPES.ADD_GROUP,value:e,id:t,active:i,disabled:n}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetTo=t.clearAll=void 0;t.clearAll=function(){return{type:"CLEAR_ALL"}};t.resetTo=function(e){return{type:"RESET_TO",state:e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIsLoading=void 0;t.setIsLoading=function(e){return{type:"SET_IS_LOADING",isLoading:e}}}],o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/public/assets/scripts/",o(o.s=9);function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var i,n});
